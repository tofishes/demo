Content-Type: multipart/related; start=<op.mhtml.1313653939578.76fdd52b040164d0@192.168.0.126>; boundary=----------ufU1AayX7nQgaratz9kvQS
Content-Location: http://jasongreen.iteye.com/blog/356412
Subject: =?utf-8?Q?python=E6=A8=A1=E6=9D=BF=E6=AF=94=E8=BE=83=20-=20=E6=A1=82=E6=9E=97=E7=9A=84=E5=8D=9A=E5=AE=A2=20-=20ITeye=E6=8A=80=E6=9C=AF=E7=BD=91=E7=AB=99?=
MIME-Version: 1.0

------------ufU1AayX7nQgaratz9kvQS
Content-Disposition: inline; filename=356412.htm
Content-Type: text/html; charset=utf-8; name=356412.htm
Content-ID: <op.mhtml.1313653939578.76fdd52b040164d0@192.168.0.126>
Content-Location: http://jasongreen.iteye.com/blog/356412
Content-Transfer-Encoding: 8bit

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-CN" dir="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <title>python模板比较 - 桂林的博客 - ITeye技术网站</title>
    <meta name="description" content="django-template ,代码写起来很美观，但是太弱了。 mako , 小强，小而强大，编译为python代码，性能优异。但就是 % for  % if 的语法感觉很奇怪， block的用法也比较不同，不习惯。 jinja , 正在看，从设计初衷上看，它的目标是替换django-template ，拥有和django-template 极其相似的风格，并且更加强大。 Cheetah ，他的语 ..." />
    <meta name="keywords" content="Python, Django, XML python模板比较" />
    <link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon" />
    <link rel="search" type="application/opensearchdescription+xml" href="/open_search.xml" title="ITeye" />
    <link href="/rss" rel="alternate" title="桂林的博客" type="application/rss+xml" />
    <link href="http://www.iteye.com/stylesheets/blog.css?1313400472" media="screen" rel="stylesheet" type="text/css" />
<link href="http://www.iteye.com/stylesheets/themes/blog/black.css?1308833137" media="screen" rel="stylesheet" type="text/css" />
    <script src="http://js.iteye.com/javascripts/application.js?1312179727" type="text/javascript"></script>
    <script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-535605-1']);
  _gaq.push(['_setDomainName', '.iteye.com']);
  _gaq.push(['_setAllowHash', 'false']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

      <link href="http://www.iteye.com/javascripts/syntaxhighlighter/SyntaxHighlighter.css?1308833137" media="screen" rel="stylesheet" type="text/css" />
  <script src="http://www.iteye.com/javascripts/syntaxhighlighter/shCoreCommon.js?1308833137" type="text/javascript"></script>
<script src="http://www.iteye.com/javascripts/hotkey.js?1308833137" type="text/javascript"></script>
  <script src="http://www.iteye.com/javascripts/code_favorites.js?1308833137" type="text/javascript"></script>
<script src="http://www.iteye.com/javascripts/weiboshare.js?1311688568" type="text/javascript"></script>
  <style>
    div#main {background-color: transparent; border: 0; padding: 0px; width: 740px;}
  </style>
  <link href="http://www.iteye.com/javascripts/editor/css/ui.css?1308833137" media="screen" rel="stylesheet" type="text/css" />
  <script src="http://www.iteye.com/javascripts/editor/compress.js?1308833137" type="text/javascript"></script>
  </head>
  <body>
    <div id="header">
      <div id="blog_site_nav">
  <a href="http://www.iteye.com/" class="homepage">首页</a>
  <a href="http://www.iteye.com/news">资讯</a>
  <a href="http://www.iteye.com/forums">论坛</a>
  <a href="http://www.iteye.com/ask">问答</a>
  <a href="http://www.iteye.com/blogs">博客</a>
  <a href="http://www.iteye.com/groups">群组</a>
  <a href="#" onclick="return false;" id="msna"><u>更多</u> <small>▼</small></a>
  <div class="quick_menu" style="display:none;">
    <a href="http://www.iteye.com/job">招聘</a>
    <a href="http://www.iteye.com/search">搜索</a>
  </div>
</div>
      <div id="user_nav">
      <a href="/login" class="welcome" title="登录">您还未登录 !</a>
    <a href="http://www.iteye.com/all" style="color:red">我的应用</a>
    <a href="/login">登录</a>
    <a href="/signup" class="nobg">注册</a>
  </div>
    </div>

    <div id="page">
      <div id="branding" class="clearfix">
        <div id="blog_name"><h1><a href="/">桂林的博客</a></h1></div>
        <div id="blog_preview">
          
        </div>
        <div id="blog_domain">永久域名 <a href="/">http://jasongreen.iteye.com</a></div>
      </div>
      
      <div id="content" class="clearfix">
        <div id="main">
          


          


<div class="blog_main">
  <div class="blog_nav">
    
    <div class="pre_next">
      <a href="/blog/356609" class="next" title="答复: 重庆上万应届生弃高考 &quot;读书无用论&quot;蔓延农村 ">答复: 重庆上万应届生弃高考 &quot;读书无用论&quot; ...</a>
      |
      <a href="/blog/354756" class="pre" title="做大的感悟">做大的感悟</a>
    </div>
  </div>
  <div class="blog_title">
    <div class="date"><span class='year'>2009</span><span class='sep_year'>-</span><span class='month'>03</span><span class='sep_month'>-</span><span class='day'>27</span></div>
    <h3>
      <a href="/blog/356412">python模板比较</a>
      <em class="actions">      </em>
    </h3>
    <ul class='blog_categories'><strong>博客分类：</strong> <li><a href="/category/26422">python</a></li> </ul>
        <div class='news_tag'><a href="http://www.iteye.com/blogs/tag/Python">Python</a><a href="http://www.iteye.com/blogs/tag/Django">Django</a><a href="http://www.iteye.com/blogs/tag/XML">XML</a></div>
  </div>

  <div id="blog_content" class="blog_content">
    django-template ,代码写起来很美观，但是太弱了。
<br />
<br />mako , 小强，小而强大，编译为python代码，性能优异。但就是 % for&nbsp; % if 的语法感觉很奇怪， block的用法也比较不同，不习惯。
<br />
<br />jinja , 正在看，从设计初衷上看，它的目标是替换django-template ，拥有和django-template 极其相似的风格，并且更加强大。
<br />
<br />Cheetah ，他的语法我不太喜欢，非tag式的。代码凌乱。
<br />
<br />Genshi 引用一段话
<br />
<br /><div class="quote_title">引用</div><div class="quote_div">genshi 刚成取代 kid 之势，看来 myghty 就快要被 mako 取代了，呵呵。
<br />genshi/kid 的特点在于方便灵活的 xml 生成；mako/myghty 是用来生成任意形式的模版的，特点在于将 python 语言优雅地植入到模版中，并且将模版编译成 python 代码，获得极高的性能。
<br />而这两组中的前者都超越了后者一大步！难道 genshi 和 mako 要平分(django以外的)模版世界了？拭目以待。
<br />另外由于 mako 将模版查找的逻辑抽象到灵活的 TemplateLookup 里面 (窃以为是学习了 django 模版的思想)，我想在要在 django 的基于 app 的架构中应用 mako 模版应该不是难事，有机会要尝试一下。
<br />再另外 mako 模版还吸收了 django 模版中的 filter 的概念。</div>
<br />
<br />引用，mako 主页上的性能测试。
<br />
<br /><div class="quote_title">引用</div><div class="quote_div">Insanely Fast. An included bench suite, adapted from a suite included with Genshi, has these results for a simple three-sectioned layout:
<br />Mako:	1.10 ms	&nbsp; 
<br />Cheetah:	1.10 ms		
<br />Django:	2.74 ms	&nbsp; 	
<br />Myghty:	4.52 ms
<br />Genshi:	11.46 ms
<br />Kid:	14.54 ms
<br />
<br />Since a speed test is always a flashpoint for controversy, and you can modify the bench to show different variances, the point here is not that "Mako is faster"; its not meant as a competitive point. The point is, "Mako is as fast as any of the other currently popular approaches". </div>
<br />
<br />综合来看，我觉得<span style="color: red">jinja</span>，这个小日本开发的模板语言是django开发最好的选择
  </div>

  


  <div>
      <script type="text/javascript"><!--
      google_ad_client = "pub-5093888354340048";
      google_ad_slot = "7137019588";
      google_ad_width = 468;
      google_ad_height = 60;
      //--></script>
      <script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
      </script>
    </div>
  
  <div id="bottoms" class="clearfix">
    
    <div id="share_weibo">分享到：
      <a data-type='sina' href="javascript:;" title="分享到新浪微博"><img src="/images/t_sina.gif"></a>
      <a data-type='qq' href="javascript:;" title="分享到腾讯微博"><img src="/images/t_qq.gif"></a>
    </div>
  </div>

  <div class="blog_nav">
    <div class="pre_next">
      <a href="/blog/356609" class="next" title="答复: 重庆上万应届生弃高考 &quot;读书无用论&quot;蔓延农村 ">答复: 重庆上万应届生弃高考 &quot;读书无用论&quot; ...</a>
      |
      <a href="/blog/354756" class="pre" title="做大的感悟">做大的感悟</a>
    </div>
  </div>
  <div class="blog_bottom">
    <ul>
      <li>21:11</li>
      <li><a href="#comments">评论</a> / 浏览 (1 / 2005)</li>
      
      
            
      
      <li class='last'><a href="http://www.iteye.com/wiki/blog/356412" target="_blank" class="more">相关推荐</a></li>
    </ul>
  </div>

  <div class="blog_comment">
    <h5>评论</h5>
    <a id="comments" name="comments"></a>
    <div id="bc1619773">
  <div class="comment_title">
    1 楼
    <a href='http://jqxl0205.iteye.com' target='_blank'>jqxl0205</a>
    2010-08-10&nbsp;&nbsp;
    <a href="#" onclick="quote_comment(1619773);return false;">引用</a>
    
  </div>
  <div class="comment_content">jinja 不是日本人开发的。。。</div>
</div>


    
    
  </div>

  <div class="blog_comment">
    <h5>发表评论</h5>
            <form action="/blog/356412" id="comment_form" method="post" onsubmit="return false;">          


  <input type="hidden" id="editor_bbcode_flag"/>



<div id="editor_main"><textarea class="validate-richeditor bad-words min-length-5" cols="40" id="editor_body" name="comment[body]" rows="20" style="width: 500px; height: 350px;"></textarea></div>


<script type="text/javascript">
  var editor = new Control.TextArea.Editor("editor_body", "bbcode", false);
</script>
          <p style="text-align:right;padding-right:30px;">您还没有登录，请<a href='/login'>登录</a>后发表评论(快捷键 Alt+S / Ctrl+Enter) <input class="submit" id="quick_reply_button" name="commit" type="submit" value="提交" /></p>
       </form>
        <script type="text/javascript">
          new HotKey("s",function() {$('quick_reply_button').click();},{altKey: true, ctrlKey: false});
          new HotKey(new Number(13),function() {$('quick_reply_button').click();},{altKey: false, ctrlKey: true});

          new Validation("comment_form", {immediate: false, onFormValidate: function(result, form){
          
            if(confirm('您需要登录以后才能执行这个操作，现在要登录吗？')) window.location.href = '/login';
          
        }});
        </script>
      </div>
</div>


<script type="text/javascript">
  dp.SyntaxHighlighter.HighlightAll('code', true, true);

  $$('#main .blog_content pre[name=code]').each(function(pre, index){ // blog content
    var post_id = 356412;
    var location = window.location;
    source_url = location.protocol + "//" + location.host + location.pathname + location.search;
    pre.writeAttribute('codeable_id', post_id);
    pre.writeAttribute('codeable_type', "Blog");
    pre.writeAttribute('source_url', source_url);
    pre.writeAttribute('pre_index', index);
    pre.writeAttribute('title', 'python模板比较');
  });
  $$('#main .blog_comment > div').each(function(comment){// comment
    var post_id = comment.id.substr(2);
    $$("#"+comment.id+" pre[name=code]").each(function(pre, index){
      var location = window.location;
      source_url = location.protocol + "//" + location.host + location.pathname + location.search;
      source_url += "#" + comment.id;
      pre.writeAttribute('codeable_id', post_id);
      pre.writeAttribute('codeable_type', "Post");
      pre.writeAttribute('source_url', source_url);
      pre.writeAttribute('pre_index', index);
      pre.writeAttribute('title', 'python模板比较');
    });
  });
  code_favorites_init();

  fix_image_size($$('div.blog_content img'), 700);
  function quote_comment(id) {
    new Ajax.Request('/editor/quote', {
      parameters: {'id':id, 'type':'BlogComment'},
      onSuccess:function(response){editor.bbcode_editor.textarea.insertAfterSelection(response.responseText);
        Element.scrollTo(editor.bbcode_editor.textarea.element);}
    });
  }

  new WeiboShare({share_buttons: $('share_weibo'), img_scope: $('blog_content')});
</script>




        </div>

        <div id="local">
          <div class="local_top"></div>
          <div id="blog_owner">
            <div id="blog_owner_logo"><a href='http://jasongreen.iteye.com'><img alt="jasongreen的博客" class="logo" src="http://www.iteye.com/upload/logo/user/489640/dab6a551-de84-3a3f-877a-b8afa9aa67d4.png?1306636844" title="jasongreen的博客: 桂林的博客" /></a></div>
            <div id="blog_owner_name">jasongreen</div>
          </div>
          <div id="blog_actions">
            <ul>
              <li>浏览: 287946 次</li>
              <li>性别: <img alt="Icon_minigender_1" src="http://www.iteye.com/images/icon_minigender_1.gif?1308833136" title="男" /></li>
              <li>来自: 安徽</li>
              <li><img src='/images/status/offline.gif'/></li>
              <li>
                <a href="/blog/profile" class="profile">详细资料</a>
                <a href="/blog/guest_book" class="guest_book">留言簿</a>
              </li>
              
            </ul>
            <h5>搜索本博客</h5>
            <form action="/blog/search" method="get">              <input class="text" id="query" name="query" style="margin-left: 10px;width: 110px;" type="text" />
              <input class="submit" type="submit" value="搜索" />
            </form>          </div>
          <div id="user_visits" class="clearfix">
            <h5>最近访客 <span style='font-weight:normal;font-size:12px;padding-left:30px;'><a href="/blog/user_visits">&gt;&gt;更多访客</a></span></h5>
            
              <div class="user_visit">
                <div class="logo"><a href='http://juyuquan1986.iteye.com' target='_blank'><img alt="juyuquan1986的博客" class="logo" src="http://www.iteye.com/images/user-logo-thumb.gif?1308833137" title="juyuquan1986的博客: " /></a></div>
                <div class="left"><a href='http://juyuquan1986.iteye.com' target='_blank'>juyuquan1986</a></div>
              </div>
            
              <div class="user_visit">
                <div class="logo"><a href='http://armywin.iteye.com' target='_blank'><img alt="armywin的博客" class="logo" src="http://www.iteye.com/images/user-logo-thumb.gif?1308833137" title="armywin的博客: " /></a></div>
                <div class="left"><a href='http://armywin.iteye.com' target='_blank'>armywin</a></div>
              </div>
            
              <div class="user_visit">
                <div class="logo"><a href='http://xiahyoha.iteye.com' target='_blank'><img alt="xiahyoha的博客" class="logo" src="http://www.iteye.com/upload/logo/user/437467/776e6ca2-44df-3689-bd9a-1653570c6190-thumb.jpg?1300255725" title="xiahyoha的博客: 我们都是小人物" /></a></div>
                <div class="left"><a href='http://xiahyoha.iteye.com' target='_blank'>xiahyoha</a></div>
              </div>
            
              <div class="user_visit">
                <div class="logo"><a href='http://rosolio.iteye.com' target='_blank'><img alt="rosolio的博客" class="logo" src="http://www.iteye.com/images/user-logo-thumb.gif?1308833137" title="rosolio的博客: " /></a></div>
                <div class="left"><a href='http://rosolio.iteye.com' target='_blank'>rosolio</a></div>
              </div>
            
          </div>
                      <div id="blog_menu">
              <h5>博客分类</h5>
              <ul>
                <li><a href="/">全部博客 (259)</a></li>
                
                  <li><a href="/category/11474">未分类 (26)</a></li>
                
                  <li><a href="/category/63429">个人作品 (7)</a></li>
                
                  <li><a href="/category/10995">java (24)</a></li>
                
                  <li><a href="/category/26422">python (14)</a></li>
                
                  <li><a href="/category/26421">html/css/js (18)</a></li>
                
                  <li><a href="/category/10999">arithmetic (15)</a></li>
                
                  <li><a href="/category/11000">pm&amp;plan (17)</a></li>
                
                  <li><a href="/category/14029">link&amp;tools (27)</a></li>
                
                  <li><a href="/category/23692">涂鸦 (59)</a></li>
                
                  <li><a href="/category/29637">lua (8)</a></li>
                
                  <li><a href="/category/32979">linux (4)</a></li>
                
                  <li><a href="/category/34095">light-commons (10)</a></li>
                
                  <li><a href="/category/34096">light-mtv (6)</a></li>
                
                  <li><a href="/category/56714">C/C++/D/GO (5)</a></li>
                
                  <li><a href="/category/103601">架构/综合 (1)</a></li>
                
              </ul>
            </div>
            
              
              <div id="blog_album">
                <h5>我的相册</h5>
                <div class="picture_thumb" style="float: none">
                  <div><span class='thumb_box'><a href='/album'><img src='http://dl.iteye.com/upload/picture/pic/67788/407a8371-56b4-3e65-a5bd-b8b612545bb1-thumb.png' /></a></span></div>
                  <span>demo-gae-rproxy.png<br/> <a href="/album">共 25 张</a></span>
                </div>
              </div>
            
            <div id="guest_books">
              <h5>我的留言簿 <span style='font-weight:normal;font-size:12px;padding-left:20px;'><a href="/blog/guest_book">&gt;&gt;更多留言</a></span></h5>
              <ul>
                
                  <li>
                  jasongreen 写道不是一般的犀利啊。 呵呵，还好吧！欢迎多交流<br/>
                  -- by <a href="/blog/guest_book#21351">bobten2008</a>
                  </li>
                
                  <li>
                  自从有了桂公公 生活变得很轻松<br/>
                  -- by <a href="/blog/guest_book#18351">易卡螺丝君</a>
                  </li>
                
              </ul>
            </div>
            <div id="blog_others">
              <h5>其他分类</h5>
              <ul>
                <li><a href="/blog/favorite">我的收藏</a> (163)</li>
                <li><a href="/blog/code_favorite">我的代码</a> (0)</li>
                                                <li><a href="/blog/topic">我的论坛主题帖</a> (111)</li>
                <li><a href="/blog/post">我的所有论坛帖</a> (926)</li>
                <li><a href="/blog/article">我的精华良好帖</a> (4)</li>
                
                  <li><a href="/blog/solution">我解决的问题</a> (28) </li>
                              </ul>
            </div>
            <div id="recent_groups">
              <h5>最近加入群组</h5>
              <ul>
                
                  <li><a href="http://DOTA.group.iteye.com">DOTA</a></li>
                
                  <li><a href="http://jquery.group.iteye.com">Jquery</a></li>
                
                  <li><a href="http://girl.group.iteye.com">美女PP&&PLMM</a></li>
                
                  <li><a href="http://dlang.group.iteye.com"> D语言</a></li>
                
                  <li><a href="http://onlypython.group.iteye.com">Python</a></li>
                
              </ul>
            </div>
            <div id="month_blogs">
              <h5>存档</h5>
              <ul>
                
                  <li><a href="/blog/monthblog/2011-08">2011-08</a> (2)</li>
                
                  <li><a href="/blog/monthblog/2011-05">2011-05</a> (2)</li>
                
                  <li><a href="/blog/monthblog/2011-04">2011-04</a> (1)</li>
                
                <li><a href="/blog/monthblog_more">更多存档...</a></li>
              </ul>
            </div>
            
            
              <div id="comments_top">
                <h5>评论排行榜</h5>
                <ul>
                  
                    <li><a href="/blog/1000742" title="最近活动总结">最近活动总结</a></li>
                  
                </ul>
              </div>
            
            <div id="rss">
              <ul>
                <li><a href="/rss" target="_blank"><img alt="Rss" src="http://www.iteye.com/images/rss.png?1308833136" /></a></li>
                <li><a href="http://fusion.google.com/add?feedurl=http://jasongreen.iteye.com/rss" target="_blank"><img alt="Rss_google" src="http://www.iteye.com/images/rss_google.gif?1308833136" /></a></li>
              </ul>
            </div>
            <div class="local_bottom"></div>
          
        </div>
      </div>

      <div id="footer" class="clearfix">
        <div id="copyright">
          <hr/>
          声明：ITeye文章版权属于作者，受法律保护。没有作者书面许可不得转载。若作者同意转载，必须以超链接形式标明文章原始出处和作者。<br />
          &copy; 2003-2011 ITeye.com.   All rights reserved.  [ 京ICP证110151号 ]
        </div>
      </div>
    </div>
    <script type="text/javascript">
  document.write("<img src='http://stat.iteye.com/?url="+ encodeURIComponent(document.location.href) + "&referrer=" + encodeURIComponent(document.referrer) + "&user_id=' width='0' height='0' />");
</script>

    
  </body>
</html>

------------ufU1AayX7nQgaratz9kvQS
Content-Disposition: inline; filename=favicon.ico
Content-Type: image/x-icon; name=favicon.ico
Content-Location: http://jasongreen.iteye.com/images/favicon.ico
Content-Transfer-Encoding: Base64

AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAQAAAAA
AAAAAAAAAAAAAAAAAAB7Th7/e04e/3tOHv97Th7/e04e/3tOHv97Th7/e04e/3tO
Hv97Th7/e04e/3tOHv97Th7/e04e/3tOHv97Th7/e04e/3tOHv97Th7/e04e/3tO
Hv+celb/xbKd/97Tx//e08f/1si5/62Qcv+DWSz/e04e/3tOHv97Th7/e04e/3tO
Hv97Th7/e04e/4NZLP/WyLn/////////////////////////////////zr2r/3tO
Hv97Th7/e04e/3tOHv97Th7/e04e/4NZLP/m3tX/////////////////////////
////////9/Tx/4xkOv97Th7/e04e/3tOHv97Th7/e04e/3tOHv/Fsp3/////////
/////////////////////////////72nj/97Th7/e04e/3tOHv97Th7/e04e/3tO
Hv+DWSz//////////////////////72nj/+DWSz/e04e/5RvSP97Th7/e04e/3tO
Hv97Th7/e04e/3tOHv97Th7/rZBy/////////////////869q/97Th7/lG9I/72n
j/+1m4D/e04e/3tOHv97Th7/e04e/3tOHv97Th7/e04e/72nj///////////////
//+celb/e04e/+/p4////////////7WbgP+Ub0j/nHpW/5x6Vv+celb/e04e/3tO
Hv+9p4//////////////////pIVk/3tOHv////////////////+9p4//5t7V////
/////////////3tOHv97Th7/pIVk/////////////////97Tx/97Th7/vaeP////
///v6eP/tZuA/////////////////97Tx/97Th7/e04e/4NZLP/39PH/////////
////////1si5/5x6Vv+Ub0j/vaeP//f08f////////////////+1m4D/e04e/3tO
Hv97Th7/vaeP////////////////////////////////////////////////////
///v6eP/g1ks/3tOHv97Th7/e04e/3tOHv/Ovav/////////////////////////
///////////////////39PH/lG9I/3tOHv97Th7/e04e/3tOHv97Th7/e04e/72n
j//39PH////////////////////////////e08f/jGQ6/3tOHv97Th7/e04e/3tO
Hv97Th7/e04e/3tOHv97Th7/g1ks/6SFZP+9p4//vaeP/7WbgP+Ub0j/e04e/3tO
Hv97Th7/e04e/3tOHv97Th7/e04e/3tOHv97Th7/e04e/3tOHv97Th7/e04e/3tO
Hv97Th7/e04e/3tOHv97Th7/e04e/3tOHv97Th7/AAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==

------------ufU1AayX7nQgaratz9kvQS
Content-Disposition: inline
Content-Type: image/gif
Content-Location: http://www.iteye.com/images/line_gray.gif
Content-Transfer-Encoding: Base64

R0lGODlhAQALAIAAAMzMzP///yH5BAAHAP8ALAAAAAABAAsAAAIDhI9QADs=

------------ufU1AayX7nQgaratz9kvQS
Content-Disposition: inline
Content-Type: image/gif
Content-Location: http://www.iteye.com/images/logo_bg.gif
Content-Transfer-Encoding: Base64

R0lGODlhOAA4ALMAAMzMzPDw8NXV1f///93d3ff39+bm5tnY3f///wAAAAAAAAAA
AAAAAAAAAAAAAAAAACH5BAEHAAgALAAAAAA4ADgAAAT/EB1Aq704610P+t80jGRp
nmiqkoAHAgMoz3Rt3/QABG+M/8AgQmcofGDCpBKkIwSMyKUUqBMUEdGptlZ1Yn3b
MBMgcBay4nD3iU5r12ew+002t+dL+B2f1Mv5Sn6AU4KDeXVsf4ZUiHGLgY17jzaF
k4xliZZBlZo3nJ1ckYqgMp+kpaKnlKmqOaytqJiOsLF2o6qmrbm4r7RDvbS7p8Kk
xKDGnciaypbMk86P0IvShtSD1oDYfNp43HPebnAiK+Tl5jqNEhzr7O0VZWYfAQYE
Avb3+Pn6+/z99gQGnoCYR6CgwYMIEypcyLBgQIEDA0icSLGixYsYM1IsYEQGx48g
CEOKHEmy5MgIADs=

------------ufU1AayX7nQgaratz9kvQS
Content-Disposition: inline
Content-Type: image/gif
Content-Location: http://www.iteye.com/images/logo-small.gif
Content-Transfer-Encoding: Base64

R0lGODlhSQAVAMQAAMfT3ixZg/H09+Pp7qq8zTpkjNXe5nORrbjH1khvlGWGpIGc
tZyxxeGHaddbMt98W9xxTeyyn9RQJPz08eedhPTTyOSSdumnkfrp5O+9rffe1o6m
vVZ6nB5Oe////wAAACH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78i
IGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxu
czp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS4w
LWMwNjAgNjEuMTM0Nzc3LCAyMDEwLzAyLzEyLTE3OjMyOjAwICAgICAgICAiPiA8
cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjIt
cmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4
bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnht
cE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJl
Zj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVm
IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3Mi
IHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6Q0ZEMjQ1MjY1QUFCMTFFMDgzM0FB
NzMwNkNBMkU5MUUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6Q0ZEMjQ1Mjc1
QUFCMTFFMDgzM0FBNzMwNkNBMkU5MUUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RS
ZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpDRkQyNDUyNDVBQUIxMUUwODMzQUE3MzA2
Q0EyRTkxRSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpDRkQyNDUyNTVBQUIx
MUUwODMzQUE3MzA2Q0EyRTkxRSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6
UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf2
9fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV1NPS0dDPzs3My8rJyMfG
xcTDwsHAv769vLu6ubi3trW0s7KxsK+urayrqqmop6alpKOioaCfnp2cm5qZmJeW
lZSTkpGQj46NjIuKiYiHhoWEg4KBgH9+fXx7enl4d3Z1dHNycXBvbm1sa2ppaGdm
ZWRjYmFgX15dXFtaWVhXVlVUU1JRUE9OTUxLSklIR0ZFRENCQUA/Pj08Ozo5ODc2
NTQzMjEwLy4tLCsqKSgnJiUkIyIhIB8eHRwbGhkYFxYVFBMSERAPDg0MCwoJCAcG
BQQDAgEAACH5BAAAAAAALAAAAABJABUAAAX/oCeO3mQ1ZKqubOu+reY41ATfeI5D
tBPpwKAuI7lIGj+hcqlqQBqPB4RJrVYqDwxnS/Bsv2COgWRgbDaI0QA8IDG+i5GA
cCa0lZ38xpPv+zsAIgAFfwF7Xn0KcgF9aQIHfx0cd0B9e5F+gQSYeRwCA5kikJ0e
BoyYAWOVenycgAiueYobfQUeAH4DAoSuAZQ4liQcfYEivJ0bo8S7fQwJwbS1CxvH
HQerHYciw3nFm31ddAinHYqwkQUCHuQJnxsEyh3qOcEj3IAiC33X0QHfHQG2RUpj
wM+nUwyOpaHHyh4xgXnS3MPVRwQoPxwE9clIUZK+hsBAIuoGsUOXfvNSfETLo6pj
Ag8CTnXBI3KiiJUvPdD5RUJAnzgWQw3YUIxmNmEPS/lRcEfVinoinuUJUMypEKgj
8ZXM8yxAyhRYz/UJQEhbEKw2LZLzc+2pSA/xxn7VgTapCAPV7JLAKgpT27M19cKk
NvYATxF8BSnwk2BmlRwCABwOYsAqixAAOw==

------------ufU1AayX7nQgaratz9kvQS
Content-Disposition: inline
Content-Type: image/png
Content-Location: http://www.iteye.com/images/blog/profile.png
Content-Transfer-Encoding: Base64

iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhk
iAAAAAlwSFlzAAAK8AAACvABQqw0mAAAAB90RVh0U29mdHdhcmUATWFjcm9tZWRp
YSBGaXJld29ya3MgOLVo0ngAAAAWdEVYdENyZWF0aW9uIFRpbWUAMDEvMjEvMDkD
CmB1AAABsElEQVQ4jaWTP0hbURTGfy/o2bpJEGuhgwSeIIqFoA1YImYRLJJBiIOi
j3ZxKIrSQOtURBEdFMTFN9kplCLiX4JuUQgYzVADtp0aIUZFnMQXyu3w1BheDBW/
6XIv3+9+59xzNaUUT5Gr6K6pK0z9v8iaI8FDxkQG5i600glMXZHI2Ovq9ryxhGzA
zmQ+8tt++yS9ljfrfTB3QSRsqEjYKEioqY0hRXqteOQboOUfB+CPCHthA4CuCVOz
EzzCfJ6Dl19MVq905lfiygYYKe29a9ZZc2Mlln8cEUFEeGFZd/yG/h72Ty/zPfiR
PuNjYJrIz9cARJ4FwUghIsRz8On7Lu9GZln4GiV2mMVX6+b6IAlAGUDN2TEA6x0m
M9tteFpDdFoWIsLeZpzFgQEA/ACN9cQOs4Wv8Kvi+d2GpzUEgIjwG0hbf509uicX
QGw0pJUt7QJQfhQFwLpX861uL8rUuQsBAGPBZq38KErOE6DqxIad55w3flveIjM4
RXd7HVBklHs/TClX1zCffbCczJJKJLk+SFL9xsdYsNkxys6/cAMBaAq08MoNXq/X
YSwJeIz+AYF7pSxGWxNUAAAAAElFTkSuQmCC

------------ufU1AayX7nQgaratz9kvQS
Content-Disposition: inline
Content-Type: image/png
Content-Location: http://www.iteye.com/images/blog/guest_book.png
Content-Transfer-Encoding: Base64

iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhk
iAAAAAlwSFlzAAAK8AAACvABQqw0mAAAAB90RVh0U29mdHdhcmUATWFjcm9tZWRp
YSBGaXJld29ya3MgOLVo0ngAAAAWdEVYdENyZWF0aW9uIFRpbWUAMDEvMjEvMDkD
CmB1AAABsklEQVQ4jaWRO44iMRRFj10uF40QRUABCQESEiEEhOQ9ETmbmg1MOqtg
D0hEiAUghIR6ECA+LvyZCNR00ZPMjSw/++je+0QIgf+Ruh9+//oZ8qj27cPb7Uaj
0WA4HNJut0UBYGTKj/d3hBCFz957kiRhvV4znU4ZjUah1+uJJ8DxeGS/3+NDIDcG
IQQhBLTWXC4Xms0m/X4fpRSz2Yxer/fsIIRAojVXY/jz8UGkFNZasiyjXC5jjGG1
WmGtZbPZFDu4XC4A6DgmyzKEEAghsNYSScnhcGCxWLDb7TidTkVAnufEWmOMYX84
EEXRo7zS2xudToc0TXHWslqtioDz+YyUEqUUlUoFKSUAQgjO5zPL5ZJWq0W91cIY
8zqC1poQAt77xzZCCEgpieMYpRRSykfcJ4BzDucc3nu89y9XeZ8754qA0+lEkiRI
KanVao8In2NorSmVSq8dGGOI4xhrLdvtFqUeI/I8p9vtkqYpURR938E9b5ZlTw6c
c0gpsdYSx/FrB9frlWq1CkC9Xi908FkvHXjvGY/H//x4l7W2CJhMJszn86eGvyqE
gBCCwWDwuPsLvL3YWFo47WEAAAAASUVORK5CYII=

------------ufU1AayX7nQgaratz9kvQS
Content-Disposition: inline
Content-Type: image/gif
Content-Location: http://www.iteye.com/images/gray_west_arrow.gif
Content-Transfer-Encoding: Base64

R0lGODlhCAALAJEAAKSkpP///////wAAACH5BAEHAAIALAAAAAAIAAsAAAIRlI8H
kMvqYBRu0opwXun2UwAAOw==

------------ufU1AayX7nQgaratz9kvQS
Content-Disposition: inline
Content-Type: image/gif
Content-Location: http://www.iteye.com/images/gray_east_arrow.gif
Content-Transfer-Encoding: Base64

R0lGODlhCAALAJEAAKOjo////////wAAACH5BAEHAAIALAAAAAAIAAsAAAIRlH8A
aLroXospPlsV1Jt5UwAAOw==

------------ufU1AayX7nQgaratz9kvQS
Content-Disposition: inline
Content-Type: image/gif
Content-Location: http://www.iteye.com/images/icon_more.gif
Content-Transfer-Encoding: Base64

R0lGODlhKgALAIAAANl3Lv///yH5BAAHAP8ALAAAAAAqAAsAAAI/jI+pywsPo5y0
RmOzzpjDACQhMh5T94ASxn6hq1bouL5gfJPiGtMXDHwJZb1eCqZL5Uy8jfPpg0op
jar1GigAADs=

------------ufU1AayX7nQgaratz9kvQS
Content-Disposition: inline; filename=blog.css
Content-Type: text/css; charset=utf-8; name=blog.css
Content-Location: http://www.iteye.com/stylesheets/blog.css?1313400472
Content-Transfer-Encoding: 8bit


.stretch,
.clear {
    clear:both; 
    height:1px; 
    margin:0; 
    padding:0; 
    font-size: 15px;
    line-height: 1px;
}
.clearfix:after {
    content: "."; 
    display: block; 
    height: 0; 
    clear: both; 
    visibility: hidden;
}
.clearfix {display: inline-table;}
* html .clearfix {
    height:1%;
}
*+html .clearfix {
    height:1%;
}
.clearfix {
    display:block;
}


.replace {
    display:block;
    
    background-repeat: no-repeat;
    background-position: left top;
    background-color:transparent;
}
.replace * {
    text-indent: -10000px;
    display:block;
    
    background-repeat: no-repeat;
    background-position: left top;
    background-color:transparent;
}
.replace a {
    text-indent:0;
}
.replace a span {
    text-indent:-10000px;
}


span.accesskey {
    text-decoration:none;
}
.accessibility {
    position: absolute;
    top: -999em;
    left: -999em;
}

body {
  text-align: left;
  font-family: Helvetica, Tahoma, Arial, sans-serif;
  font-size: 12px;
  line-height: 1.5;
  color: black;
}

img {
  border: 0;
}

h1 {
  font-size: 2em;
  line-height: 1.5em;
  margin: 0 0 0.5em 0;
  padding: 0;
  color: black;
}
h2 {
  font-size: 1.5em;
  line-height: 1.5em;
  margin: 0 0 0.5em 0;
  padding: 0;
  color: black;
}
h3 {
  font-size: 1.2em;
  line-height: 1.5em;
  margin: 0 0 0.5em 0;
  padding:0;
  color: black;
}
h4 {
  font-size: 1.15em;
  line-height: 1.3em;
  margin: 0 0 0.25em 0;
  padding: 0;
  color: black;
}
h5 {
  font-size: 1.1em;
  line-height: 1.3em;
  margin: 0 0 0.25em 0;
  padding: 0;
  color: black;
}
h6 {
  font-size: 1em;
  line-height: 1.3em;
  margin: 0 0 0.25em 0;
  padding: 0;
  color: black;
}

p {
  margin: 0;
  padding: 0;
}
blockquote {
  border-left:10px solid #ddd;
  margin-left:10px;
}
pre {
  font-family: monospace;
  font-size: 1.0em;
}
strong, b {
  font-weight: bold;
}
em, i {
  font-style:italic;
}
code {
  font-family: "Courier New", Courier, monospace;
  font-size: 1em;
  white-space: pre;
}

ul {
  margin: 0 0 1.5em 0;
  padding: 0;
}
ul li {
  margin: 0 0 0.25em 30px;
  padding: 0;
}
ol {
  font-size: 1.0em;
  line-height: 1.4em;
  margin: 0 0 1.5em 0;
  padding: 0;
}
ol li {
  font-size: 1.0em;
  margin: 0 0 0.25em 30px;
  padding: 0;
}
dl {
  margin: 0 0 1.5em 0;
  padding: 0;
  line-height: 1.4em;
}
dl dt {
  margin: 0.25em 0 0.25em 0;
  padding: 0;
}
dl dd {
  margin: 0 0 0 30px;
  padding: 0;
}


th {
  font-weight: bold;
  text-align: left;
}
td {
  font-size: 1em;
}
/* END TABLE */	

hr {
  height: 1px;
  margin: 1.5em 10px;
  border-bottom: black thin;
}


div.topic_page {
  color: #069;
}
form {
  margin:0;
  padding:0;
  clear: both;
}
form div,
form p {
  font-size: 1em;
  margin: 0 0 1em 0;
  padding: 0;
}
label {
  font-weight: bold;
  float: left;
  width: 25%;  
}
fieldset {
  border: 1px solid #eee;
  padding: 5px 10px;
  margin: 0;
}
fieldset legend {
  color: #666;
  font-size: 1.1em;
  font-weight: bold;
  margin: 0 0 0 0px;
  padding: 0;
}
* html fieldset legend {
  margin: 0 0 10px -10px;
}
fieldset ul {
  list-style: none;
  margin: 0 0 1.5em 0;
  padding: 0;
}
fieldset ul li {
  list-style: none;
  margin: 0 0 0.5em 0;
  padding: 0;
}
input.text, select, textarea {
  margin: 0;
  border: 1px solid #069;
  padding: 1px 3px;
  vertical-align: middle;
}

input.text {
  height: 18px;
  font-family: Arial, sans-serif, Verdana, Tahoma, Helvetica;
}

input.check {
  border: none;
  width: auto;
  height: auto;
  margin: 0;
}
input.radio {
  border: none;
  width: auto;
  height: auto;
  margin: 0;
}
input.file {
  height: auto;
  width: 250px;
}
input.readonly {
  background-color: transparent;
  border: none;
}
input.button, input.submit {
  background: #006699;
  color: white;
  cursor:pointer;
  font-size: 1em;
  height:23px;
  padding:2px 5px;  
  border:1px solid #d2f3fd;
  vertical-align: middle;
}
input.image {
  border: none;
  width: auto;
  height: auto; 
}
textarea {
  font-size: 1em;
}
form div.submit {
  margin: 1em 0;
}
form div.submit input {
  height: 2em;
  width: 15em;
}


div#nav div.wrapper {
  position: absolute;
  left: 0;
  bottom: 0;
  width: 100%;
  font-size: 13px;
  padding-bottom: 6px;
  background: #6293bb url(/images/shadow.png) repeat-x bottom left;
}
div#nav ul {
  width: 100%;
  
  margin: 0;
  padding: 0;
}
div#nav li {
  float: left;
  display: inline;
  
  list-style: none;
  
  margin: 0;
  padding: 0 10px;
  
  line-height: 1em;
  background-image: url(/images/line_white.gif);
  background-position: right center;
  background-repeat: no-repeat;
}
div#nav li.last {
  background: none;
}
div#nav a,
div#nav a:link,
div#nav a:active,
div#nav a:visited {
  display: inline-block;
  /* hide from ie/mac \*/
  display: block;
  /* end hide */
  font-weight: bold;
  text-decoration: none;
  
  margin: 0;
  padding: 7px 13px;
  
  color: white;
}
div#nav .subnav a,
div#nav .subnav a:link,
div#nav .subnav a:active,
div#nav .subnav a:visited {
  display: inline-block;
  padding: 7px 6px;
}
div#nav a:hover, div#nav a.selected {
  background-color: #3671a5;
}

div#content {
  position: relative;
  width: 701px;
  
  margin: 0 auto 20px auto;
  padding: 0;
  
  text-align: left;
}
div#main {
  float: right;
  width: 500px;
  display: inline;
}
div#local {
  float: left;
  width: 200px;
  display: inline;
}
div#sub {
  display: none;
}
div#nav {
  position: absolute;
  top: -15px;
  left: 0;
  width: 100%;
  
  text-align: left;
}

body {
  margin: 0;
  padding: 0;
  
  background: white;
  
  text-align: center;
}
div#page {
  width: 950px;
  
  margin:  0 auto;
  padding: 0;
  
  background: white;
  text-align: center;
}

div#header {
  padding: 0;
  margin: 0;
  color: white;
  background-color: white;
}
div#branding {
  float: left;
  width: 200px;
  margin: 1px 0;
  text-align: left;
}
div#search {
  float: right;
  width: 49%;
  
  margin: 0;
  padding: 16px 20px 0 0;
  
  text-align: right;
}

div#content {
  width: 100%;
  margin-top: 35px;
}

div#footer {
  color: black;
  background-color: white;  
}
div#footer p {
  font-size: 0.8em;
  
  margin: 0;
  padding: 15px;
}




ul.subnav {
  margin: 0;
  padding: 0;
  
  font-size: 0.8em;
  list-style: none;
}
ul.subnav li {
  margin: 0 0 1em 0;
  padding: 0;
  list-style: none;
}
ul.subnav li a,
ul.subnav li a:link,
ul.subnav li a:visited,
ul.subnav li a:active {
  text-decoration: none;
  font-weight: bold;
  color: black;
}
ul.subnav li a:hover {
  text-decoration: underline;
}
ul.subnav li strong {
  padding: 0 0 0 12px;
  background: url("../i/subnav-highlight.gif") left top no-repeat transparent;
}
ul.subnav li strong a,
ul.subnav li strong a:link,
ul.subnav li strong a:visited,
ul.subnav li strong a:active {
  color: white;
  background-color: black;
}


.nav_side{margin:0 0 10px 0; border:solid 1px #caccc9; background:#f4f6f3;}
.nav_side ul{margin:0;}
.nav_side li{height:37px; overflow:hidden; margin:0 5px; padding:0; border-bottom:solid 1px #e3eaf0; color:#069; font-size:14px; line-height:37px; text-indent:38px;}
.nav_side li a{display:block; height:37px; color:#069; text-decoration:none;}
.nav_side li a:hover{color:#ff580a;  text-decoration:none;}
.nav_side li.last{height: 38px; border-bottom:none;}
.nav_side li.select{height:38px; margin:0; border-bottom:none; background:url(/images/sidenav_select_bg.gif) no-repeat 0 0;}
.nav_side li.select a{height:38px; color:#fff; font-weight:bold;}

.nav_side #mobile{background:url(/images/icon_sidenav.png) no-repeat 5px 3px; _background:url(/images/icon_sidenav.gif) no-repeat 5px 3px;}
.nav_side #web{background:url(/images/icon_sidenav.png) no-repeat 5px -49px; _background:url(/images/icon_sidenav.gif) no-repeat 5px -49px;}
.nav_side #architecture{background:url(/images/icon_sidenav.png) no-repeat 5px -102px; _background:url(/images/icon_sidenav.gif) no-repeat 5px -102px;}
.nav_side #language{background:url(/images/icon_sidenav.png) no-repeat 5px -155px; _background:url(/images/icon_sidenav.gif) no-repeat 5px -155px;}
.nav_side #internet{background:url(/images/icon_sidenav.png) no-repeat 5px -206px; _background:url(/images/icon_sidenav.gif) no-repeat 5px -206px;}
.nav_side #opensource{background:url(/images/icon_sidenav.png) no-repeat 5px -260px; _background:url(/images/icon_sidenav.gif) no-repeat 5px -260px;}
.nav_side #os{background:url(/images/icon_sidenav.png) no-repeat 5px -310px; _background:url(/images/icon_sidenav.gif) no-repeat 5px -310px;}
.nav_side #database{background:url(/images/icon_sidenav.png) no-repeat 5px -361px; _background:url(/images/icon_sidenav.gif) no-repeat 5px -361px;}
.nav_side #develop{background:url(/images/icon_sidenav.png) no-repeat 5px -412px; _background:url(/images/icon_sidenav.gif) no-repeat 5px -412px;}
.nav_side #industry{background:url(/images/icon_sidenav.png) no-repeat 5px -466px; _background:url(/images/icon_sidenav.gif) no-repeat 5px -466px;}
.nav_side #other{background:url(/images/icon_sidenav.png) no-repeat 5px -568px; _background:url(/images/icon_sidenav.gif) no-repeat 5px -568px;}
.nav_side #all{background:url(/images/elite_sidenav.png) no-repeat 5px -260px; _background:url(/images/elite_sidenav.gif) no-repeat 5px -260px;}

.nav_side li.select #mobile{background:url(/images/icon_sidenav.png) no-repeat 10px 3px; _background:url(/images/icon_sidenav.gif) no-repeat 10px 3px;}
.nav_side li.select #web{background:url(/images/icon_sidenav.png) no-repeat 10px -49px; _background:url(/images/icon_sidenav.gif) no-repeat 10px -49px;}
.nav_side li.select #architecture{background:url(/images/icon_sidenav.png) no-repeat 10px -102px; _background:url(/images/icon_sidenav.gif) no-repeat 10px -102px;}
.nav_side li.select #language{background:url(/images/icon_sidenav.png) no-repeat 10px -155px; _background:url(/images/icon_sidenav.gif) no-repeat 10px -155px;}
.nav_side li.select #internet{background:url(/images/icon_sidenav.png) no-repeat 10px -206px; _background:url(/images/icon_sidenav.gif) no-repeat 10px -206px;}
.nav_side li.select #opensource{background:url(/images/icon_sidenav.png) no-repeat 10px -260px; _background:url(/images/icon_sidenav.gif) no-repeat 10px -260px;}
.nav_side li.select #os{background:url(/images/icon_sidenav.png) no-repeat 10px -310px; _background:url(/images/icon_sidenav.gif) no-repeat 10px -310px;}
.nav_side li.select #database{background:url(/images/icon_sidenav.png) no-repeat 10px -361px; _background:url(/images/icon_sidenav.gif) no-repeat 10px -361px;}
.nav_side li.select #develop{background:url(/images/icon_sidenav.png) no-repeat 10px -412px; _background:url(/images/icon_sidenav.gif) no-repeat 10px -412px;}
.nav_side li.select #industry{background:url(/images/icon_sidenav.png) no-repeat 10px -466px; _background:url(/images/icon_sidenav.gif) no-repeat 10px -466px;}
.nav_side li.select #other{background:url(/images/icon_sidenav.png) no-repeat 10px -568px; _background:url(/images/icon_sidenav.gif) no-repeat 10px -568px;}
.nav_side li.select #all{background:url(/images/elite_sidenav.png) no-repeat 10px -259px; _background:url(/images/elite_sidenav.gif) no-repeat 10px -259px;}
a {
    color: #006699;
    text-decoration: none;
}

a:hover, a:active {
    color: #BC2A4D;
    text-decoration: underline;
}

blockquote {
    border: 1px solid #cccccc;
    background-color: #fafafa;
}

cite {
    font-weight: bold;
    margin-left: 3px;
}

div#user_nav {
    margin: 3px 0 0 0;
    padding: 2px;
    text-align: right;
    float: right;
}

div#user_nav a.nobg {
    background: none;
}

div#user_nav a.welcome {
    color: #E28822;
    font-weight: bold;
    padding-right: 10px;
}

div#user_nav a:hover.welcome {
    text-decoration: none;
    color: #E28822;
    background-color: transparent;
}

div#user_nav a.new_reply {
    color: red;
    padding-left: 0;
}

div#user_nav a:hover.new_reply {
    text-decoration: none;
    color: red;
    background-color: transparent;
}

div#user_nav a {
    text-decoration: none;
    padding: 5px 8px;
    color: gray;
    line-height: 1em;
    background-image: url(/images/line_gray.gif);
    background-position: right center;
    background-repeat: no-repeat;
}

div#user_nav a:hover {
    text-decoration: underline;
    color: white;
    background-color: gray;
}

div.quick_menu {
    background-color:white;
    border:1px solid #DDDDDD;
    text-align:left;
    top: 30px;
    position: absolute;
    width:70px;
    z-index: 9999;
}

div.quick_menu a {
    background-image: none !important;
    display: block !important;
    padding: 3px 6px 3px 10px !important;
    text-decoration: none !important;
    line-height: 20px !important;
}

div#location_ad {
    float:left;
    background-image:url(/images/yellow_east_arrow.gif);
    background-repeat: no-repeat;
    background-position:left center;
    margin-top: 5px;
    padding-left: 12px;
}

div#site_nav ul {
    width: auto;
    width: 100%;

    margin: 0;
    padding: 0;

    line-height: 1em;
    list-style: none;
}

div#site_nav li {
    display: inline;
    list-style: none;
    margin: 0;
    padding: 3px 10px 3px 10px;
    line-height: 1em;
    border-right: 1px solid #aaa;
}

div#site_nav li.last {
    border-right: none;
}

div#channel_nav {
    position:absolute;
    left: 0;
    top: 0px;
}

div#channel_nav ul {
    width: auto;
    width: 100%;

    margin: 0;
    padding: 0;

    line-height: 1em;
    list-style: none;
}

div#channel_nav li {
    display: inline;
    float: left;
    list-style: none;
    margin: 0;
    line-height: 1em;
    border: 1px solid #feddca;
    border-right: 0px;
}

div#channel_nav li.last {
    border-right: 1px solid #feddca;
}

div#channel_nav a {
    display: inline-block;
    /* hide from ie/mac \*/
    display: block;
    /* end hide */
    text-decoration: none;

    margin: 0;
    padding: 4px 25px;

    color: green;
}

div#channel_nav a:hover, div#channel_nav a.selected {
    background-color: #feddca;
}

div#gg {
    float: right;
    margin: 2px 0;
    width: 728px;
}

div#copyright {
    padding: 10px;
}

.pagination {
    padding: 5px;
    float: right;
}

.pagination a, .pagination a:link, .pagination a:visited {
    padding: 2px 5px 2px 5px;
    margin: 2px;
    border: 1px solid #aaaadd;
    text-decoration: none;
    color: #006699;
}

.pagination a:hover, .pagination a:active {
    border: 1px solid #006699;
    color: #000;
    text-decoration: none;
}

.pagination span.current {
    padding: 2px 5px 2px 5px;
    margin: 2px;
    border: 1px solid #006699;
    font-weight: bold;
    background-color: #006699;
    color: #FFF;
}

.pagination span.disabled {
    padding: 2px 5px 2px 5px;
    margin: 2px;
    border: 1px solid #eee;
    color: #ddd;
}

a.underline, .underline a { text-decoration: underline; }

.hilite1 { background-color: #ff0; }
.hilite2 { background-color: #5f5; }
.hilite3 { background-color: #afa; }
.hilite4 { background-color: #0ff; }


span.arrow {
    font-weight:normal;
    font-size:0.9em;
    color:#999;
}

.validation-advice {
    margin: 0;
    padding: 0 0 0 3px;
    color : #FF3300;
    font-weight: bold;
}

.odd {
    background-color: #EFFAFF;
}

.highlight,
.highlight a,
.highlight a:link,
.highlight a:active,
.highlight a:visited {
    font-weight: bold;
    text-decoration: none;
    color: #e28822;
}

.highlight a:hover {
    text-decoration: none;
    color: #ffffff;
    background-color: #e28822;
}

.rss {
    background-image: url(/images/rss.png);
    background-position: right center;
    background-repeat: no-repeat;
    margin-right: 5px;
    padding-right: 50px;
}

.row1 {
    width: 155px;
    font-weight: bold;
    background-color: #efefef;
}

.row2 {
    background-color: #dee3e7;
}

.row3 {
    background-color: #eee;
}

.crumbs a {
    text-decoration: underline;
}

.flash_error, .flash_notice {
    font-weight: bold;
    background-repeat: no-repeat;
    padding: 10px 40px;
    margin: 0 10px;
}

.flash_error {
    color: #f30;
    background-image: url(/images/icon_error_lrg.gif);
}

.flash_notice {
    background-image: url(/images/icon_success_lrg.gif);
}

select.validation-failed, input.validation-failed, textarea.validation-failed {
    border: 3px solid #FF0000;
}

* html select.validation-failed {
    background-color: #FF0000;
}

span.field_error {
    display: none;
}

div.quote_title {
    font-weight: bold;
    padding: 5px;
    margin: 5px 0 0 15px;
}

div.quote_div {
    border: 1px solid #ccc;
    margin: 0 5px 5px 15px;
    padding: 3px;
    background: #fafafa;
}

div.attachments {
    border-top: 1px solid #999999;
    margin-top: 10px;
}

div.attachments ul, div.postauthor ul {
    list-style: none;
}

div.attachments ul {
    margin: 5px;
    padding: 5px;
    border: 1px solid #cccccc;
}

img.magplus {
    cursor: url(/images/magplus.gif), pointer;
}

div.logo {
    float: left;
    padding: 2px 6px 6px 2px;
    background-image: url(/images/logo_bg.gif);
    background-repeat: no-repeat;
}

span.thumb_box {
    display: table-cell;
    vertical-align:middle;
    height: 95px;
    width: 130px;
    text-align:center;
    /* hack for ie */
    *display: block;
    *font-size: 90px;
    /* end */
    border: 1px solid #ccc;
}

span.thumb_box img {
    vertical-align:middle;
}

.right {
    float: right;
}

.left {
    float: left;
}

table.bbcode {
    border: 1px solid #ccc;
}

table.bbcode td {
    border: 1px solid #ccc;
    padding: 3px;
}

div#search_engine_box {
    text-align: left;
    position: fixed;
    bottom: 0px;
    right: 0px;
    width: 240px;
    border: 1px solid #ccc;
    background-color: white;
}

#search_engine_box h2 {
    padding: 5px;
    background-color: #526EA6;
    color: white;
    font-size: 12px;
    font-weight: normal;
}

#search_engine_box h2 span {
    color: black;
}

#search_engine_box h2 a {
    color: white;
    position: absolute;
    right: 5px;
}

#search_engine_box div {
    padding: 0 5px;
}

#search_engine_box li {
    margin-left: 15px;
    list-style: square;
}

* html div#search_engine_box {
    position: absolute;
    right: auto; bottom: auto;
    left: expression( ( 0 - search_engine_box.offsetWidth + ( document.documentElement.clientWidth ? document.documentElement.clientWidth : document.body.clientWidth ) + ( ignoreMe2 = document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft ) ) + 'px' );
    top: expression( ( 0 - search_engine_box.offsetHeight + ( document.documentElement.clientHeight ? document.documentElement.clientHeight : document.body.clientHeight ) + ( ignoreMe = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop ) ) + 'px' );
}

div#chat_button {
    text-align: right;
    position: fixed;
    bottom: 0px;
    right: 10px;
    width: 80px;
    border: 1px solid #ccc;
    padding: 2px;
    vertical-align: middle;
    background-color: #eee;
}

div#chat_input {
    position: fixed;
    bottom: 25px;
    right: 10px;
    text-align: left;
}

#chat_iframe {
    width: 360px;
    background-color: transparent;
}

div#chat_button img {
    vertical-align: middle;
}

* html div#chat_button {
    position: absolute;
    right: auto; bottom: auto;
    left: expression( ( 0 - chat_button.offsetWidth + ( document.documentElement.clientWidth ? document.documentElement.clientWidth : document.body.clientWidth ) + ( ignoreMe2 = document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft ) ) + 'px' );
    top: expression( ( 0 - chat_button.offsetHeight + ( document.documentElement.clientHeight ? document.documentElement.clientHeight : document.body.clientHeight ) + ( ignoreMe = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop ) ) + 'px' );
}

* html div#chat_input {
    position: absolute;
    right: auto; bottom: auto;
    left: expression( ( 0 - chat_input.offsetWidth + ( document.documentElement.clientWidth ? document.documentElement.clientWidth : document.body.clientWidth ) + ( ignoreMe2 = document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft ) ) + 'px' );
    top: expression( ( -25 - chat_input.offsetHeight + ( document.documentElement.clientHeight ? document.documentElement.clientHeight : document.body.clientHeight ) + ( ignoreMe = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop ) ) + 'px' );
}

.tooltip {
    position: absolute!important;
    overflow:hidden;
    font-size: 12px;
    z-index: 10000!important;

}
.tooltip .xtop, .tooltip .xbottom { display: block; background: transparent; font-size: 1px; }
.tooltip .xb1, .tooltip .xb2, .tooltip .xb3, .tooltip .xb4 { display: block; overflow: hidden; }
.tooltip .xb1, .tooltip .xb2, .tooltip .xb3 { height: 1px; }
.tooltip .xb2, .tooltip .xb3, .tooltip .xb4 { background: #666; border-left: 1px solid #333; border-right: 1px solid #333; }
.tooltip .xbottom .xb2, .tooltip .xbottom .xb3, .tooltip .xbottom .xb4 { background: #666; }
.tooltip .xb1 { margin: 0 5px; background: #333; }
.tooltip .xb2 { margin: 0 3px; border-width: 0 2px; }
.tooltip .xb3 { margin: 0 2px; }
.tooltip .xb4 { height: 2px; margin: 0 1px; }

.tooltip .xboxcontent {
    padding: 0 .5em;
    margin: 0;
    color: #000;
    text-shadow: 2px 2px 0px #CCC;
    word-wrap:break-word;
    border: 1px solid #333;
    border-width: 0px 1px 0 1px;
    background-color: #666;
    padding: 0 20px;
    font-size: 125%;
    text-align: center;
}

div#site_nav, div#channel_nav {
    z-index: 1;
}

div#header {
    z-index: 2;
    position: relative;
}
.logo a:hover {
    background-color: inherit;
}



input#login_button {
    width: 147px;
    height: 34px;
    background: url(/images/login_button.jpg) no-repeat;
    cursor: pointer;
    border: 0 none;
    font-size:0;
    color: #0056ad;
}
#favorite_form_container {
  width: 580px;
  height:250px;
  padding: 10px;
  text-align: left;
  position: absolute;
  z-index: 777;
  background: url(/images/app/bg_new.png) no-repeat;
  font-size:12px;

}
*html  #favorite_form_container{background:none; filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src='/images/app/bg_new.png' ,sizingMethod='crop');}
#favorite_form_container .cont{width:580px; height:250px; background:#fff; }
#favorite_form_wrapper {
  position: relative;
  padding-left:15px;
}
#close_list{overflow:hidden; text-align:right; border-bottom:1px dashed #ccc; background:#eeeeee; padding:5px 10px; margin-bottom:20px; width:560px;}
#favorite_form_close{cursor:pointer;}
#favorite_form_success{text-align:center;font-size:18px;margin-top:70px;}
#favorite_form_success img{vertical-align: bottom;margin-right:10px;}

#current_tags_panel {margin: 10px 0 0;}
#current_tags_panel span {display: inline-block; margin: 0 5px 5px 0; padding: 0px 10px; background-color: #5d7a9b; color: #FFF; -webkit-border-radius: 30px; -moz-border-radius: 30px; -o-border-radius: 30px; border-radius: 30px;}
#suggested_tags_panel {margin: 10px 0 0 0;}
#suggested_tags_panel a {display: inline-block; margin: 0 5px 5px 0; padding: 0px 10px; background-color: #aab5c3; -webkit-border-radius: 30px; -moz-border-radius: 30px; -o-border-radius: 30px; border-radius: 30px;}
#suggested_tags_panel a {color: #fff; text-decoration: none;}
#suggested_tags_panel a:hover, #suggested_tags_panel a.added {background-color: #f87b00;}
.news_tag{clear:both; display:block; *display:inline-block; margin:10px 0 5px 0; line-height:20px;}
.news_tag:after{content:"."; display:block; height:0; clear:both; visibility:hidden;}
.news_tag a {display: inline-block; margin: 0 5px 5px 0; padding: 0px 10px; background-color: #aab5c3; -webkit-border-radius: 10px; -moz-border-radius: 10px; -o-border-radius: 10px; border-radius: 10px;color: #fff; text-decoration: none;}
.news_tag a:hover, #suggested_tags_panel a.added {background-color: #f87b00;}
.news_tag span.hilite1 {background-color: transparent;}
.news_tag span.view_all{float:right;}
.news_tag span.view_all a{padding:0 6px; background:none; color:#069; text-decoration:underline;}

.title .news_tag{text-align:center;}

.category_tags { margin-top: 10px; padding: 5px 0 5px; }
.category_tags a{display:inline-block; height:20px; margin:0 6px 0 0; padding:0 0 0 12px; color:#fff; background:url(/images/tag_bg.gif) no-repeat left top; line-height:20px; text-decoration:none;}
.category_tags a span{display:inline-block; height:20px; padding:0 12px 0 0; background:url(/images/tag_bg.gif) no-repeat right top; }
.category_tags a:hover{background:url(/images/tag_bg_3.gif) no-repeat left top;}
.category_tags a:hover span{background:url(/images/tag_bg_3.gif) no-repeat right top;}
div#page {
    width: 100%;
}

div#header {
    height: 30px;
}

div#header, div#content, div#branding {
    margin:0 auto;
    width: 950px;
    position: relative;
}

div#blog_site_nav {
    float: left;
    margin-top: 3px;
}

div#blog_site_nav a.homepage{
    background-image: url(/images/logo-small.gif);
    background-position: left center;
    background-repeat: no-repeat;
    padding-left: 77px;
}

div#blog_site_nav a {
    padding: 3px 5px;
    line-height: 2.2em;
}

a#msna {
    text-decoration: none;
}

div#branding {
    float: none;
    padding: 10px 0;
    color: white;
}

div#branding h1 {
    margin: 0;
    padding-top: 8px;
    font-size: 30px;
}

div#branding a,
div#branding a:link,
div#branding a:active,
div#branding a:visited {
    color: white;
    text-decoration: underline;
}

div#branding a:hover {
    color: white;
    text-decoration: none;
}

div#branding h1 a,
div#branding h1 a:link,
div#branding h1 a:active,
div#branding h1 a:visited {
    text-decoration: none;
}

div#local {
    overflow: hidden;
}

div#local h5 {
    margin-left: 10px;
}

div#local li {
    margin-left: 18px;
    line-height: 2.1em;
    list-style: square;
}

#blog_name {
    padding-left: 38px;
    float: left;
}

#blog_preview {
    padding: 30px 0 0 20px;
    float: left;
}

#blog_domain {
    padding: 35px 20px 0 0;
    float: right;
}

div#content {
    margin-top: 5px;
}

div#local {
    width: 188px;
    border: 1px black solid;
    padding: 10px 3px 0 3px;
    margin: 3px 3px 0 0;
}

div#main {
    width: 714px;
    border: 1px solid;
    padding: 5px 12px;
    margin: 3px 0 0 5px;
    overflow: hidden;
}

#blog_owner {
    text-align:center;
    padding: 0 13px;
}

div#blog_owner_logo {
    border: 1px solid #ccc;
    padding: 10px;
}

div#blog_owner_logo img {
    width: 120px !important;
}

#blog_owner_name {
    padding-top: 5px;
    font-weight: bolder;
}

#user_visits {
    margin-bottom: 20px;
}

#user_visits div.left {
    width: 75px;
    overflow: hidden;
}

div.user_visit {
    float: left;
    width: 75px;
    height: 90px;
    margin: 10px 0 0 5px;
    overflow: hidden;
}

#blog_actions {
    margin-bottom: 20px;
}

#blog_actions ul li{
    list-style: none;
    margin-left: 10px
}

#blog_actions a.profile, #blog_actions a.message, #blog_actions a.guest_book, #blog_actions a.subscription {
    padding: 0 10px 0 20px;
    background-repeat: no-repeat;
    background-position: left center;
}

#blog_actions a.profile {
    background-image: url(/images/blog/profile.png);
}

#blog_actions a.message {
    background-image: url(/images/blog/message.png);
}

#blog_actions a.guest_book {
    background-image: url(/images/blog/guest_book.png);
}

#blog_actions a.subscription {
    background-image: url(/images/blog/subscription.png);
}

div#rss li {
    list-style: none;
}

div.blog_nav {
    right: 20px;
    margin-bottom: 15px;
}

div.pre_next {
    float: right;
    text-align: right;
    padding-top: 5px;
}

div.pre_next a {
    padding: 0 15px;
    background-repeat: no-repeat;
}

div.pre_next a.next {
    background-image: url(/images/gray_west_arrow.gif);
    background-position: left center;
}

div.pre_next a.pre {
    background-image: url(/images/gray_east_arrow.gif);
    background-position: right center;
}

.blog_main {
    border: 1px solid;
    padding: 5px 11px 30px;
    margin-bottom: 15px;
}

.blog_title {
    margin-bottom: 15px;
}

.blog_title h3 .actions a {margin-left: 8px; background-color: transparent}

.blog_bottom {
    padding: 15px 0 5px 0;
}

.blog_bottom li {
    list-style: none;
    display: inline;
    float: left;
    margin: 0 10px 0 0;
    padding-right: 10px;
    border-right: 1px solid;
}

.blog_bottom li.last {
    border-right: none;
}

.blog_bottom a.more {
    padding-right: 50px;
    background-repeat: no-repeat;
    background-image: url(/images/icon_more.gif);
    background-position: right center;
}

.blog_comment {
    margin-top: 15px;
    padding: 15px;
    border-top: 1px solid gray;
    width: 685px;
}

.comment_title, .comment_content {
    padding: 3px;
}

.comment_title .delete {
    position: absolute;
    right: 30px;
}

.comment_content {
    margin-bottom: 10px;
}

div.picture_thumb {
    float: left;
    width: 142px;
    height: 170px;
    margin: 0 12px;
    overflow: hidden;
    text-align: center;
}

div.picture_thumb li {
    list-style: none;
    margin: 0;
}

div.picture_full {
    text-align: center;
    overflow: auto;
    border-top: 1px solid gray;
    padding-top: 15px;
    width: 100%;
}

div.picture_full ul {
    text-align:left;
    width: 100%;
    padding-bottom: 20px;
    margin: 10px 0;
}

div.picture_full li {
    list-style: none;
    margin: 0;
    padding: 15px 0 5px 10px;
}

.show_full_flag {
    float: right;
}

div.digg {
    float: right;
    width: 52px;
    padding: 0 5px;
    text-align: center;
}

.digg h3, .digg div {
    background-image: url(/images/digg.jpg);
    background-repeat: no-repeat;
    padding: 7px 0;
}

.digg h3.digged, .digg div.digged {
    background-image: url(/images/digged.jpg);
}

.digg h3 a, .digg h3 span, .digg div a, .digg div span {
    font-size: 14px;
    font-weight: normal;
    text-decoration: none;
    padding-left: 15px;
    background-repeat: no-repeat;
    background-position: left center;
}

div.digg div.digg_admin {
  background: none;
  width: 100px;
  text-align: left;
}
div.digg div.digg_admin a {
  padding-left: 2px;
}
.digg h3 a.digg, .digg h3 span.digg, .digg div a.digg, .digg div span.digg {
    color: #152F93;
    background-image: url(/images/icon_digg.gif);
}

.digg h3 a.bury, .digg h3 span.bury, .digg div a.bury, .digg div span.bury {
    color: #A03A32;
    background-image: url(/images/icon_bury.gif);
}

div#digg_bottom {
    margin: 5px 0;
    padding-left: 270px;
    display: inline-block;
}

div#digg_bottom div {
    width: 72px;
    height: 50px;
    background-image: url(/images/digg_bottom.gif);
    float: left;
    text-align: center;
    padding-top: 9px;
    margin-right: 10px;
    font-size: 14px;
    line-height: 25px;
    cursor: pointer;
}

div#digg_bottom strong {
    color: white;
}

#share_weibo{display:inline-block; float:right; width:160px; height:32px; margin:0; padding:27px 5px 0 0; background:none; color:#333; font:normal 12px/32px Arial, Helvetica, sans-serif !important; text-align:right; cursor:auto;}

#share_weibo img{ margin:0 5px; }
#share_weibo a {background: transparent;}

div#digg_bottom a {
    color: #1607D1;
    text-decoration: none;
    background: transparent;
}

div#digg_bottom div.digged {
    background-image: url(/images/digged_bottom.gif);
    color: #F14E10;
    cursor: auto;
}

h3.type_good, h3.type_mid, h3.type_original, h3.type_translate, h3.type_reprint {
    padding-left: 25px;
    background-repeat: no-repeat;
    background-position: 0 13px;
}

h3.type_good {
    background-image: url(/images/blog/type_good.png);
}

h3.type_mid {
    background-image: url(/images/blog/type_mid.png);
}

h3.type_original {
    background-image: url(/images/blog/type_original.png);
}

h3.type_translate {
    background-image: url(/images/blog/type_translate.png);
}

h3.type_reprint {
    background-image: url(/images/blog/type_reprint.png);
}

#guest_book_emotes a {
    width: 125px;
    text-decoration: none;
    background-color: transparent;
    color: black;
    display: block;
    float: left;
}

#resume {
    width: 100%;
}

#resume label.title {
    width: 200px;
    font-weight: normal;
}

#resume label {
    width: 50px;
    font-weight: normal;
}

div.group {
    height: 160px;
}

div.group div.content {
    float: right;
    width: 630px;
}

#blog_options li {
    list-style: none;
    margin-left: 0;
}

#blog_options label {
    width: 150px;
}

td.row1 {
    width: 160px;
    background-color: transparent;
    vertical-align: top;
}

h3 span {
    padding-left: 30px;
    font-size: 12px;
    font-weight: normal;
}

div.blog_title h3 {
    font-size: 16px;
    padding-top: 10px;
}

div.blog_title h3 span {
    font-size: 12px;
    margin-left: 5px;
    font-weight: normal;
}

div.blog_title h3 span a {
    margin-left: 8px;
}

table.admin {
    width: 100%;
    margin-bottom: 20px;
}

table.admin thead {
    font-weight: bold;
    font-size: 13px;
}

table.admin tbody td {
    padding: 5px 0;
    border-top: 1px dashed #ddd;
}

div#favorite_tag_list {
    padding-bottom: 10px;
}

div#favorite_tag_list div {
    width: 150px;
    overflow: hidden;
    float: left;
    margin: 5px;
}

div#favorite_tag_list input.text {
    width: 100px;
}

#main_nav {
    border-bottom:1px solid #36a;
    height: 25px;
    margin: 10px 0 12px 0;
}

#main_nav li{
    margin: 0 12px;
    list-style: none;
    float:left;
}

#main_nav a {
    display:block;
    color: black;
    text-decoration:none;
    background: #ddd;
    padding:0.25em 1em;
    border: 1px solid #36a;
    border-bottom: none;
}

#main_nav li.activetab a, ul#main_nav a:hover {
    background:#fff;
    border-bottom:1px solid white;
}

#main_nav li.nonetab {
    padding-left: 30px;
}

#main_nav li.nonetab a {
    width: 200px;
    display: inline;
    border: none;
    background: transparent;
    padding: 0;
}

div.activity {
    border-bottom:1px solid #D8DFEA;
    padding: 7px 10px;
    margin-bottom: 10px;
}

div.new_reply {
    background-color: #eee;
}

.activity_content {
    float: left;
    width: 500px;
    background-repeat: no-repeat;
    padding-left: 22px;
}

.Topic .activity_content {
    background-image: url(/images/subscription/topic.gif);
}

.Blog .activity_content {
    background-image: url(/images/subscription/blog.gif);
}

.BlogComment .activity_content {
    background-image: url(/images/subscription/blog_comment.gif);
}

.Post .activity_content {
    background-image: url(/images/subscription/post.gif);
}

.News .activity_content {
    background-image: url(/images/subscription/news.gif);
}

.NewsComment .activity_content {
    background-image: url(/images/subscription/news_comment.gif);
}

.ArticleComment .activity_content {
    background-image: url(/images/subscription/post.gif);
}

.Picture .activity_content {
    background-image: url(/images/subscription/picture.gif);
}

.PictureComment .activity_content {
    background-image: url(/images/subscription/picture_comment.gif);
}

.Problem .activity_content {
    background-image: url(/images/subscription/problem.gif);
}

.Solution .activity_content {
    background-image: url(/images/subscription/solution.gif);
}

.GroupTopic .activity_content {
    background-image: url(/images/subscription/group_topic.gif);
}

.GroupPost .activity_content {
    background-image: url(/images/subscription/group_post.gif);
}

.Page .activity_content, .Card .activity_content {
    background-image: url(/images/subscription/page.gif);
}

.PageComment .activity_content {
    background-image: url(/images/subscription/page_comment.gif);
}

.GuestBook .activity_content {
    background-image: url(/images/subscription/guest_book.gif);
}

.UserFavorite .activity_content {
    background-image: url(/images/subscription/user_favorite.gif);
}

.Twitter .activity_content {
    background-image: url(/images/subscription/twitter.gif);
}

.Subscription .activity_content {
    background-image: url(/images/subscription/subscription.gif);
}

div.activity_summary {
    padding: 5px 5px 5px 0;
}

div.activity_summary img.thumb {
    border: 1px solid #eee;
    padding: 2px;
}

div.activity_time {
    float: right;
}

div#twitter_decorate {
    background-image: url(/images/blog/twitter_decorate.gif);
    background-repeat: no-repeat;
    background-position: bottom center;
    margin: 5px 13px 0 13px;
}

div#twitter {
    margin: 0 13px 5px 13px;
    padding: 5px;
    border: 1px solid #ccc;
    border-top: none;
}

div.twitter {
    padding-bottom: 10px;
}

div.twitter em {
    color: #999;
    font-size: 11px;
}

div.twitter em a {
    color: #999;
    text-decoration: none;
}

div.twitter em a:hover {
    background-color: transparent;
    text-decoration: underline;
}

div.single_twitter {
    font-size: 18px;
}

div.twitter div.content {
    background-image: url(/images/app/twitter_sbg.png);
    background-repeat: no-repeat;
    padding: 10px 10px 0 20px;
    float: left;
    width: 667px;
    height: 80px;
    margin-left: 2px;
    position: relative;
}

div.twitter div.action {
    position: absolute;
    right: 10px;
    bottom: 5px;
}

div.twitter div.action a:hover {
    background-color: transparent;
}

ul.blog_categories { list-style-type: none; margin: 0;}
ul.blog_categories li { list-style-type: none; display: inline; padding: 0; margin: 0 5px 0 0; }

div#blog_content {
    font-size: 14px;
    line-height: 1.8em;
}

------------ufU1AayX7nQgaratz9kvQS
Content-Disposition: inline; filename=black.css
Content-Type: text/css; charset=utf-8; name=black.css
Content-Location: http://www.iteye.com/stylesheets/themes/blog/black.css?1308833137
Content-Transfer-Encoding: 8bit

div.topic_page, a {
  color: black;
  text-decoration: underline;
}

a:hover {
  color: white;
}

div.app_nav, div#page, .comment_title, tr.mouse_over {
  background-color: #e1e1e1;
}

div#local, div#main, .blog_main, .pagination a:hover, .pagination a:active {
  background-color: white;
  border-color: black;
}

div#app_list div.decorate, a:hover, div#branding, input.button, input.submit, td.buttons a, .pagination span.current {
  background-color: black;
}

.blog_bottom li {
  border-right-color: black;
  color: black;
}

table.admin thead, .pagination a, .pagination a:visited {
  color: black;
}

div.app_nav, .pagination span.current {
  border-color: black;
}

.blog_comment, div.picture_full {
  border-top-color: black;
}
------------ufU1AayX7nQgaratz9kvQS
Content-Disposition: inline; filename=application.js
Content-Type: application/x-javascript; charset=utf-8; name=application.js
Content-Location: http://js.iteye.com/javascripts/application.js?1312179727
Content-Transfer-Encoding: Base64

LyogIFByb3RvdHlwZSBKYXZhU2NyaXB0IGZyYW1ld29yaywgdmVyc2lvbiAxLjYu
MC4zCiAqICAoYykgMjAwNS0yMDA4IFNhbSBTdGVwaGVuc29uCiAqCiAqICBQcm90
b3R5cGUgaXMgZnJlZWx5IGRpc3RyaWJ1dGFibGUgdW5kZXIgdGhlIHRlcm1zIG9m
IGFuIE1JVC1zdHlsZSBsaWNlbnNlLgogKiAgRm9yIGRldGFpbHMsIHNlZSB0aGUg
UHJvdG90eXBlIHdlYiBzaXRlOiBodHRwOi8vd3d3LnByb3RvdHlwZWpzLm9yZy8K
ICoKICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCgp2YXIgUHJvdG90eXBl
ID0gewogIFZlcnNpb246ICcxLjYuMC4zJywKCiAgQnJvd3NlcjogewogICAgSUU6
ICAgICAhISh3aW5kb3cuYXR0YWNoRXZlbnQgJiYKICAgICAgbmF2aWdhdG9yLnVz
ZXJBZ2VudC5pbmRleE9mKCdPcGVyYScpID09PSAtMSksCiAgICBPcGVyYTogIG5h
dmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignT3BlcmEnKSA+IC0xLAogICAgV2Vi
S2l0OiBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0FwcGxlV2ViS2l0Lycp
ID4gLTEsCiAgICBHZWNrbzogIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZign
R2Vja28nKSA+IC0xICYmCiAgICAgIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhP
ZignS0hUTUwnKSA9PT0gLTEsCiAgICBNb2JpbGVTYWZhcmk6ICEhbmF2aWdhdG9y
LnVzZXJBZ2VudC5tYXRjaCgvQXBwbGUuKk1vYmlsZS4qU2FmYXJpLykKICB9LAoK
ICBCcm93c2VyRmVhdHVyZXM6IHsKICAgIFhQYXRoOiAhIWRvY3VtZW50LmV2YWx1
YXRlLAogICAgU2VsZWN0b3JzQVBJOiAhIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Is
CiAgICBFbGVtZW50RXh0ZW5zaW9uczogISF3aW5kb3cuSFRNTEVsZW1lbnQsCiAg
ICBTcGVjaWZpY0VsZW1lbnRFeHRlbnNpb25zOgogICAgICBkb2N1bWVudC5jcmVh
dGVFbGVtZW50KCdkaXYnKVsnX19wcm90b19fJ10gJiYKICAgICAgZG9jdW1lbnQu
Y3JlYXRlRWxlbWVudCgnZGl2JylbJ19fcHJvdG9fXyddICE9PQogICAgICAgIGRv
Y3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKVsnX19wcm90b19fJ10KICB9LAoK
ICBTY3JpcHRGcmFnbWVudDogJzxzY3JpcHRbXj5dKj4oW1xcU1xcc10qPyk8XC9z
Y3JpcHQ+JywKICBKU09ORmlsdGVyOiAvXlwvXCotc2VjdXJlLShbXHNcU10qKVwq
XC9ccyokLywKCiAgZW1wdHlGdW5jdGlvbjogZnVuY3Rpb24oKSB7IH0sCiAgSzog
ZnVuY3Rpb24oeCkgeyByZXR1cm4geCB9Cn07CgppZiAoUHJvdG90eXBlLkJyb3dz
ZXIuTW9iaWxlU2FmYXJpKQogIFByb3RvdHlwZS5Ccm93c2VyRmVhdHVyZXMuU3Bl
Y2lmaWNFbGVtZW50RXh0ZW5zaW9ucyA9IGZhbHNlOwoKCi8qIEJhc2VkIG9uIEFs
ZXggQXJuZWxsJ3MgaW5oZXJpdGFuY2UgaW1wbGVtZW50YXRpb24uICovCnZhciBD
bGFzcyA9IHsKICBjcmVhdGU6IGZ1bmN0aW9uKCkgewogICAgdmFyIHBhcmVudCA9
IG51bGwsIHByb3BlcnRpZXMgPSAkQShhcmd1bWVudHMpOwogICAgaWYgKE9iamVj
dC5pc0Z1bmN0aW9uKHByb3BlcnRpZXNbMF0pKQogICAgICBwYXJlbnQgPSBwcm9w
ZXJ0aWVzLnNoaWZ0KCk7CgogICAgZnVuY3Rpb24ga2xhc3MoKSB7CiAgICAgIHRo
aXMuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfQoKICAg
IE9iamVjdC5leHRlbmQoa2xhc3MsIENsYXNzLk1ldGhvZHMpOwogICAga2xhc3Mu
c3VwZXJjbGFzcyA9IHBhcmVudDsKICAgIGtsYXNzLnN1YmNsYXNzZXMgPSBbXTsK
CiAgICBpZiAocGFyZW50KSB7CiAgICAgIHZhciBzdWJjbGFzcyA9IGZ1bmN0aW9u
KCkgeyB9OwogICAgICBzdWJjbGFzcy5wcm90b3R5cGUgPSBwYXJlbnQucHJvdG90
eXBlOwogICAgICBrbGFzcy5wcm90b3R5cGUgPSBuZXcgc3ViY2xhc3M7CiAgICAg
IHBhcmVudC5zdWJjbGFzc2VzLnB1c2goa2xhc3MpOwogICAgfQoKICAgIGZvciAo
dmFyIGkgPSAwOyBpIDwgcHJvcGVydGllcy5sZW5ndGg7IGkrKykKICAgICAga2xh
c3MuYWRkTWV0aG9kcyhwcm9wZXJ0aWVzW2ldKTsKCiAgICBpZiAoIWtsYXNzLnBy
b3RvdHlwZS5pbml0aWFsaXplKQogICAgICBrbGFzcy5wcm90b3R5cGUuaW5pdGlh
bGl6ZSA9IFByb3RvdHlwZS5lbXB0eUZ1bmN0aW9uOwoKICAgIGtsYXNzLnByb3Rv
dHlwZS5jb25zdHJ1Y3RvciA9IGtsYXNzOwoKICAgIHJldHVybiBrbGFzczsKICB9
Cn07CgpDbGFzcy5NZXRob2RzID0gewogIGFkZE1ldGhvZHM6IGZ1bmN0aW9uKHNv
dXJjZSkgewogICAgdmFyIGFuY2VzdG9yICAgPSB0aGlzLnN1cGVyY2xhc3MgJiYg
dGhpcy5zdXBlcmNsYXNzLnByb3RvdHlwZTsKICAgIHZhciBwcm9wZXJ0aWVzID0g
T2JqZWN0LmtleXMoc291cmNlKTsKCiAgICBpZiAoIU9iamVjdC5rZXlzKHsgdG9T
dHJpbmc6IHRydWUgfSkubGVuZ3RoKQogICAgICBwcm9wZXJ0aWVzLnB1c2goInRv
U3RyaW5nIiwgInZhbHVlT2YiKTsKCiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3Ro
ID0gcHJvcGVydGllcy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICB2
YXIgcHJvcGVydHkgPSBwcm9wZXJ0aWVzW2ldLCB2YWx1ZSA9IHNvdXJjZVtwcm9w
ZXJ0eV07CiAgICAgIGlmIChhbmNlc3RvciAmJiBPYmplY3QuaXNGdW5jdGlvbih2
YWx1ZSkgJiYKICAgICAgICAgIHZhbHVlLmFyZ3VtZW50TmFtZXMoKS5maXJzdCgp
ID09ICIkc3VwZXIiKSB7CiAgICAgICAgdmFyIG1ldGhvZCA9IHZhbHVlOwogICAg
ICAgIHZhbHVlID0gKGZ1bmN0aW9uKG0pIHsKICAgICAgICAgIHJldHVybiBmdW5j
dGlvbigpIHsgcmV0dXJuIGFuY2VzdG9yW21dLmFwcGx5KHRoaXMsIGFyZ3VtZW50
cykgfTsKICAgICAgICB9KShwcm9wZXJ0eSkud3JhcChtZXRob2QpOwoKICAgICAg
ICB2YWx1ZS52YWx1ZU9mID0gbWV0aG9kLnZhbHVlT2YuYmluZChtZXRob2QpOwog
ICAgICAgIHZhbHVlLnRvU3RyaW5nID0gbWV0aG9kLnRvU3RyaW5nLmJpbmQobWV0
aG9kKTsKICAgICAgfQogICAgICB0aGlzLnByb3RvdHlwZVtwcm9wZXJ0eV0gPSB2
YWx1ZTsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9Cn07Cgp2YXIgQWJzdHJh
Y3QgPSB7IH07CgpPYmplY3QuZXh0ZW5kID0gZnVuY3Rpb24oZGVzdGluYXRpb24s
IHNvdXJjZSkgewogIGZvciAodmFyIHByb3BlcnR5IGluIHNvdXJjZSkKICAgIGRl
c3RpbmF0aW9uW3Byb3BlcnR5XSA9IHNvdXJjZVtwcm9wZXJ0eV07CiAgcmV0dXJu
IGRlc3RpbmF0aW9uOwp9OwoKT2JqZWN0LmV4dGVuZChPYmplY3QsIHsKICBpbnNw
ZWN0OiBmdW5jdGlvbihvYmplY3QpIHsKICAgIHRyeSB7CiAgICAgIGlmIChPYmpl
Y3QuaXNVbmRlZmluZWQob2JqZWN0KSkgcmV0dXJuICd1bmRlZmluZWQnOwogICAg
ICBpZiAob2JqZWN0ID09PSBudWxsKSByZXR1cm4gJ251bGwnOwogICAgICByZXR1
cm4gb2JqZWN0Lmluc3BlY3QgPyBvYmplY3QuaW5zcGVjdCgpIDogU3RyaW5nKG9i
amVjdCk7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIGlmIChlIGluc3RhbmNlb2Yg
UmFuZ2VFcnJvcikgcmV0dXJuICcuLi4nOwogICAgICB0aHJvdyBlOwogICAgfQog
IH0sCgogIHRvSlNPTjogZnVuY3Rpb24ob2JqZWN0KSB7CiAgICB2YXIgdHlwZSA9
IHR5cGVvZiBvYmplY3Q7CiAgICBzd2l0Y2ggKHR5cGUpIHsKICAgICAgY2FzZSAn
dW5kZWZpbmVkJzoKICAgICAgY2FzZSAnZnVuY3Rpb24nOgogICAgICBjYXNlICd1
bmtub3duJzogcmV0dXJuOwogICAgICBjYXNlICdib29sZWFuJzogcmV0dXJuIG9i
amVjdC50b1N0cmluZygpOwogICAgfQoKICAgIGlmIChvYmplY3QgPT09IG51bGwp
IHJldHVybiAnbnVsbCc7CiAgICBpZiAob2JqZWN0LnRvSlNPTikgcmV0dXJuIG9i
amVjdC50b0pTT04oKTsKICAgIGlmIChPYmplY3QuaXNFbGVtZW50KG9iamVjdCkp
IHJldHVybjsKCiAgICB2YXIgcmVzdWx0cyA9IFtdOwogICAgZm9yICh2YXIgcHJv
cGVydHkgaW4gb2JqZWN0KSB7CiAgICAgIHZhciB2YWx1ZSA9IE9iamVjdC50b0pT
T04ob2JqZWN0W3Byb3BlcnR5XSk7CiAgICAgIGlmICghT2JqZWN0LmlzVW5kZWZp
bmVkKHZhbHVlKSkKICAgICAgICByZXN1bHRzLnB1c2gocHJvcGVydHkudG9KU09O
KCkgKyAnOiAnICsgdmFsdWUpOwogICAgfQoKICAgIHJldHVybiAneycgKyByZXN1
bHRzLmpvaW4oJywgJykgKyAnfSc7CiAgfSwKCiAgdG9RdWVyeVN0cmluZzogZnVu
Y3Rpb24ob2JqZWN0KSB7CiAgICByZXR1cm4gJEgob2JqZWN0KS50b1F1ZXJ5U3Ry
aW5nKCk7CiAgfSwKCiAgdG9IVE1MOiBmdW5jdGlvbihvYmplY3QpIHsKICAgIHJl
dHVybiBvYmplY3QgJiYgb2JqZWN0LnRvSFRNTCA/IG9iamVjdC50b0hUTUwoKSA6
IFN0cmluZy5pbnRlcnByZXQob2JqZWN0KTsKICB9LAoKICBrZXlzOiBmdW5jdGlv
bihvYmplY3QpIHsKICAgIHZhciBrZXlzID0gW107CiAgICBmb3IgKHZhciBwcm9w
ZXJ0eSBpbiBvYmplY3QpCiAgICAgIGtleXMucHVzaChwcm9wZXJ0eSk7CiAgICBy
ZXR1cm4ga2V5czsKICB9LAoKICB2YWx1ZXM6IGZ1bmN0aW9uKG9iamVjdCkgewog
ICAgdmFyIHZhbHVlcyA9IFtdOwogICAgZm9yICh2YXIgcHJvcGVydHkgaW4gb2Jq
ZWN0KQogICAgICB2YWx1ZXMucHVzaChvYmplY3RbcHJvcGVydHldKTsKICAgIHJl
dHVybiB2YWx1ZXM7CiAgfSwKCiAgY2xvbmU6IGZ1bmN0aW9uKG9iamVjdCkgewog
ICAgcmV0dXJuIE9iamVjdC5leHRlbmQoeyB9LCBvYmplY3QpOwogIH0sCgogIGlz
RWxlbWVudDogZnVuY3Rpb24ob2JqZWN0KSB7CiAgICByZXR1cm4gISEob2JqZWN0
ICYmIG9iamVjdC5ub2RlVHlwZSA9PSAxKTsKICB9LAoKICBpc0FycmF5OiBmdW5j
dGlvbihvYmplY3QpIHsKICAgIHJldHVybiBvYmplY3QgIT0gbnVsbCAmJiB0eXBl
b2Ygb2JqZWN0ID09ICJvYmplY3QiICYmCiAgICAgICdzcGxpY2UnIGluIG9iamVj
dCAmJiAnam9pbicgaW4gb2JqZWN0OwogIH0sCgogIGlzSGFzaDogZnVuY3Rpb24o
b2JqZWN0KSB7CiAgICByZXR1cm4gb2JqZWN0IGluc3RhbmNlb2YgSGFzaDsKICB9
LAoKICBpc0Z1bmN0aW9uOiBmdW5jdGlvbihvYmplY3QpIHsKICAgIHJldHVybiB0
eXBlb2Ygb2JqZWN0ID09ICJmdW5jdGlvbiI7CiAgfSwKCiAgaXNTdHJpbmc6IGZ1
bmN0aW9uKG9iamVjdCkgewogICAgcmV0dXJuIHR5cGVvZiBvYmplY3QgPT0gInN0
cmluZyI7CiAgfSwKCiAgaXNOdW1iZXI6IGZ1bmN0aW9uKG9iamVjdCkgewogICAg
cmV0dXJuIHR5cGVvZiBvYmplY3QgPT0gIm51bWJlciI7CiAgfSwKCiAgaXNVbmRl
ZmluZWQ6IGZ1bmN0aW9uKG9iamVjdCkgewogICAgcmV0dXJuIHR5cGVvZiBvYmpl
Y3QgPT0gInVuZGVmaW5lZCI7CiAgfQp9KTsKCk9iamVjdC5leHRlbmQoRnVuY3Rp
b24ucHJvdG90eXBlLCB7CiAgYXJndW1lbnROYW1lczogZnVuY3Rpb24oKSB7CiAg
ICB2YXIgbmFtZXMgPSB0aGlzLnRvU3RyaW5nKCkubWF0Y2goL15bXHNcKF0qZnVu
Y3Rpb25bXihdKlwoKFteXCldKilcKS8pWzFdCiAgICAgIC5yZXBsYWNlKC9ccysv
ZywgJycpLnNwbGl0KCcsJyk7CiAgICByZXR1cm4gbmFtZXMubGVuZ3RoID09IDEg
JiYgIW5hbWVzWzBdID8gW10gOiBuYW1lczsKICB9LAoKICBiaW5kOiBmdW5jdGlv
bigpIHsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMiAmJiBPYmplY3QuaXNV
bmRlZmluZWQoYXJndW1lbnRzWzBdKSkgcmV0dXJuIHRoaXM7CiAgICB2YXIgX19t
ZXRob2QgPSB0aGlzLCBhcmdzID0gJEEoYXJndW1lbnRzKSwgb2JqZWN0ID0gYXJn
cy5zaGlmdCgpOwogICAgcmV0dXJuIGZ1bmN0aW9uKCkgewogICAgICByZXR1cm4g
X19tZXRob2QuYXBwbHkob2JqZWN0LCBhcmdzLmNvbmNhdCgkQShhcmd1bWVudHMp
KSk7CiAgICB9CiAgfSwKCiAgYmluZEFzRXZlbnRMaXN0ZW5lcjogZnVuY3Rpb24o
KSB7CiAgICB2YXIgX19tZXRob2QgPSB0aGlzLCBhcmdzID0gJEEoYXJndW1lbnRz
KSwgb2JqZWN0ID0gYXJncy5zaGlmdCgpOwogICAgcmV0dXJuIGZ1bmN0aW9uKGV2
ZW50KSB7CiAgICAgIHJldHVybiBfX21ldGhvZC5hcHBseShvYmplY3QsIFtldmVu
dCB8fCB3aW5kb3cuZXZlbnRdLmNvbmNhdChhcmdzKSk7CiAgICB9CiAgfSwKCiAg
Y3Vycnk6IGZ1bmN0aW9uKCkgewogICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSBy
ZXR1cm4gdGhpczsKICAgIHZhciBfX21ldGhvZCA9IHRoaXMsIGFyZ3MgPSAkQShh
cmd1bWVudHMpOwogICAgcmV0dXJuIGZ1bmN0aW9uKCkgewogICAgICByZXR1cm4g
X19tZXRob2QuYXBwbHkodGhpcywgYXJncy5jb25jYXQoJEEoYXJndW1lbnRzKSkp
OwogICAgfQogIH0sCgogIGRlbGF5OiBmdW5jdGlvbigpIHsKICAgIHZhciBfX21l
dGhvZCA9IHRoaXMsIGFyZ3MgPSAkQShhcmd1bWVudHMpLCB0aW1lb3V0ID0gYXJn
cy5zaGlmdCgpICogMTAwMDsKICAgIHJldHVybiB3aW5kb3cuc2V0VGltZW91dChm
dW5jdGlvbigpIHsKICAgICAgcmV0dXJuIF9fbWV0aG9kLmFwcGx5KF9fbWV0aG9k
LCBhcmdzKTsKICAgIH0sIHRpbWVvdXQpOwogIH0sCgogIGRlZmVyOiBmdW5jdGlv
bigpIHsKICAgIHZhciBhcmdzID0gWzAuMDFdLmNvbmNhdCgkQShhcmd1bWVudHMp
KTsKICAgIHJldHVybiB0aGlzLmRlbGF5LmFwcGx5KHRoaXMsIGFyZ3MpOwogIH0s
CgogIHdyYXA6IGZ1bmN0aW9uKHdyYXBwZXIpIHsKICAgIHZhciBfX21ldGhvZCA9
IHRoaXM7CiAgICByZXR1cm4gZnVuY3Rpb24oKSB7CiAgICAgIHJldHVybiB3cmFw
cGVyLmFwcGx5KHRoaXMsIFtfX21ldGhvZC5iaW5kKHRoaXMpXS5jb25jYXQoJEEo
YXJndW1lbnRzKSkpOwogICAgfQogIH0sCgogIG1ldGhvZGl6ZTogZnVuY3Rpb24o
KSB7CiAgICBpZiAodGhpcy5fbWV0aG9kaXplZCkgcmV0dXJuIHRoaXMuX21ldGhv
ZGl6ZWQ7CiAgICB2YXIgX19tZXRob2QgPSB0aGlzOwogICAgcmV0dXJuIHRoaXMu
X21ldGhvZGl6ZWQgPSBmdW5jdGlvbigpIHsKICAgICAgcmV0dXJuIF9fbWV0aG9k
LmFwcGx5KG51bGwsIFt0aGlzXS5jb25jYXQoJEEoYXJndW1lbnRzKSkpOwogICAg
fTsKICB9Cn0pOwoKRGF0ZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24oKSB7
CiAgcmV0dXJuICciJyArIHRoaXMuZ2V0VVRDRnVsbFllYXIoKSArICctJyArCiAg
ICAodGhpcy5nZXRVVENNb250aCgpICsgMSkudG9QYWRkZWRTdHJpbmcoMikgKyAn
LScgKwogICAgdGhpcy5nZXRVVENEYXRlKCkudG9QYWRkZWRTdHJpbmcoMikgKyAn
VCcgKwogICAgdGhpcy5nZXRVVENIb3VycygpLnRvUGFkZGVkU3RyaW5nKDIpICsg
JzonICsKICAgIHRoaXMuZ2V0VVRDTWludXRlcygpLnRvUGFkZGVkU3RyaW5nKDIp
ICsgJzonICsKICAgIHRoaXMuZ2V0VVRDU2Vjb25kcygpLnRvUGFkZGVkU3RyaW5n
KDIpICsgJ1oiJzsKfTsKCnZhciBUcnkgPSB7CiAgdGhlc2U6IGZ1bmN0aW9uKCkg
ewogICAgdmFyIHJldHVyblZhbHVlOwoKICAgIGZvciAodmFyIGkgPSAwLCBsZW5n
dGggPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAg
dmFyIGxhbWJkYSA9IGFyZ3VtZW50c1tpXTsKICAgICAgdHJ5IHsKICAgICAgICBy
ZXR1cm5WYWx1ZSA9IGxhbWJkYSgpOwogICAgICAgIGJyZWFrOwogICAgICB9IGNh
dGNoIChlKSB7IH0KICAgIH0KCiAgICByZXR1cm4gcmV0dXJuVmFsdWU7CiAgfQp9
OwoKUmVnRXhwLnByb3RvdHlwZS5tYXRjaCA9IFJlZ0V4cC5wcm90b3R5cGUudGVz
dDsKClJlZ0V4cC5lc2NhcGUgPSBmdW5jdGlvbihzdHIpIHsKICByZXR1cm4gU3Ry
aW5nKHN0cikucmVwbGFjZSgvKFsuKis/Xj0hOiR7fSgpfFtcXVwvXFxdKS9nLCAn
XFwkMScpOwp9OwoKLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCgp2YXIg
UGVyaW9kaWNhbEV4ZWN1dGVyID0gQ2xhc3MuY3JlYXRlKHsKICBpbml0aWFsaXpl
OiBmdW5jdGlvbihjYWxsYmFjaywgZnJlcXVlbmN5KSB7CiAgICB0aGlzLmNhbGxi
YWNrID0gY2FsbGJhY2s7CiAgICB0aGlzLmZyZXF1ZW5jeSA9IGZyZXF1ZW5jeTsK
ICAgIHRoaXMuY3VycmVudGx5RXhlY3V0aW5nID0gZmFsc2U7CgogICAgdGhpcy5y
ZWdpc3RlckNhbGxiYWNrKCk7CiAgfSwKCiAgcmVnaXN0ZXJDYWxsYmFjazogZnVu
Y3Rpb24oKSB7CiAgICB0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwodGhpcy5vblRp
bWVyRXZlbnQuYmluZCh0aGlzKSwgdGhpcy5mcmVxdWVuY3kgKiAxMDAwKTsKICB9
LAoKICBleGVjdXRlOiBmdW5jdGlvbigpIHsKICAgIHRoaXMuY2FsbGJhY2sodGhp
cyk7CiAgfSwKCiAgc3RvcDogZnVuY3Rpb24oKSB7CiAgICBpZiAoIXRoaXMudGlt
ZXIpIHJldHVybjsKICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7CiAgICB0
aGlzLnRpbWVyID0gbnVsbDsKICB9LAoKICBvblRpbWVyRXZlbnQ6IGZ1bmN0aW9u
KCkgewogICAgaWYgKCF0aGlzLmN1cnJlbnRseUV4ZWN1dGluZykgewogICAgICB0
cnkgewogICAgICAgIHRoaXMuY3VycmVudGx5RXhlY3V0aW5nID0gdHJ1ZTsKICAg
ICAgICB0aGlzLmV4ZWN1dGUoKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICB0
aGlzLmN1cnJlbnRseUV4ZWN1dGluZyA9IGZhbHNlOwogICAgICB9CiAgICB9CiAg
fQp9KTsKT2JqZWN0LmV4dGVuZChTdHJpbmcsIHsKICBpbnRlcnByZXQ6IGZ1bmN0
aW9uKHZhbHVlKSB7CiAgICByZXR1cm4gdmFsdWUgPT0gbnVsbCA/ICcnIDogU3Ry
aW5nKHZhbHVlKTsKICB9LAogIHNwZWNpYWxDaGFyOiB7CiAgICAnXGInOiAnXFxi
JywKICAgICdcdCc6ICdcXHQnLAogICAgJ1xuJzogJ1xcbicsCiAgICAnXGYnOiAn
XFxmJywKICAgICdccic6ICdcXHInLAogICAgJ1xcJzogJ1xcXFwnCiAgfQp9KTsK
Ck9iamVjdC5leHRlbmQoU3RyaW5nLnByb3RvdHlwZSwgewogIGdzdWI6IGZ1bmN0
aW9uKHBhdHRlcm4sIHJlcGxhY2VtZW50KSB7CiAgICB2YXIgcmVzdWx0ID0gJycs
IHNvdXJjZSA9IHRoaXMsIG1hdGNoOwogICAgcmVwbGFjZW1lbnQgPSBhcmd1bWVu
dHMuY2FsbGVlLnByZXBhcmVSZXBsYWNlbWVudChyZXBsYWNlbWVudCk7CgogICAg
d2hpbGUgKHNvdXJjZS5sZW5ndGggPiAwKSB7CiAgICAgIGlmIChtYXRjaCA9IHNv
dXJjZS5tYXRjaChwYXR0ZXJuKSkgewogICAgICAgIHJlc3VsdCArPSBzb3VyY2Uu
c2xpY2UoMCwgbWF0Y2guaW5kZXgpOwogICAgICAgIHJlc3VsdCArPSBTdHJpbmcu
aW50ZXJwcmV0KHJlcGxhY2VtZW50KG1hdGNoKSk7CiAgICAgICAgc291cmNlICA9
IHNvdXJjZS5zbGljZShtYXRjaC5pbmRleCArIG1hdGNoWzBdLmxlbmd0aCk7CiAg
ICAgIH0gZWxzZSB7CiAgICAgICAgcmVzdWx0ICs9IHNvdXJjZSwgc291cmNlID0g
Jyc7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiByZXN1bHQ7CiAgfSwKCiAgc3Vi
OiBmdW5jdGlvbihwYXR0ZXJuLCByZXBsYWNlbWVudCwgY291bnQpIHsKICAgIHJl
cGxhY2VtZW50ID0gdGhpcy5nc3ViLnByZXBhcmVSZXBsYWNlbWVudChyZXBsYWNl
bWVudCk7CiAgICBjb3VudCA9IE9iamVjdC5pc1VuZGVmaW5lZChjb3VudCkgPyAx
IDogY291bnQ7CgogICAgcmV0dXJuIHRoaXMuZ3N1YihwYXR0ZXJuLCBmdW5jdGlv
bihtYXRjaCkgewogICAgICBpZiAoLS1jb3VudCA8IDApIHJldHVybiBtYXRjaFsw
XTsKICAgICAgcmV0dXJuIHJlcGxhY2VtZW50KG1hdGNoKTsKICAgIH0pOwogIH0s
CgogIHNjYW46IGZ1bmN0aW9uKHBhdHRlcm4sIGl0ZXJhdG9yKSB7CiAgICB0aGlz
LmdzdWIocGF0dGVybiwgaXRlcmF0b3IpOwogICAgcmV0dXJuIFN0cmluZyh0aGlz
KTsKICB9LAoKICB0cnVuY2F0ZTogZnVuY3Rpb24obGVuZ3RoLCB0cnVuY2F0aW9u
KSB7CiAgICBsZW5ndGggPSBsZW5ndGggfHwgMzA7CiAgICB0cnVuY2F0aW9uID0g
T2JqZWN0LmlzVW5kZWZpbmVkKHRydW5jYXRpb24pID8gJy4uLicgOiB0cnVuY2F0
aW9uOwogICAgcmV0dXJuIHRoaXMubGVuZ3RoID4gbGVuZ3RoID8KICAgICAgdGhp
cy5zbGljZSgwLCBsZW5ndGggLSB0cnVuY2F0aW9uLmxlbmd0aCkgKyB0cnVuY2F0
aW9uIDogU3RyaW5nKHRoaXMpOwogIH0sCgogIHN0cmlwOiBmdW5jdGlvbigpIHsK
ICAgIHJldHVybiB0aGlzLnJlcGxhY2UoL15ccysvLCAnJykucmVwbGFjZSgvXHMr
JC8sICcnKTsKICB9LAoKICBzdHJpcFRhZ3M6IGZ1bmN0aW9uKCkgewogICAgcmV0
dXJuIHRoaXMucmVwbGFjZSgvPFwvP1tePl0rPi9naSwgJycpOwogIH0sCgogIHN0
cmlwU2NyaXB0czogZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gdGhpcy5yZXBsYWNl
KG5ldyBSZWdFeHAoUHJvdG90eXBlLlNjcmlwdEZyYWdtZW50LCAnaW1nJyksICcn
KTsKICB9LAoKICBleHRyYWN0U2NyaXB0czogZnVuY3Rpb24oKSB7CiAgICB2YXIg
bWF0Y2hBbGwgPSBuZXcgUmVnRXhwKFByb3RvdHlwZS5TY3JpcHRGcmFnbWVudCwg
J2ltZycpOwogICAgdmFyIG1hdGNoT25lID0gbmV3IFJlZ0V4cChQcm90b3R5cGUu
U2NyaXB0RnJhZ21lbnQsICdpbScpOwogICAgcmV0dXJuICh0aGlzLm1hdGNoKG1h
dGNoQWxsKSB8fCBbXSkubWFwKGZ1bmN0aW9uKHNjcmlwdFRhZykgewogICAgICBy
ZXR1cm4gKHNjcmlwdFRhZy5tYXRjaChtYXRjaE9uZSkgfHwgWycnLCAnJ10pWzFd
OwogICAgfSk7CiAgfSwKCiAgZXZhbFNjcmlwdHM6IGZ1bmN0aW9uKCkgewogICAg
cmV0dXJuIHRoaXMuZXh0cmFjdFNjcmlwdHMoKS5tYXAoZnVuY3Rpb24oc2NyaXB0
KSB7IHJldHVybiBldmFsKHNjcmlwdCkgfSk7CiAgfSwKCiAgZXNjYXBlSFRNTDog
ZnVuY3Rpb24oKSB7CiAgICB2YXIgc2VsZiA9IGFyZ3VtZW50cy5jYWxsZWU7CiAg
ICBzZWxmLnRleHQuZGF0YSA9IHRoaXM7CiAgICByZXR1cm4gc2VsZi5kaXYuaW5u
ZXJIVE1MOwogIH0sCgogIHVuZXNjYXBlSFRNTDogZnVuY3Rpb24oKSB7CiAgICB2
YXIgZGl2ID0gbmV3IEVsZW1lbnQoJ2RpdicpOwogICAgZGl2LmlubmVySFRNTCA9
IHRoaXMuc3RyaXBUYWdzKCk7CiAgICByZXR1cm4gZGl2LmNoaWxkTm9kZXNbMF0g
PyAoZGl2LmNoaWxkTm9kZXMubGVuZ3RoID4gMSA/CiAgICAgICRBKGRpdi5jaGls
ZE5vZGVzKS5pbmplY3QoJycsIGZ1bmN0aW9uKG1lbW8sIG5vZGUpIHsgcmV0dXJu
IG1lbW8rbm9kZS5ub2RlVmFsdWUgfSkgOgogICAgICBkaXYuY2hpbGROb2Rlc1sw
XS5ub2RlVmFsdWUpIDogJyc7CiAgfSwKCiAgdG9RdWVyeVBhcmFtczogZnVuY3Rp
b24oc2VwYXJhdG9yKSB7CiAgICB2YXIgbWF0Y2ggPSB0aGlzLnN0cmlwKCkubWF0
Y2goLyhbXj8jXSopKCMuKik/JC8pOwogICAgaWYgKCFtYXRjaCkgcmV0dXJuIHsg
fTsKCiAgICByZXR1cm4gbWF0Y2hbMV0uc3BsaXQoc2VwYXJhdG9yIHx8ICcmJyku
aW5qZWN0KHsgfSwgZnVuY3Rpb24oaGFzaCwgcGFpcikgewogICAgICBpZiAoKHBh
aXIgPSBwYWlyLnNwbGl0KCc9JykpWzBdKSB7CiAgICAgICAgdmFyIGtleSA9IGRl
Y29kZVVSSUNvbXBvbmVudChwYWlyLnNoaWZ0KCkpOwogICAgICAgIHZhciB2YWx1
ZSA9IHBhaXIubGVuZ3RoID4gMSA/IHBhaXIuam9pbignPScpIDogcGFpclswXTsK
ICAgICAgICBpZiAodmFsdWUgIT0gdW5kZWZpbmVkKSB2YWx1ZSA9IGRlY29kZVVS
SUNvbXBvbmVudCh2YWx1ZSk7CgogICAgICAgIGlmIChrZXkgaW4gaGFzaCkgewog
ICAgICAgICAgaWYgKCFPYmplY3QuaXNBcnJheShoYXNoW2tleV0pKSBoYXNoW2tl
eV0gPSBbaGFzaFtrZXldXTsKICAgICAgICAgIGhhc2hba2V5XS5wdXNoKHZhbHVl
KTsKICAgICAgICB9CiAgICAgICAgZWxzZSBoYXNoW2tleV0gPSB2YWx1ZTsKICAg
ICAgfQogICAgICByZXR1cm4gaGFzaDsKICAgIH0pOwogIH0sCgogIHRvQXJyYXk6
IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHRoaXMuc3BsaXQoJycpOwogIH0sCgog
IHN1Y2M6IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHRoaXMuc2xpY2UoMCwgdGhp
cy5sZW5ndGggLSAxKSArCiAgICAgIFN0cmluZy5mcm9tQ2hhckNvZGUodGhpcy5j
aGFyQ29kZUF0KHRoaXMubGVuZ3RoIC0gMSkgKyAxKTsKICB9LAoKICB0aW1lczog
ZnVuY3Rpb24oY291bnQpIHsKICAgIHJldHVybiBjb3VudCA8IDEgPyAnJyA6IG5l
dyBBcnJheShjb3VudCArIDEpLmpvaW4odGhpcyk7CiAgfSwKCiAgY2FtZWxpemU6
IGZ1bmN0aW9uKCkgewogICAgdmFyIHBhcnRzID0gdGhpcy5zcGxpdCgnLScpLCBs
ZW4gPSBwYXJ0cy5sZW5ndGg7CiAgICBpZiAobGVuID09IDEpIHJldHVybiBwYXJ0
c1swXTsKCiAgICB2YXIgY2FtZWxpemVkID0gdGhpcy5jaGFyQXQoMCkgPT0gJy0n
CiAgICAgID8gcGFydHNbMF0uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBwYXJ0
c1swXS5zdWJzdHJpbmcoMSkKICAgICAgOiBwYXJ0c1swXTsKCiAgICBmb3IgKHZh
ciBpID0gMTsgaSA8IGxlbjsgaSsrKQogICAgICBjYW1lbGl6ZWQgKz0gcGFydHNb
aV0uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBwYXJ0c1tpXS5zdWJzdHJpbmco
MSk7CgogICAgcmV0dXJuIGNhbWVsaXplZDsKICB9LAoKICBjYXBpdGFsaXplOiBm
dW5jdGlvbigpIHsKICAgIHJldHVybiB0aGlzLmNoYXJBdCgwKS50b1VwcGVyQ2Fz
ZSgpICsgdGhpcy5zdWJzdHJpbmcoMSkudG9Mb3dlckNhc2UoKTsKICB9LAoKICB1
bmRlcnNjb3JlOiBmdW5jdGlvbigpIHsKICAgIHJldHVybiB0aGlzLmdzdWIoLzo6
LywgJy8nKS5nc3ViKC8oW0EtWl0rKShbQS1aXVthLXpdKS8sJyN7MX1fI3syfScp
LmdzdWIoLyhbYS16XGRdKShbQS1aXSkvLCcjezF9XyN7Mn0nKS5nc3ViKC8tLywn
XycpLnRvTG93ZXJDYXNlKCk7CiAgfSwKCiAgZGFzaGVyaXplOiBmdW5jdGlvbigp
IHsKICAgIHJldHVybiB0aGlzLmdzdWIoL18vLCctJyk7CiAgfSwKCiAgaW5zcGVj
dDogZnVuY3Rpb24odXNlRG91YmxlUXVvdGVzKSB7CiAgICB2YXIgZXNjYXBlZFN0
cmluZyA9IHRoaXMuZ3N1YigvW1x4MDAtXHgxZlxcXS8sIGZ1bmN0aW9uKG1hdGNo
KSB7CiAgICAgIHZhciBjaGFyYWN0ZXIgPSBTdHJpbmcuc3BlY2lhbENoYXJbbWF0
Y2hbMF1dOwogICAgICByZXR1cm4gY2hhcmFjdGVyID8gY2hhcmFjdGVyIDogJ1xc
dTAwJyArIG1hdGNoWzBdLmNoYXJDb2RlQXQoKS50b1BhZGRlZFN0cmluZygyLCAx
Nik7CiAgICB9KTsKICAgIGlmICh1c2VEb3VibGVRdW90ZXMpIHJldHVybiAnIicg
KyBlc2NhcGVkU3RyaW5nLnJlcGxhY2UoLyIvZywgJ1xcIicpICsgJyInOwogICAg
cmV0dXJuICInIiArIGVzY2FwZWRTdHJpbmcucmVwbGFjZSgvJy9nLCAnXFxcJycp
ICsgIiciOwogIH0sCgogIHRvSlNPTjogZnVuY3Rpb24oKSB7CiAgICByZXR1cm4g
dGhpcy5pbnNwZWN0KHRydWUpOwogIH0sCgogIHVuZmlsdGVySlNPTjogZnVuY3Rp
b24oZmlsdGVyKSB7CiAgICByZXR1cm4gdGhpcy5zdWIoZmlsdGVyIHx8IFByb3Rv
dHlwZS5KU09ORmlsdGVyLCAnI3sxfScpOwogIH0sCgogIGlzSlNPTjogZnVuY3Rp
b24oKSB7CiAgICB2YXIgc3RyID0gdGhpczsKICAgIGlmIChzdHIuYmxhbmsoKSkg
cmV0dXJuIGZhbHNlOwogICAgc3RyID0gdGhpcy5yZXBsYWNlKC9cXC4vZywgJ0An
KS5yZXBsYWNlKC8iW14iXFxcblxyXSoiL2csICcnKTsKICAgIHJldHVybiAoL15b
LDp7fVxbXF0wLTkuXC0rRWFlZmxuci11IFxuXHJcdF0qJC8pLnRlc3Qoc3RyKTsK
ICB9LAoKICBldmFsSlNPTjogZnVuY3Rpb24oc2FuaXRpemUpIHsKICAgIHZhciBq
c29uID0gdGhpcy51bmZpbHRlckpTT04oKTsKICAgIHRyeSB7CiAgICAgIGlmICgh
c2FuaXRpemUgfHwganNvbi5pc0pTT04oKSkgcmV0dXJuIGV2YWwoJygnICsganNv
biArICcpJyk7CiAgICB9IGNhdGNoIChlKSB7IH0KICAgIHRocm93IG5ldyBTeW50
YXhFcnJvcignQmFkbHkgZm9ybWVkIEpTT04gc3RyaW5nOiAnICsgdGhpcy5pbnNw
ZWN0KCkpOwogIH0sCgogIGluY2x1ZGU6IGZ1bmN0aW9uKHBhdHRlcm4pIHsKICAg
IHJldHVybiB0aGlzLmluZGV4T2YocGF0dGVybikgPiAtMTsKICB9LAoKICBzdGFy
dHNXaXRoOiBmdW5jdGlvbihwYXR0ZXJuKSB7CiAgICByZXR1cm4gdGhpcy5pbmRl
eE9mKHBhdHRlcm4pID09PSAwOwogIH0sCgogIGVuZHNXaXRoOiBmdW5jdGlvbihw
YXR0ZXJuKSB7CiAgICB2YXIgZCA9IHRoaXMubGVuZ3RoIC0gcGF0dGVybi5sZW5n
dGg7CiAgICByZXR1cm4gZCA+PSAwICYmIHRoaXMubGFzdEluZGV4T2YocGF0dGVy
bikgPT09IGQ7CiAgfSwKCiAgZW1wdHk6IGZ1bmN0aW9uKCkgewogICAgcmV0dXJu
IHRoaXMgPT0gJyc7CiAgfSwKCiAgYmxhbms6IGZ1bmN0aW9uKCkgewogICAgcmV0
dXJuIC9eXHMqJC8udGVzdCh0aGlzKTsKICB9LAoKICBpbnRlcnBvbGF0ZTogZnVu
Y3Rpb24ob2JqZWN0LCBwYXR0ZXJuKSB7CiAgICByZXR1cm4gbmV3IFRlbXBsYXRl
KHRoaXMsIHBhdHRlcm4pLmV2YWx1YXRlKG9iamVjdCk7CiAgfQp9KTsKCmlmIChQ
cm90b3R5cGUuQnJvd3Nlci5XZWJLaXQgfHwgUHJvdG90eXBlLkJyb3dzZXIuSUUp
IE9iamVjdC5leHRlbmQoU3RyaW5nLnByb3RvdHlwZSwgewogIGVzY2FwZUhUTUw6
IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHRoaXMucmVwbGFjZSgvJi9nLCcmYW1w
OycpLnJlcGxhY2UoLzwvZywnJmx0OycpLnJlcGxhY2UoLz4vZywnJmd0OycpOwog
IH0sCiAgdW5lc2NhcGVIVE1MOiBmdW5jdGlvbigpIHsKICAgIHJldHVybiB0aGlz
LnN0cmlwVGFncygpLnJlcGxhY2UoLyZhbXA7L2csJyYnKS5yZXBsYWNlKC8mbHQ7
L2csJzwnKS5yZXBsYWNlKC8mZ3Q7L2csJz4nKTsKICB9Cn0pOwoKU3RyaW5nLnBy
b3RvdHlwZS5nc3ViLnByZXBhcmVSZXBsYWNlbWVudCA9IGZ1bmN0aW9uKHJlcGxh
Y2VtZW50KSB7CiAgaWYgKE9iamVjdC5pc0Z1bmN0aW9uKHJlcGxhY2VtZW50KSkg
cmV0dXJuIHJlcGxhY2VtZW50OwogIHZhciB0ZW1wbGF0ZSA9IG5ldyBUZW1wbGF0
ZShyZXBsYWNlbWVudCk7CiAgcmV0dXJuIGZ1bmN0aW9uKG1hdGNoKSB7IHJldHVy
biB0ZW1wbGF0ZS5ldmFsdWF0ZShtYXRjaCkgfTsKfTsKClN0cmluZy5wcm90b3R5
cGUucGFyc2VRdWVyeSA9IFN0cmluZy5wcm90b3R5cGUudG9RdWVyeVBhcmFtczsK
Ck9iamVjdC5leHRlbmQoU3RyaW5nLnByb3RvdHlwZS5lc2NhcGVIVE1MLCB7CiAg
ZGl2OiAgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksCiAgdGV4dDogZG9j
dW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpCn0pOwoKU3RyaW5nLnByb3RvdHlwZS5l
c2NhcGVIVE1MLmRpdi5hcHBlbmRDaGlsZChTdHJpbmcucHJvdG90eXBlLmVzY2Fw
ZUhUTUwudGV4dCk7Cgp2YXIgVGVtcGxhdGUgPSBDbGFzcy5jcmVhdGUoewogIGlu
aXRpYWxpemU6IGZ1bmN0aW9uKHRlbXBsYXRlLCBwYXR0ZXJuKSB7CiAgICB0aGlz
LnRlbXBsYXRlID0gdGVtcGxhdGUudG9TdHJpbmcoKTsKICAgIHRoaXMucGF0dGVy
biA9IHBhdHRlcm4gfHwgVGVtcGxhdGUuUGF0dGVybjsKICB9LAoKICBldmFsdWF0
ZTogZnVuY3Rpb24ob2JqZWN0KSB7CiAgICBpZiAoT2JqZWN0LmlzRnVuY3Rpb24o
b2JqZWN0LnRvVGVtcGxhdGVSZXBsYWNlbWVudHMpKQogICAgICBvYmplY3QgPSBv
YmplY3QudG9UZW1wbGF0ZVJlcGxhY2VtZW50cygpOwoKICAgIHJldHVybiB0aGlz
LnRlbXBsYXRlLmdzdWIodGhpcy5wYXR0ZXJuLCBmdW5jdGlvbihtYXRjaCkgewog
ICAgICBpZiAob2JqZWN0ID09IG51bGwpIHJldHVybiAnJzsKCiAgICAgIHZhciBi
ZWZvcmUgPSBtYXRjaFsxXSB8fCAnJzsKICAgICAgaWYgKGJlZm9yZSA9PSAnXFwn
KSByZXR1cm4gbWF0Y2hbMl07CgogICAgICB2YXIgY3R4ID0gb2JqZWN0LCBleHBy
ID0gbWF0Y2hbM107CiAgICAgIHZhciBwYXR0ZXJuID0gL14oW14uW10rfFxbKCg/
Oi4qP1teXFxdKT8pXF0pKFwufFxbfCQpLzsKICAgICAgbWF0Y2ggPSBwYXR0ZXJu
LmV4ZWMoZXhwcik7CiAgICAgIGlmIChtYXRjaCA9PSBudWxsKSByZXR1cm4gYmVm
b3JlOwoKICAgICAgd2hpbGUgKG1hdGNoICE9IG51bGwpIHsKICAgICAgICB2YXIg
Y29tcCA9IG1hdGNoWzFdLnN0YXJ0c1dpdGgoJ1snKSA/IG1hdGNoWzJdLmdzdWIo
J1xcXFxdJywgJ10nKSA6IG1hdGNoWzFdOwogICAgICAgIGN0eCA9IGN0eFtjb21w
XTsKICAgICAgICBpZiAobnVsbCA9PSBjdHggfHwgJycgPT0gbWF0Y2hbM10pIGJy
ZWFrOwogICAgICAgIGV4cHIgPSBleHByLnN1YnN0cmluZygnWycgPT0gbWF0Y2hb
M10gPyBtYXRjaFsxXS5sZW5ndGggOiBtYXRjaFswXS5sZW5ndGgpOwogICAgICAg
IG1hdGNoID0gcGF0dGVybi5leGVjKGV4cHIpOwogICAgICB9CgogICAgICByZXR1
cm4gYmVmb3JlICsgU3RyaW5nLmludGVycHJldChjdHgpOwogICAgfSk7CiAgfQp9
KTsKVGVtcGxhdGUuUGF0dGVybiA9IC8oXnwufFxyfFxuKSgjXHsoLio/KVx9KS87
Cgp2YXIgJGJyZWFrID0geyB9OwoKdmFyIEVudW1lcmFibGUgPSB7CiAgZWFjaDog
ZnVuY3Rpb24oaXRlcmF0b3IsIGNvbnRleHQpIHsKICAgIHZhciBpbmRleCA9IDA7
CiAgICB0cnkgewogICAgICB0aGlzLl9lYWNoKGZ1bmN0aW9uKHZhbHVlKSB7CiAg
ICAgICAgaXRlcmF0b3IuY2FsbChjb250ZXh0LCB2YWx1ZSwgaW5kZXgrKyk7CiAg
ICAgIH0pOwogICAgfSBjYXRjaCAoZSkgewogICAgICBpZiAoZSAhPSAkYnJlYWsp
IHRocm93IGU7CiAgICB9CiAgICByZXR1cm4gdGhpczsKICB9LAoKICBlYWNoU2xp
Y2U6IGZ1bmN0aW9uKG51bWJlciwgaXRlcmF0b3IsIGNvbnRleHQpIHsKICAgIHZh
ciBpbmRleCA9IC1udW1iZXIsIHNsaWNlcyA9IFtdLCBhcnJheSA9IHRoaXMudG9B
cnJheSgpOwogICAgaWYgKG51bWJlciA8IDEpIHJldHVybiBhcnJheTsKICAgIHdo
aWxlICgoaW5kZXggKz0gbnVtYmVyKSA8IGFycmF5Lmxlbmd0aCkKICAgICAgc2xp
Y2VzLnB1c2goYXJyYXkuc2xpY2UoaW5kZXgsIGluZGV4K251bWJlcikpOwogICAg
cmV0dXJuIHNsaWNlcy5jb2xsZWN0KGl0ZXJhdG9yLCBjb250ZXh0KTsKICB9LAoK
ICBhbGw6IGZ1bmN0aW9uKGl0ZXJhdG9yLCBjb250ZXh0KSB7CiAgICBpdGVyYXRv
ciA9IGl0ZXJhdG9yIHx8IFByb3RvdHlwZS5LOwogICAgdmFyIHJlc3VsdCA9IHRy
dWU7CiAgICB0aGlzLmVhY2goZnVuY3Rpb24odmFsdWUsIGluZGV4KSB7CiAgICAg
IHJlc3VsdCA9IHJlc3VsdCAmJiAhIWl0ZXJhdG9yLmNhbGwoY29udGV4dCwgdmFs
dWUsIGluZGV4KTsKICAgICAgaWYgKCFyZXN1bHQpIHRocm93ICRicmVhazsKICAg
IH0pOwogICAgcmV0dXJuIHJlc3VsdDsKICB9LAoKICBhbnk6IGZ1bmN0aW9uKGl0
ZXJhdG9yLCBjb250ZXh0KSB7CiAgICBpdGVyYXRvciA9IGl0ZXJhdG9yIHx8IFBy
b3RvdHlwZS5LOwogICAgdmFyIHJlc3VsdCA9IGZhbHNlOwogICAgdGhpcy5lYWNo
KGZ1bmN0aW9uKHZhbHVlLCBpbmRleCkgewogICAgICBpZiAocmVzdWx0ID0gISFp
dGVyYXRvci5jYWxsKGNvbnRleHQsIHZhbHVlLCBpbmRleCkpCiAgICAgICAgdGhy
b3cgJGJyZWFrOwogICAgfSk7CiAgICByZXR1cm4gcmVzdWx0OwogIH0sCgogIGNv
bGxlY3Q6IGZ1bmN0aW9uKGl0ZXJhdG9yLCBjb250ZXh0KSB7CiAgICBpdGVyYXRv
ciA9IGl0ZXJhdG9yIHx8IFByb3RvdHlwZS5LOwogICAgdmFyIHJlc3VsdHMgPSBb
XTsKICAgIHRoaXMuZWFjaChmdW5jdGlvbih2YWx1ZSwgaW5kZXgpIHsKICAgICAg
cmVzdWx0cy5wdXNoKGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgdmFsdWUsIGluZGV4
KSk7CiAgICB9KTsKICAgIHJldHVybiByZXN1bHRzOwogIH0sCgogIGRldGVjdDog
ZnVuY3Rpb24oaXRlcmF0b3IsIGNvbnRleHQpIHsKICAgIHZhciByZXN1bHQ7CiAg
ICB0aGlzLmVhY2goZnVuY3Rpb24odmFsdWUsIGluZGV4KSB7CiAgICAgIGlmIChp
dGVyYXRvci5jYWxsKGNvbnRleHQsIHZhbHVlLCBpbmRleCkpIHsKICAgICAgICBy
ZXN1bHQgPSB2YWx1ZTsKICAgICAgICB0aHJvdyAkYnJlYWs7CiAgICAgIH0KICAg
IH0pOwogICAgcmV0dXJuIHJlc3VsdDsKICB9LAoKICBmaW5kQWxsOiBmdW5jdGlv
bihpdGVyYXRvciwgY29udGV4dCkgewogICAgdmFyIHJlc3VsdHMgPSBbXTsKICAg
IHRoaXMuZWFjaChmdW5jdGlvbih2YWx1ZSwgaW5kZXgpIHsKICAgICAgaWYgKGl0
ZXJhdG9yLmNhbGwoY29udGV4dCwgdmFsdWUsIGluZGV4KSkKICAgICAgICByZXN1
bHRzLnB1c2godmFsdWUpOwogICAgfSk7CiAgICByZXR1cm4gcmVzdWx0czsKICB9
LAoKICBncmVwOiBmdW5jdGlvbihmaWx0ZXIsIGl0ZXJhdG9yLCBjb250ZXh0KSB7
CiAgICBpdGVyYXRvciA9IGl0ZXJhdG9yIHx8IFByb3RvdHlwZS5LOwogICAgdmFy
IHJlc3VsdHMgPSBbXTsKCiAgICBpZiAoT2JqZWN0LmlzU3RyaW5nKGZpbHRlcikp
CiAgICAgIGZpbHRlciA9IG5ldyBSZWdFeHAoZmlsdGVyKTsKCiAgICB0aGlzLmVh
Y2goZnVuY3Rpb24odmFsdWUsIGluZGV4KSB7CiAgICAgIGlmIChmaWx0ZXIubWF0
Y2godmFsdWUpKQogICAgICAgIHJlc3VsdHMucHVzaChpdGVyYXRvci5jYWxsKGNv
bnRleHQsIHZhbHVlLCBpbmRleCkpOwogICAgfSk7CiAgICByZXR1cm4gcmVzdWx0
czsKICB9LAoKICBpbmNsdWRlOiBmdW5jdGlvbihvYmplY3QpIHsKICAgIGlmIChP
YmplY3QuaXNGdW5jdGlvbih0aGlzLmluZGV4T2YpKQogICAgICBpZiAodGhpcy5p
bmRleE9mKG9iamVjdCkgIT0gLTEpIHJldHVybiB0cnVlOwoKICAgIHZhciBmb3Vu
ZCA9IGZhbHNlOwogICAgdGhpcy5lYWNoKGZ1bmN0aW9uKHZhbHVlKSB7CiAgICAg
IGlmICh2YWx1ZSA9PSBvYmplY3QpIHsKICAgICAgICBmb3VuZCA9IHRydWU7CiAg
ICAgICAgdGhyb3cgJGJyZWFrOwogICAgICB9CiAgICB9KTsKICAgIHJldHVybiBm
b3VuZDsKICB9LAoKICBpbkdyb3Vwc09mOiBmdW5jdGlvbihudW1iZXIsIGZpbGxX
aXRoKSB7CiAgICBmaWxsV2l0aCA9IE9iamVjdC5pc1VuZGVmaW5lZChmaWxsV2l0
aCkgPyBudWxsIDogZmlsbFdpdGg7CiAgICByZXR1cm4gdGhpcy5lYWNoU2xpY2Uo
bnVtYmVyLCBmdW5jdGlvbihzbGljZSkgewogICAgICB3aGlsZShzbGljZS5sZW5n
dGggPCBudW1iZXIpIHNsaWNlLnB1c2goZmlsbFdpdGgpOwogICAgICByZXR1cm4g
c2xpY2U7CiAgICB9KTsKICB9LAoKICBpbmplY3Q6IGZ1bmN0aW9uKG1lbW8sIGl0
ZXJhdG9yLCBjb250ZXh0KSB7CiAgICB0aGlzLmVhY2goZnVuY3Rpb24odmFsdWUs
IGluZGV4KSB7CiAgICAgIG1lbW8gPSBpdGVyYXRvci5jYWxsKGNvbnRleHQsIG1l
bW8sIHZhbHVlLCBpbmRleCk7CiAgICB9KTsKICAgIHJldHVybiBtZW1vOwogIH0s
CgogIGludm9rZTogZnVuY3Rpb24obWV0aG9kKSB7CiAgICB2YXIgYXJncyA9ICRB
KGFyZ3VtZW50cykuc2xpY2UoMSk7CiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rp
b24odmFsdWUpIHsKICAgICAgcmV0dXJuIHZhbHVlW21ldGhvZF0uYXBwbHkodmFs
dWUsIGFyZ3MpOwogICAgfSk7CiAgfSwKCiAgbWF4OiBmdW5jdGlvbihpdGVyYXRv
ciwgY29udGV4dCkgewogICAgaXRlcmF0b3IgPSBpdGVyYXRvciB8fCBQcm90b3R5
cGUuSzsKICAgIHZhciByZXN1bHQ7CiAgICB0aGlzLmVhY2goZnVuY3Rpb24odmFs
dWUsIGluZGV4KSB7CiAgICAgIHZhbHVlID0gaXRlcmF0b3IuY2FsbChjb250ZXh0
LCB2YWx1ZSwgaW5kZXgpOwogICAgICBpZiAocmVzdWx0ID09IG51bGwgfHwgdmFs
dWUgPj0gcmVzdWx0KQogICAgICAgIHJlc3VsdCA9IHZhbHVlOwogICAgfSk7CiAg
ICByZXR1cm4gcmVzdWx0OwogIH0sCgogIG1pbjogZnVuY3Rpb24oaXRlcmF0b3Is
IGNvbnRleHQpIHsKICAgIGl0ZXJhdG9yID0gaXRlcmF0b3IgfHwgUHJvdG90eXBl
Lks7CiAgICB2YXIgcmVzdWx0OwogICAgdGhpcy5lYWNoKGZ1bmN0aW9uKHZhbHVl
LCBpbmRleCkgewogICAgICB2YWx1ZSA9IGl0ZXJhdG9yLmNhbGwoY29udGV4dCwg
dmFsdWUsIGluZGV4KTsKICAgICAgaWYgKHJlc3VsdCA9PSBudWxsIHx8IHZhbHVl
IDwgcmVzdWx0KQogICAgICAgIHJlc3VsdCA9IHZhbHVlOwogICAgfSk7CiAgICBy
ZXR1cm4gcmVzdWx0OwogIH0sCgogIHBhcnRpdGlvbjogZnVuY3Rpb24oaXRlcmF0
b3IsIGNvbnRleHQpIHsKICAgIGl0ZXJhdG9yID0gaXRlcmF0b3IgfHwgUHJvdG90
eXBlLks7CiAgICB2YXIgdHJ1ZXMgPSBbXSwgZmFsc2VzID0gW107CiAgICB0aGlz
LmVhY2goZnVuY3Rpb24odmFsdWUsIGluZGV4KSB7CiAgICAgIChpdGVyYXRvci5j
YWxsKGNvbnRleHQsIHZhbHVlLCBpbmRleCkgPwogICAgICAgIHRydWVzIDogZmFs
c2VzKS5wdXNoKHZhbHVlKTsKICAgIH0pOwogICAgcmV0dXJuIFt0cnVlcywgZmFs
c2VzXTsKICB9LAoKICBwbHVjazogZnVuY3Rpb24ocHJvcGVydHkpIHsKICAgIHZh
ciByZXN1bHRzID0gW107CiAgICB0aGlzLmVhY2goZnVuY3Rpb24odmFsdWUpIHsK
ICAgICAgcmVzdWx0cy5wdXNoKHZhbHVlW3Byb3BlcnR5XSk7CiAgICB9KTsKICAg
IHJldHVybiByZXN1bHRzOwogIH0sCgogIHJlamVjdDogZnVuY3Rpb24oaXRlcmF0
b3IsIGNvbnRleHQpIHsKICAgIHZhciByZXN1bHRzID0gW107CiAgICB0aGlzLmVh
Y2goZnVuY3Rpb24odmFsdWUsIGluZGV4KSB7CiAgICAgIGlmICghaXRlcmF0b3Iu
Y2FsbChjb250ZXh0LCB2YWx1ZSwgaW5kZXgpKQogICAgICAgIHJlc3VsdHMucHVz
aCh2YWx1ZSk7CiAgICB9KTsKICAgIHJldHVybiByZXN1bHRzOwogIH0sCgogIHNv
cnRCeTogZnVuY3Rpb24oaXRlcmF0b3IsIGNvbnRleHQpIHsKICAgIHJldHVybiB0
aGlzLm1hcChmdW5jdGlvbih2YWx1ZSwgaW5kZXgpIHsKICAgICAgcmV0dXJuIHsK
ICAgICAgICB2YWx1ZTogdmFsdWUsCiAgICAgICAgY3JpdGVyaWE6IGl0ZXJhdG9y
LmNhbGwoY29udGV4dCwgdmFsdWUsIGluZGV4KQogICAgICB9OwogICAgfSkuc29y
dChmdW5jdGlvbihsZWZ0LCByaWdodCkgewogICAgICB2YXIgYSA9IGxlZnQuY3Jp
dGVyaWEsIGIgPSByaWdodC5jcml0ZXJpYTsKICAgICAgcmV0dXJuIGEgPCBiID8g
LTEgOiBhID4gYiA/IDEgOiAwOwogICAgfSkucGx1Y2soJ3ZhbHVlJyk7CiAgfSwK
CiAgdG9BcnJheTogZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gdGhpcy5tYXAoKTsK
ICB9LAoKICB6aXA6IGZ1bmN0aW9uKCkgewogICAgdmFyIGl0ZXJhdG9yID0gUHJv
dG90eXBlLkssIGFyZ3MgPSAkQShhcmd1bWVudHMpOwogICAgaWYgKE9iamVjdC5p
c0Z1bmN0aW9uKGFyZ3MubGFzdCgpKSkKICAgICAgaXRlcmF0b3IgPSBhcmdzLnBv
cCgpOwoKICAgIHZhciBjb2xsZWN0aW9ucyA9IFt0aGlzXS5jb25jYXQoYXJncyku
bWFwKCRBKTsKICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbih2YWx1ZSwgaW5k
ZXgpIHsKICAgICAgcmV0dXJuIGl0ZXJhdG9yKGNvbGxlY3Rpb25zLnBsdWNrKGlu
ZGV4KSk7CiAgICB9KTsKICB9LAoKICBzaXplOiBmdW5jdGlvbigpIHsKICAgIHJl
dHVybiB0aGlzLnRvQXJyYXkoKS5sZW5ndGg7CiAgfSwKCiAgaW5zcGVjdDogZnVu
Y3Rpb24oKSB7CiAgICByZXR1cm4gJyM8RW51bWVyYWJsZTonICsgdGhpcy50b0Fy
cmF5KCkuaW5zcGVjdCgpICsgJz4nOwogIH0KfTsKCk9iamVjdC5leHRlbmQoRW51
bWVyYWJsZSwgewogIG1hcDogICAgIEVudW1lcmFibGUuY29sbGVjdCwKICBmaW5k
OiAgICBFbnVtZXJhYmxlLmRldGVjdCwKICBzZWxlY3Q6ICBFbnVtZXJhYmxlLmZp
bmRBbGwsCiAgZmlsdGVyOiAgRW51bWVyYWJsZS5maW5kQWxsLAogIG1lbWJlcjog
IEVudW1lcmFibGUuaW5jbHVkZSwKICBlbnRyaWVzOiBFbnVtZXJhYmxlLnRvQXJy
YXksCiAgZXZlcnk6ICAgRW51bWVyYWJsZS5hbGwsCiAgc29tZTogICAgRW51bWVy
YWJsZS5hbnkKfSk7CmZ1bmN0aW9uICRBKGl0ZXJhYmxlKSB7CiAgaWYgKCFpdGVy
YWJsZSkgcmV0dXJuIFtdOwogIGlmIChpdGVyYWJsZS50b0FycmF5KSByZXR1cm4g
aXRlcmFibGUudG9BcnJheSgpOwogIHZhciBsZW5ndGggPSBpdGVyYWJsZS5sZW5n
dGggfHwgMCwgcmVzdWx0cyA9IG5ldyBBcnJheShsZW5ndGgpOwogIHdoaWxlIChs
ZW5ndGgtLSkgcmVzdWx0c1tsZW5ndGhdID0gaXRlcmFibGVbbGVuZ3RoXTsKICBy
ZXR1cm4gcmVzdWx0czsKfQoKaWYgKFByb3RvdHlwZS5Ccm93c2VyLldlYktpdCkg
ewogICRBID0gZnVuY3Rpb24oaXRlcmFibGUpIHsKICAgIGlmICghaXRlcmFibGUp
IHJldHVybiBbXTsKICAgIC8vIEluIFNhZmFyaSwgb25seSB1c2UgdGhlIGB0b0Fy
cmF5YCBtZXRob2QgaWYgaXQncyBub3QgYSBOb2RlTGlzdC4KICAgIC8vIEEgTm9k
ZUxpc3QgaXMgYSBmdW5jdGlvbiwgaGFzIGFuIGZ1bmN0aW9uIGBpdGVtYCBwcm9w
ZXJ0eSwgYW5kIGEgbnVtZXJpYwogICAgLy8gYGxlbmd0aGAgcHJvcGVydHkuIEFk
YXB0ZWQgZnJvbSBHb29nbGUgRG9jdHlwZS4KICAgIGlmICghKHR5cGVvZiBpdGVy
YWJsZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgaXRlcmFibGUubGVuZ3RoID09
PQogICAgICAgICdudW1iZXInICYmIHR5cGVvZiBpdGVyYWJsZS5pdGVtID09PSAn
ZnVuY3Rpb24nKSAmJiBpdGVyYWJsZS50b0FycmF5KQogICAgICByZXR1cm4gaXRl
cmFibGUudG9BcnJheSgpOwogICAgdmFyIGxlbmd0aCA9IGl0ZXJhYmxlLmxlbmd0
aCB8fCAwLCByZXN1bHRzID0gbmV3IEFycmF5KGxlbmd0aCk7CiAgICB3aGlsZSAo
bGVuZ3RoLS0pIHJlc3VsdHNbbGVuZ3RoXSA9IGl0ZXJhYmxlW2xlbmd0aF07CiAg
ICByZXR1cm4gcmVzdWx0czsKICB9Owp9CgpBcnJheS5mcm9tID0gJEE7CgpPYmpl
Y3QuZXh0ZW5kKEFycmF5LnByb3RvdHlwZSwgRW51bWVyYWJsZSk7CgppZiAoIUFy
cmF5LnByb3RvdHlwZS5fcmV2ZXJzZSkgQXJyYXkucHJvdG90eXBlLl9yZXZlcnNl
ID0gQXJyYXkucHJvdG90eXBlLnJldmVyc2U7CgpPYmplY3QuZXh0ZW5kKEFycmF5
LnByb3RvdHlwZSwgewogIF9lYWNoOiBmdW5jdGlvbihpdGVyYXRvcikgewogICAg
Zm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IHRoaXMubGVuZ3RoOyBpIDwgbGVuZ3Ro
OyBpKyspCiAgICAgIGl0ZXJhdG9yKHRoaXNbaV0pOwogIH0sCgogIGNsZWFyOiBm
dW5jdGlvbigpIHsKICAgIHRoaXMubGVuZ3RoID0gMDsKICAgIHJldHVybiB0aGlz
OwogIH0sCgogIGZpcnN0OiBmdW5jdGlvbigpIHsKICAgIHJldHVybiB0aGlzWzBd
OwogIH0sCgogIGxhc3Q6IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHRoaXNbdGhp
cy5sZW5ndGggLSAxXTsKICB9LAoKICBjb21wYWN0OiBmdW5jdGlvbigpIHsKICAg
IHJldHVybiB0aGlzLnNlbGVjdChmdW5jdGlvbih2YWx1ZSkgewogICAgICByZXR1
cm4gdmFsdWUgIT0gbnVsbDsKICAgIH0pOwogIH0sCgogIGZsYXR0ZW46IGZ1bmN0
aW9uKCkgewogICAgcmV0dXJuIHRoaXMuaW5qZWN0KFtdLCBmdW5jdGlvbihhcnJh
eSwgdmFsdWUpIHsKICAgICAgcmV0dXJuIGFycmF5LmNvbmNhdChPYmplY3QuaXNB
cnJheSh2YWx1ZSkgPwogICAgICAgIHZhbHVlLmZsYXR0ZW4oKSA6IFt2YWx1ZV0p
OwogICAgfSk7CiAgfSwKCiAgd2l0aG91dDogZnVuY3Rpb24oKSB7CiAgICB2YXIg
dmFsdWVzID0gJEEoYXJndW1lbnRzKTsKICAgIHJldHVybiB0aGlzLnNlbGVjdChm
dW5jdGlvbih2YWx1ZSkgewogICAgICByZXR1cm4gIXZhbHVlcy5pbmNsdWRlKHZh
bHVlKTsKICAgIH0pOwogIH0sCgogIHJldmVyc2U6IGZ1bmN0aW9uKGlubGluZSkg
ewogICAgcmV0dXJuIChpbmxpbmUgIT09IGZhbHNlID8gdGhpcyA6IHRoaXMudG9B
cnJheSgpKS5fcmV2ZXJzZSgpOwogIH0sCgogIHJlZHVjZTogZnVuY3Rpb24oKSB7
CiAgICByZXR1cm4gdGhpcy5sZW5ndGggPiAxID8gdGhpcyA6IHRoaXNbMF07CiAg
fSwKCiAgdW5pcTogZnVuY3Rpb24oc29ydGVkKSB7CiAgICByZXR1cm4gdGhpcy5p
bmplY3QoW10sIGZ1bmN0aW9uKGFycmF5LCB2YWx1ZSwgaW5kZXgpIHsKICAgICAg
aWYgKDAgPT0gaW5kZXggfHwgKHNvcnRlZCA/IGFycmF5Lmxhc3QoKSAhPSB2YWx1
ZSA6ICFhcnJheS5pbmNsdWRlKHZhbHVlKSkpCiAgICAgICAgYXJyYXkucHVzaCh2
YWx1ZSk7CiAgICAgIHJldHVybiBhcnJheTsKICAgIH0pOwogIH0sCgogIGludGVy
c2VjdDogZnVuY3Rpb24oYXJyYXkpIHsKICAgIHJldHVybiB0aGlzLnVuaXEoKS5m
aW5kQWxsKGZ1bmN0aW9uKGl0ZW0pIHsKICAgICAgcmV0dXJuIGFycmF5LmRldGVj
dChmdW5jdGlvbih2YWx1ZSkgeyByZXR1cm4gaXRlbSA9PT0gdmFsdWUgfSk7CiAg
ICB9KTsKICB9LAoKICBjbG9uZTogZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gW10u
Y29uY2F0KHRoaXMpOwogIH0sCgogIHNpemU6IGZ1bmN0aW9uKCkgewogICAgcmV0
dXJuIHRoaXMubGVuZ3RoOwogIH0sCgogIGluc3BlY3Q6IGZ1bmN0aW9uKCkgewog
ICAgcmV0dXJuICdbJyArIHRoaXMubWFwKE9iamVjdC5pbnNwZWN0KS5qb2luKCcs
ICcpICsgJ10nOwogIH0sCgogIHRvSlNPTjogZnVuY3Rpb24oKSB7CiAgICB2YXIg
cmVzdWx0cyA9IFtdOwogICAgdGhpcy5lYWNoKGZ1bmN0aW9uKG9iamVjdCkgewog
ICAgICB2YXIgdmFsdWUgPSBPYmplY3QudG9KU09OKG9iamVjdCk7CiAgICAgIGlm
ICghT2JqZWN0LmlzVW5kZWZpbmVkKHZhbHVlKSkgcmVzdWx0cy5wdXNoKHZhbHVl
KTsKICAgIH0pOwogICAgcmV0dXJuICdbJyArIHJlc3VsdHMuam9pbignLCAnKSAr
ICddJzsKICB9Cn0pOwoKLy8gdXNlIG5hdGl2ZSBicm93c2VyIEpTIDEuNiBpbXBs
ZW1lbnRhdGlvbiBpZiBhdmFpbGFibGUKaWYgKE9iamVjdC5pc0Z1bmN0aW9uKEFy
cmF5LnByb3RvdHlwZS5mb3JFYWNoKSkKICBBcnJheS5wcm90b3R5cGUuX2VhY2gg
PSBBcnJheS5wcm90b3R5cGUuZm9yRWFjaDsKCmlmICghQXJyYXkucHJvdG90eXBl
LmluZGV4T2YpIEFycmF5LnByb3RvdHlwZS5pbmRleE9mID0gZnVuY3Rpb24oaXRl
bSwgaSkgewogIGkgfHwgKGkgPSAwKTsKICB2YXIgbGVuZ3RoID0gdGhpcy5sZW5n
dGg7CiAgaWYgKGkgPCAwKSBpID0gbGVuZ3RoICsgaTsKICBmb3IgKDsgaSA8IGxl
bmd0aDsgaSsrKQogICAgaWYgKHRoaXNbaV0gPT09IGl0ZW0pIHJldHVybiBpOwog
IHJldHVybiAtMTsKfTsKCmlmICghQXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9m
KSBBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2YgPSBmdW5jdGlvbihpdGVtLCBp
KSB7CiAgaSA9IGlzTmFOKGkpID8gdGhpcy5sZW5ndGggOiAoaSA8IDAgPyB0aGlz
Lmxlbmd0aCArIGkgOiBpKSArIDE7CiAgdmFyIG4gPSB0aGlzLnNsaWNlKDAsIGkp
LnJldmVyc2UoKS5pbmRleE9mKGl0ZW0pOwogIHJldHVybiAobiA8IDApID8gbiA6
IGkgLSBuIC0gMTsKfTsKCkFycmF5LnByb3RvdHlwZS50b0FycmF5ID0gQXJyYXku
cHJvdG90eXBlLmNsb25lOwoKZnVuY3Rpb24gJHcoc3RyaW5nKSB7CiAgaWYgKCFP
YmplY3QuaXNTdHJpbmcoc3RyaW5nKSkgcmV0dXJuIFtdOwogIHN0cmluZyA9IHN0
cmluZy5zdHJpcCgpOwogIHJldHVybiBzdHJpbmcgPyBzdHJpbmcuc3BsaXQoL1xz
Ky8pIDogW107Cn0KCmlmIChQcm90b3R5cGUuQnJvd3Nlci5PcGVyYSl7CiAgQXJy
YXkucHJvdG90eXBlLmNvbmNhdCA9IGZ1bmN0aW9uKCkgewogICAgdmFyIGFycmF5
ID0gW107CiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gdGhpcy5sZW5ndGg7
IGkgPCBsZW5ndGg7IGkrKykgYXJyYXkucHVzaCh0aGlzW2ldKTsKICAgIGZvciAo
dmFyIGkgPSAwLCBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbGVuZ3Ro
OyBpKyspIHsKICAgICAgaWYgKE9iamVjdC5pc0FycmF5KGFyZ3VtZW50c1tpXSkp
IHsKICAgICAgICBmb3IgKHZhciBqID0gMCwgYXJyYXlMZW5ndGggPSBhcmd1bWVu
dHNbaV0ubGVuZ3RoOyBqIDwgYXJyYXlMZW5ndGg7IGorKykKICAgICAgICAgIGFy
cmF5LnB1c2goYXJndW1lbnRzW2ldW2pdKTsKICAgICAgfSBlbHNlIHsKICAgICAg
ICBhcnJheS5wdXNoKGFyZ3VtZW50c1tpXSk7CiAgICAgIH0KICAgIH0KICAgIHJl
dHVybiBhcnJheTsKICB9Owp9Ck9iamVjdC5leHRlbmQoTnVtYmVyLnByb3RvdHlw
ZSwgewogIHRvQ29sb3JQYXJ0OiBmdW5jdGlvbigpIHsKICAgIHJldHVybiB0aGlz
LnRvUGFkZGVkU3RyaW5nKDIsIDE2KTsKICB9LAoKICBzdWNjOiBmdW5jdGlvbigp
IHsKICAgIHJldHVybiB0aGlzICsgMTsKICB9LAoKICB0aW1lczogZnVuY3Rpb24o
aXRlcmF0b3IsIGNvbnRleHQpIHsKICAgICRSKDAsIHRoaXMsIHRydWUpLmVhY2go
aXRlcmF0b3IsIGNvbnRleHQpOwogICAgcmV0dXJuIHRoaXM7CiAgfSwKCiAgdG9Q
YWRkZWRTdHJpbmc6IGZ1bmN0aW9uKGxlbmd0aCwgcmFkaXgpIHsKICAgIHZhciBz
dHJpbmcgPSB0aGlzLnRvU3RyaW5nKHJhZGl4IHx8IDEwKTsKICAgIHJldHVybiAn
MCcudGltZXMobGVuZ3RoIC0gc3RyaW5nLmxlbmd0aCkgKyBzdHJpbmc7CiAgfSwK
CiAgdG9KU09OOiBmdW5jdGlvbigpIHsKICAgIHJldHVybiBpc0Zpbml0ZSh0aGlz
KSA/IHRoaXMudG9TdHJpbmcoKSA6ICdudWxsJzsKICB9Cn0pOwoKJHcoJ2FicyBy
b3VuZCBjZWlsIGZsb29yJykuZWFjaChmdW5jdGlvbihtZXRob2QpewogIE51bWJl
ci5wcm90b3R5cGVbbWV0aG9kXSA9IE1hdGhbbWV0aG9kXS5tZXRob2RpemUoKTsK
fSk7CmZ1bmN0aW9uICRIKG9iamVjdCkgewogIHJldHVybiBuZXcgSGFzaChvYmpl
Y3QpOwp9OwoKdmFyIEhhc2ggPSBDbGFzcy5jcmVhdGUoRW51bWVyYWJsZSwgKGZ1
bmN0aW9uKCkgewoKICBmdW5jdGlvbiB0b1F1ZXJ5UGFpcihrZXksIHZhbHVlKSB7
CiAgICBpZiAoT2JqZWN0LmlzVW5kZWZpbmVkKHZhbHVlKSkgcmV0dXJuIGtleTsK
ICAgIHJldHVybiBrZXkgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQoU3RyaW5n
LmludGVycHJldCh2YWx1ZSkpOwogIH0KCiAgcmV0dXJuIHsKICAgIGluaXRpYWxp
emU6IGZ1bmN0aW9uKG9iamVjdCkgewogICAgICB0aGlzLl9vYmplY3QgPSBPYmpl
Y3QuaXNIYXNoKG9iamVjdCkgPyBvYmplY3QudG9PYmplY3QoKSA6IE9iamVjdC5j
bG9uZShvYmplY3QpOwogICAgfSwKCiAgICBfZWFjaDogZnVuY3Rpb24oaXRlcmF0
b3IpIHsKICAgICAgZm9yICh2YXIga2V5IGluIHRoaXMuX29iamVjdCkgewogICAg
ICAgIHZhciB2YWx1ZSA9IHRoaXMuX29iamVjdFtrZXldLCBwYWlyID0gW2tleSwg
dmFsdWVdOwogICAgICAgIHBhaXIua2V5ID0ga2V5OwogICAgICAgIHBhaXIudmFs
dWUgPSB2YWx1ZTsKICAgICAgICBpdGVyYXRvcihwYWlyKTsKICAgICAgfQogICAg
fSwKCiAgICBzZXQ6IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHsKICAgICAgcmV0dXJu
IHRoaXMuX29iamVjdFtrZXldID0gdmFsdWU7CiAgICB9LAoKICAgIGdldDogZnVu
Y3Rpb24oa2V5KSB7CiAgICAgIC8vIHNpbXVsYXRpbmcgcG9vcmx5IHN1cHBvcnRl
ZCBoYXNPd25Qcm9wZXJ0eQogICAgICBpZiAodGhpcy5fb2JqZWN0W2tleV0gIT09
IE9iamVjdC5wcm90b3R5cGVba2V5XSkKICAgICAgICByZXR1cm4gdGhpcy5fb2Jq
ZWN0W2tleV07CiAgICB9LAoKICAgIHVuc2V0OiBmdW5jdGlvbihrZXkpIHsKICAg
ICAgdmFyIHZhbHVlID0gdGhpcy5fb2JqZWN0W2tleV07CiAgICAgIGRlbGV0ZSB0
aGlzLl9vYmplY3Rba2V5XTsKICAgICAgcmV0dXJuIHZhbHVlOwogICAgfSwKCiAg
ICB0b09iamVjdDogZnVuY3Rpb24oKSB7CiAgICAgIHJldHVybiBPYmplY3QuY2xv
bmUodGhpcy5fb2JqZWN0KTsKICAgIH0sCgogICAga2V5czogZnVuY3Rpb24oKSB7
CiAgICAgIHJldHVybiB0aGlzLnBsdWNrKCdrZXknKTsKICAgIH0sCgogICAgdmFs
dWVzOiBmdW5jdGlvbigpIHsKICAgICAgcmV0dXJuIHRoaXMucGx1Y2soJ3ZhbHVl
Jyk7CiAgICB9LAoKICAgIGluZGV4OiBmdW5jdGlvbih2YWx1ZSkgewogICAgICB2
YXIgbWF0Y2ggPSB0aGlzLmRldGVjdChmdW5jdGlvbihwYWlyKSB7CiAgICAgICAg
cmV0dXJuIHBhaXIudmFsdWUgPT09IHZhbHVlOwogICAgICB9KTsKICAgICAgcmV0
dXJuIG1hdGNoICYmIG1hdGNoLmtleTsKICAgIH0sCgogICAgbWVyZ2U6IGZ1bmN0
aW9uKG9iamVjdCkgewogICAgICByZXR1cm4gdGhpcy5jbG9uZSgpLnVwZGF0ZShv
YmplY3QpOwogICAgfSwKCiAgICB1cGRhdGU6IGZ1bmN0aW9uKG9iamVjdCkgewog
ICAgICByZXR1cm4gbmV3IEhhc2gob2JqZWN0KS5pbmplY3QodGhpcywgZnVuY3Rp
b24ocmVzdWx0LCBwYWlyKSB7CiAgICAgICAgcmVzdWx0LnNldChwYWlyLmtleSwg
cGFpci52YWx1ZSk7CiAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgfSk7CiAg
ICB9LAoKICAgIHRvUXVlcnlTdHJpbmc6IGZ1bmN0aW9uKCkgewogICAgICByZXR1
cm4gdGhpcy5pbmplY3QoW10sIGZ1bmN0aW9uKHJlc3VsdHMsIHBhaXIpIHsKICAg
ICAgICB2YXIga2V5ID0gZW5jb2RlVVJJQ29tcG9uZW50KHBhaXIua2V5KSwgdmFs
dWVzID0gcGFpci52YWx1ZTsKCiAgICAgICAgaWYgKHZhbHVlcyAmJiB0eXBlb2Yg
dmFsdWVzID09ICdvYmplY3QnKSB7CiAgICAgICAgICBpZiAoT2JqZWN0LmlzQXJy
YXkodmFsdWVzKSkKICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHMuY29uY2F0KHZh
bHVlcy5tYXAodG9RdWVyeVBhaXIuY3Vycnkoa2V5KSkpOwogICAgICAgIH0gZWxz
ZSByZXN1bHRzLnB1c2godG9RdWVyeVBhaXIoa2V5LCB2YWx1ZXMpKTsKICAgICAg
ICByZXR1cm4gcmVzdWx0czsKICAgICAgfSkuam9pbignJicpOwogICAgfSwKCiAg
ICBpbnNwZWN0OiBmdW5jdGlvbigpIHsKICAgICAgcmV0dXJuICcjPEhhc2g6eycg
KyB0aGlzLm1hcChmdW5jdGlvbihwYWlyKSB7CiAgICAgICAgcmV0dXJuIHBhaXIu
bWFwKE9iamVjdC5pbnNwZWN0KS5qb2luKCc6ICcpOwogICAgICB9KS5qb2luKCcs
ICcpICsgJ30+JzsKICAgIH0sCgogICAgdG9KU09OOiBmdW5jdGlvbigpIHsKICAg
ICAgcmV0dXJuIE9iamVjdC50b0pTT04odGhpcy50b09iamVjdCgpKTsKICAgIH0s
CgogICAgY2xvbmU6IGZ1bmN0aW9uKCkgewogICAgICByZXR1cm4gbmV3IEhhc2go
dGhpcyk7CiAgICB9CiAgfQp9KSgpKTsKCkhhc2gucHJvdG90eXBlLnRvVGVtcGxh
dGVSZXBsYWNlbWVudHMgPSBIYXNoLnByb3RvdHlwZS50b09iamVjdDsKSGFzaC5m
cm9tID0gJEg7CnZhciBPYmplY3RSYW5nZSA9IENsYXNzLmNyZWF0ZShFbnVtZXJh
YmxlLCB7CiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oc3RhcnQsIGVuZCwgZXhjbHVz
aXZlKSB7CiAgICB0aGlzLnN0YXJ0ID0gc3RhcnQ7CiAgICB0aGlzLmVuZCA9IGVu
ZDsKICAgIHRoaXMuZXhjbHVzaXZlID0gZXhjbHVzaXZlOwogIH0sCgogIF9lYWNo
OiBmdW5jdGlvbihpdGVyYXRvcikgewogICAgdmFyIHZhbHVlID0gdGhpcy5zdGFy
dDsKICAgIHdoaWxlICh0aGlzLmluY2x1ZGUodmFsdWUpKSB7CiAgICAgIGl0ZXJh
dG9yKHZhbHVlKTsKICAgICAgdmFsdWUgPSB2YWx1ZS5zdWNjKCk7CiAgICB9CiAg
fSwKCiAgaW5jbHVkZTogZnVuY3Rpb24odmFsdWUpIHsKICAgIGlmICh2YWx1ZSA8
IHRoaXMuc3RhcnQpCiAgICAgIHJldHVybiBmYWxzZTsKICAgIGlmICh0aGlzLmV4
Y2x1c2l2ZSkKICAgICAgcmV0dXJuIHZhbHVlIDwgdGhpcy5lbmQ7CiAgICByZXR1
cm4gdmFsdWUgPD0gdGhpcy5lbmQ7CiAgfQp9KTsKCnZhciAkUiA9IGZ1bmN0aW9u
KHN0YXJ0LCBlbmQsIGV4Y2x1c2l2ZSkgewogIHJldHVybiBuZXcgT2JqZWN0UmFu
Z2Uoc3RhcnQsIGVuZCwgZXhjbHVzaXZlKTsKfTsKCnZhciBBamF4ID0gewogIGdl
dFRyYW5zcG9ydDogZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gVHJ5LnRoZXNlKAog
ICAgICBmdW5jdGlvbigpIHtyZXR1cm4gbmV3IFhNTEh0dHBSZXF1ZXN0KCl9LAog
ICAgICBmdW5jdGlvbigpIHtyZXR1cm4gbmV3IEFjdGl2ZVhPYmplY3QoJ01zeG1s
Mi5YTUxIVFRQJyl9LAogICAgICBmdW5jdGlvbigpIHtyZXR1cm4gbmV3IEFjdGl2
ZVhPYmplY3QoJ01pY3Jvc29mdC5YTUxIVFRQJyl9CiAgICApIHx8IGZhbHNlOwog
IH0sCgogIGFjdGl2ZVJlcXVlc3RDb3VudDogMAp9OwoKQWpheC5SZXNwb25kZXJz
ID0gewogIHJlc3BvbmRlcnM6IFtdLAoKICBfZWFjaDogZnVuY3Rpb24oaXRlcmF0
b3IpIHsKICAgIHRoaXMucmVzcG9uZGVycy5fZWFjaChpdGVyYXRvcik7CiAgfSwK
CiAgcmVnaXN0ZXI6IGZ1bmN0aW9uKHJlc3BvbmRlcikgewogICAgaWYgKCF0aGlz
LmluY2x1ZGUocmVzcG9uZGVyKSkKICAgICAgdGhpcy5yZXNwb25kZXJzLnB1c2go
cmVzcG9uZGVyKTsKICB9LAoKICB1bnJlZ2lzdGVyOiBmdW5jdGlvbihyZXNwb25k
ZXIpIHsKICAgIHRoaXMucmVzcG9uZGVycyA9IHRoaXMucmVzcG9uZGVycy53aXRo
b3V0KHJlc3BvbmRlcik7CiAgfSwKCiAgZGlzcGF0Y2g6IGZ1bmN0aW9uKGNhbGxi
YWNrLCByZXF1ZXN0LCB0cmFuc3BvcnQsIGpzb24pIHsKICAgIHRoaXMuZWFjaChm
dW5jdGlvbihyZXNwb25kZXIpIHsKICAgICAgaWYgKE9iamVjdC5pc0Z1bmN0aW9u
KHJlc3BvbmRlcltjYWxsYmFja10pKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAg
IHJlc3BvbmRlcltjYWxsYmFja10uYXBwbHkocmVzcG9uZGVyLCBbcmVxdWVzdCwg
dHJhbnNwb3J0LCBqc29uXSk7CiAgICAgICAgfSBjYXRjaCAoZSkgeyB9CiAgICAg
IH0KICAgIH0pOwogIH0KfTsKCk9iamVjdC5leHRlbmQoQWpheC5SZXNwb25kZXJz
LCBFbnVtZXJhYmxlKTsKCkFqYXguUmVzcG9uZGVycy5yZWdpc3Rlcih7CiAgb25D
cmVhdGU6ICAgZnVuY3Rpb24oKSB7IEFqYXguYWN0aXZlUmVxdWVzdENvdW50Kysg
fSwKICBvbkNvbXBsZXRlOiBmdW5jdGlvbigpIHsgQWpheC5hY3RpdmVSZXF1ZXN0
Q291bnQtLSB9Cn0pOwoKQWpheC5CYXNlID0gQ2xhc3MuY3JlYXRlKHsKICBpbml0
aWFsaXplOiBmdW5jdGlvbihvcHRpb25zKSB7CiAgICB0aGlzLm9wdGlvbnMgPSB7
CiAgICAgIG1ldGhvZDogICAgICAgJ3Bvc3QnLAogICAgICBhc3luY2hyb25vdXM6
IHRydWUsCiAgICAgIGNvbnRlbnRUeXBlOiAgJ2FwcGxpY2F0aW9uL3gtd3d3LWZv
cm0tdXJsZW5jb2RlZCcsCiAgICAgIGVuY29kaW5nOiAgICAgJ1VURi04JywKICAg
ICAgcGFyYW1ldGVyczogICAnJywKICAgICAgZXZhbEpTT046ICAgICB0cnVlLAog
ICAgICBldmFsSlM6ICAgICAgIHRydWUKICAgIH07CiAgICBPYmplY3QuZXh0ZW5k
KHRoaXMub3B0aW9ucywgb3B0aW9ucyB8fCB7IH0pOwoKICAgIHRoaXMub3B0aW9u
cy5tZXRob2QgPSB0aGlzLm9wdGlvbnMubWV0aG9kLnRvTG93ZXJDYXNlKCk7Cgog
ICAgaWYgKE9iamVjdC5pc1N0cmluZyh0aGlzLm9wdGlvbnMucGFyYW1ldGVycykp
CiAgICAgIHRoaXMub3B0aW9ucy5wYXJhbWV0ZXJzID0gdGhpcy5vcHRpb25zLnBh
cmFtZXRlcnMudG9RdWVyeVBhcmFtcygpOwogICAgZWxzZSBpZiAoT2JqZWN0Lmlz
SGFzaCh0aGlzLm9wdGlvbnMucGFyYW1ldGVycykpCiAgICAgIHRoaXMub3B0aW9u
cy5wYXJhbWV0ZXJzID0gdGhpcy5vcHRpb25zLnBhcmFtZXRlcnMudG9PYmplY3Qo
KTsKICB9Cn0pOwoKQWpheC5SZXF1ZXN0ID0gQ2xhc3MuY3JlYXRlKEFqYXguQmFz
ZSwgewogIF9jb21wbGV0ZTogZmFsc2UsCgogIGluaXRpYWxpemU6IGZ1bmN0aW9u
KCRzdXBlciwgdXJsLCBvcHRpb25zKSB7CiAgICAkc3VwZXIob3B0aW9ucyk7CiAg
ICB0aGlzLnRyYW5zcG9ydCA9IEFqYXguZ2V0VHJhbnNwb3J0KCk7CiAgICB0aGlz
LnJlcXVlc3QodXJsKTsKICB9LAoKICByZXF1ZXN0OiBmdW5jdGlvbih1cmwpIHsK
ICAgIHRoaXMudXJsID0gdXJsOwogICAgdGhpcy5tZXRob2QgPSB0aGlzLm9wdGlv
bnMubWV0aG9kOwogICAgdmFyIHBhcmFtcyA9IE9iamVjdC5jbG9uZSh0aGlzLm9w
dGlvbnMucGFyYW1ldGVycyk7CgogICAgaWYgKCFbJ2dldCcsICdwb3N0J10uaW5j
bHVkZSh0aGlzLm1ldGhvZCkpIHsKICAgICAgLy8gc2ltdWxhdGUgb3RoZXIgdmVy
YnMgb3ZlciBwb3N0CiAgICAgIHBhcmFtc1snX21ldGhvZCddID0gdGhpcy5tZXRo
b2Q7CiAgICAgIHRoaXMubWV0aG9kID0gJ3Bvc3QnOwogICAgfQoKICAgIHRoaXMu
cGFyYW1ldGVycyA9IHBhcmFtczsKCiAgICBpZiAocGFyYW1zID0gT2JqZWN0LnRv
UXVlcnlTdHJpbmcocGFyYW1zKSkgewogICAgICAvLyB3aGVuIEdFVCwgYXBwZW5k
IHBhcmFtZXRlcnMgdG8gVVJMCiAgICAgIGlmICh0aGlzLm1ldGhvZCA9PSAnZ2V0
JykKICAgICAgICB0aGlzLnVybCArPSAodGhpcy51cmwuaW5jbHVkZSgnPycpID8g
JyYnIDogJz8nKSArIHBhcmFtczsKICAgICAgZWxzZSBpZiAoL0tvbnF1ZXJvcnxT
YWZhcml8S0hUTUwvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpCiAgICAgICAg
cGFyYW1zICs9ICcmXz0nOwogICAgfQoKICAgIHRyeSB7CiAgICAgIHZhciByZXNw
b25zZSA9IG5ldyBBamF4LlJlc3BvbnNlKHRoaXMpOwogICAgICBpZiAodGhpcy5v
cHRpb25zLm9uQ3JlYXRlKSB0aGlzLm9wdGlvbnMub25DcmVhdGUocmVzcG9uc2Up
OwogICAgICBBamF4LlJlc3BvbmRlcnMuZGlzcGF0Y2goJ29uQ3JlYXRlJywgdGhp
cywgcmVzcG9uc2UpOwoKICAgICAgdGhpcy50cmFuc3BvcnQub3Blbih0aGlzLm1l
dGhvZC50b1VwcGVyQ2FzZSgpLCB0aGlzLnVybCwKICAgICAgICB0aGlzLm9wdGlv
bnMuYXN5bmNocm9ub3VzKTsKCiAgICAgIGlmICh0aGlzLm9wdGlvbnMuYXN5bmNo
cm9ub3VzKSB0aGlzLnJlc3BvbmRUb1JlYWR5U3RhdGUuYmluZCh0aGlzKS5kZWZl
cigxKTsKCiAgICAgIHRoaXMudHJhbnNwb3J0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9
IHRoaXMub25TdGF0ZUNoYW5nZS5iaW5kKHRoaXMpOwogICAgICB0aGlzLnNldFJl
cXVlc3RIZWFkZXJzKCk7CgogICAgICB0aGlzLmJvZHkgPSB0aGlzLm1ldGhvZCA9
PSAncG9zdCcgPyAodGhpcy5vcHRpb25zLnBvc3RCb2R5IHx8IHBhcmFtcykgOiBu
dWxsOwogICAgICB0aGlzLnRyYW5zcG9ydC5zZW5kKHRoaXMuYm9keSk7CgogICAg
ICAvKiBGb3JjZSBGaXJlZm94IHRvIGhhbmRsZSByZWFkeSBzdGF0ZSA0IGZvciBz
eW5jaHJvbm91cyByZXF1ZXN0cyAqLwogICAgICBpZiAoIXRoaXMub3B0aW9ucy5h
c3luY2hyb25vdXMgJiYgdGhpcy50cmFuc3BvcnQub3ZlcnJpZGVNaW1lVHlwZSkK
ICAgICAgICB0aGlzLm9uU3RhdGVDaGFuZ2UoKTsKCiAgICB9CiAgICBjYXRjaCAo
ZSkgewogICAgICB0aGlzLmRpc3BhdGNoRXhjZXB0aW9uKGUpOwogICAgfQogIH0s
CgogIG9uU3RhdGVDaGFuZ2U6IGZ1bmN0aW9uKCkgewogICAgdmFyIHJlYWR5U3Rh
dGUgPSB0aGlzLnRyYW5zcG9ydC5yZWFkeVN0YXRlOwogICAgaWYgKHJlYWR5U3Rh
dGUgPiAxICYmICEoKHJlYWR5U3RhdGUgPT0gNCkgJiYgdGhpcy5fY29tcGxldGUp
KQogICAgICB0aGlzLnJlc3BvbmRUb1JlYWR5U3RhdGUodGhpcy50cmFuc3BvcnQu
cmVhZHlTdGF0ZSk7CiAgfSwKCiAgc2V0UmVxdWVzdEhlYWRlcnM6IGZ1bmN0aW9u
KCkgewogICAgdmFyIGhlYWRlcnMgPSB7CiAgICAgICdYLVJlcXVlc3RlZC1XaXRo
JzogJ1hNTEh0dHBSZXF1ZXN0JywKICAgICAgJ1gtUHJvdG90eXBlLVZlcnNpb24n
OiBQcm90b3R5cGUuVmVyc2lvbiwKICAgICAgJ0FjY2VwdCc6ICd0ZXh0L2phdmFz
Y3JpcHQsIHRleHQvaHRtbCwgYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbCwgKi8q
JwogICAgfTsKCiAgICBpZiAodGhpcy5tZXRob2QgPT0gJ3Bvc3QnKSB7CiAgICAg
IGhlYWRlcnNbJ0NvbnRlbnQtdHlwZSddID0gdGhpcy5vcHRpb25zLmNvbnRlbnRU
eXBlICsKICAgICAgICAodGhpcy5vcHRpb25zLmVuY29kaW5nID8gJzsgY2hhcnNl
dD0nICsgdGhpcy5vcHRpb25zLmVuY29kaW5nIDogJycpOwoKICAgICAgLyogRm9y
Y2UgIkNvbm5lY3Rpb246IGNsb3NlIiBmb3Igb2xkZXIgTW96aWxsYSBicm93c2Vy
cyB0byB3b3JrCiAgICAgICAqIGFyb3VuZCBhIGJ1ZyB3aGVyZSBYTUxIdHRwUmVx
dWVzdCBzZW5kcyBhbiBpbmNvcnJlY3QKICAgICAgICogQ29udGVudC1sZW5ndGgg
aGVhZGVyLiBTZWUgTW96aWxsYSBCdWd6aWxsYSAjMjQ2NjUxLgogICAgICAgKi8K
ICAgICAgaWYgKHRoaXMudHJhbnNwb3J0Lm92ZXJyaWRlTWltZVR5cGUgJiYKICAg
ICAgICAgIChuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9HZWNrb1wvKFxkezR9
KS8pIHx8IFswLDIwMDVdKVsxXSA8IDIwMDUpCiAgICAgICAgICAgIGhlYWRlcnNb
J0Nvbm5lY3Rpb24nXSA9ICdjbG9zZSc7CiAgICB9CgogICAgLy8gdXNlci1kZWZp
bmVkIGhlYWRlcnMKICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLnJlcXVlc3RI
ZWFkZXJzID09ICdvYmplY3QnKSB7CiAgICAgIHZhciBleHRyYXMgPSB0aGlzLm9w
dGlvbnMucmVxdWVzdEhlYWRlcnM7CgogICAgICBpZiAoT2JqZWN0LmlzRnVuY3Rp
b24oZXh0cmFzLnB1c2gpKQogICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGgg
PSBleHRyYXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpICs9IDIpCiAgICAgICAgICBo
ZWFkZXJzW2V4dHJhc1tpXV0gPSBleHRyYXNbaSsxXTsKICAgICAgZWxzZQogICAg
ICAgICRIKGV4dHJhcykuZWFjaChmdW5jdGlvbihwYWlyKSB7IGhlYWRlcnNbcGFp
ci5rZXldID0gcGFpci52YWx1ZSB9KTsKICAgIH0KCiAgICBmb3IgKHZhciBuYW1l
IGluIGhlYWRlcnMpCiAgICAgIHRoaXMudHJhbnNwb3J0LnNldFJlcXVlc3RIZWFk
ZXIobmFtZSwgaGVhZGVyc1tuYW1lXSk7CiAgfSwKCiAgc3VjY2VzczogZnVuY3Rp
b24oKSB7CiAgICB2YXIgc3RhdHVzID0gdGhpcy5nZXRTdGF0dXMoKTsKICAgIHJl
dHVybiAhc3RhdHVzIHx8IChzdGF0dXMgPj0gMjAwICYmIHN0YXR1cyA8IDMwMCk7
CiAgfSwKCiAgZ2V0U3RhdHVzOiBmdW5jdGlvbigpIHsKICAgIHRyeSB7CiAgICAg
IHJldHVybiB0aGlzLnRyYW5zcG9ydC5zdGF0dXMgfHwgMDsKICAgIH0gY2F0Y2gg
KGUpIHsgcmV0dXJuIDAgfQogIH0sCgogIHJlc3BvbmRUb1JlYWR5U3RhdGU6IGZ1
bmN0aW9uKHJlYWR5U3RhdGUpIHsKICAgIHZhciBzdGF0ZSA9IEFqYXguUmVxdWVz
dC5FdmVudHNbcmVhZHlTdGF0ZV0sIHJlc3BvbnNlID0gbmV3IEFqYXguUmVzcG9u
c2UodGhpcyk7CgogICAgaWYgKHN0YXRlID09ICdDb21wbGV0ZScpIHsKICAgICAg
dHJ5IHsKICAgICAgICB0aGlzLl9jb21wbGV0ZSA9IHRydWU7CiAgICAgICAgKHRo
aXMub3B0aW9uc1snb24nICsgcmVzcG9uc2Uuc3RhdHVzXQogICAgICAgICB8fCB0
aGlzLm9wdGlvbnNbJ29uJyArICh0aGlzLnN1Y2Nlc3MoKSA/ICdTdWNjZXNzJyA6
ICdGYWlsdXJlJyldCiAgICAgICAgIHx8IFByb3RvdHlwZS5lbXB0eUZ1bmN0aW9u
KShyZXNwb25zZSwgcmVzcG9uc2UuaGVhZGVySlNPTik7CiAgICAgIH0gY2F0Y2gg
KGUpIHsKICAgICAgICB0aGlzLmRpc3BhdGNoRXhjZXB0aW9uKGUpOwogICAgICB9
CgogICAgICB2YXIgY29udGVudFR5cGUgPSByZXNwb25zZS5nZXRIZWFkZXIoJ0Nv
bnRlbnQtdHlwZScpOwogICAgICBpZiAodGhpcy5vcHRpb25zLmV2YWxKUyA9PSAn
Zm9yY2UnCiAgICAgICAgICB8fCAodGhpcy5vcHRpb25zLmV2YWxKUyAmJiB0aGlz
LmlzU2FtZU9yaWdpbigpICYmIGNvbnRlbnRUeXBlCiAgICAgICAgICAmJiBjb250
ZW50VHlwZS5tYXRjaCgvXlxzKih0ZXh0fGFwcGxpY2F0aW9uKVwvKHgtKT8oamF2
YXxlY21hKXNjcmlwdCg7LiopP1xzKiQvaSkpKQogICAgICAgIHRoaXMuZXZhbFJl
c3BvbnNlKCk7CiAgICB9CgogICAgdHJ5IHsKICAgICAgKHRoaXMub3B0aW9uc1sn
b24nICsgc3RhdGVdIHx8IFByb3RvdHlwZS5lbXB0eUZ1bmN0aW9uKShyZXNwb25z
ZSwgcmVzcG9uc2UuaGVhZGVySlNPTik7CiAgICAgIEFqYXguUmVzcG9uZGVycy5k
aXNwYXRjaCgnb24nICsgc3RhdGUsIHRoaXMsIHJlc3BvbnNlLCByZXNwb25zZS5o
ZWFkZXJKU09OKTsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgdGhpcy5kaXNwYXRj
aEV4Y2VwdGlvbihlKTsKICAgIH0KCiAgICBpZiAoc3RhdGUgPT0gJ0NvbXBsZXRl
JykgewogICAgICAvLyBhdm9pZCBtZW1vcnkgbGVhayBpbiBNU0lFOiBjbGVhbiB1
cAogICAgICB0aGlzLnRyYW5zcG9ydC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBQcm90
b3R5cGUuZW1wdHlGdW5jdGlvbjsKICAgIH0KICB9LAoKICBpc1NhbWVPcmlnaW46
IGZ1bmN0aW9uKCkgewogICAgdmFyIG0gPSB0aGlzLnVybC5tYXRjaCgvXlxzKmh0
dHBzPzpcL1wvW15cL10qLyk7CiAgICByZXR1cm4gIW0gfHwgKG1bMF0gPT0gJyN7
cHJvdG9jb2x9Ly8je2RvbWFpbn0je3BvcnR9Jy5pbnRlcnBvbGF0ZSh7CiAgICAg
IHByb3RvY29sOiBsb2NhdGlvbi5wcm90b2NvbCwKICAgICAgZG9tYWluOiBkb2N1
bWVudC5kb21haW4sCiAgICAgIHBvcnQ6IGxvY2F0aW9uLnBvcnQgPyAnOicgKyBs
b2NhdGlvbi5wb3J0IDogJycKICAgIH0pKTsKICB9LAoKICBnZXRIZWFkZXI6IGZ1
bmN0aW9uKG5hbWUpIHsKICAgIHRyeSB7CiAgICAgIHJldHVybiB0aGlzLnRyYW5z
cG9ydC5nZXRSZXNwb25zZUhlYWRlcihuYW1lKSB8fCBudWxsOwogICAgfSBjYXRj
aCAoZSkgeyByZXR1cm4gbnVsbCB9CiAgfSwKCiAgZXZhbFJlc3BvbnNlOiBmdW5j
dGlvbigpIHsKICAgIHRyeSB7CiAgICAgIHJldHVybiBldmFsKCh0aGlzLnRyYW5z
cG9ydC5yZXNwb25zZVRleHQgfHwgJycpLnVuZmlsdGVySlNPTigpKTsKICAgIH0g
Y2F0Y2ggKGUpIHsKICAgICAgdGhpcy5kaXNwYXRjaEV4Y2VwdGlvbihlKTsKICAg
IH0KICB9LAoKICBkaXNwYXRjaEV4Y2VwdGlvbjogZnVuY3Rpb24oZXhjZXB0aW9u
KSB7CiAgICAodGhpcy5vcHRpb25zLm9uRXhjZXB0aW9uIHx8IFByb3RvdHlwZS5l
bXB0eUZ1bmN0aW9uKSh0aGlzLCBleGNlcHRpb24pOwogICAgQWpheC5SZXNwb25k
ZXJzLmRpc3BhdGNoKCdvbkV4Y2VwdGlvbicsIHRoaXMsIGV4Y2VwdGlvbik7CiAg
fQp9KTsKCkFqYXguUmVxdWVzdC5FdmVudHMgPQogIFsnVW5pbml0aWFsaXplZCcs
ICdMb2FkaW5nJywgJ0xvYWRlZCcsICdJbnRlcmFjdGl2ZScsICdDb21wbGV0ZSdd
OwoKQWpheC5SZXNwb25zZSA9IENsYXNzLmNyZWF0ZSh7CiAgaW5pdGlhbGl6ZTog
ZnVuY3Rpb24ocmVxdWVzdCl7CiAgICB0aGlzLnJlcXVlc3QgPSByZXF1ZXN0Owog
ICAgdmFyIHRyYW5zcG9ydCAgPSB0aGlzLnRyYW5zcG9ydCAgPSByZXF1ZXN0LnRy
YW5zcG9ydCwKICAgICAgICByZWFkeVN0YXRlID0gdGhpcy5yZWFkeVN0YXRlID0g
dHJhbnNwb3J0LnJlYWR5U3RhdGU7CgogICAgaWYoKHJlYWR5U3RhdGUgPiAyICYm
ICFQcm90b3R5cGUuQnJvd3Nlci5JRSkgfHwgcmVhZHlTdGF0ZSA9PSA0KSB7CiAg
ICAgIHRoaXMuc3RhdHVzICAgICAgID0gdGhpcy5nZXRTdGF0dXMoKTsKICAgICAg
dGhpcy5zdGF0dXNUZXh0ICAgPSB0aGlzLmdldFN0YXR1c1RleHQoKTsKICAgICAg
dGhpcy5yZXNwb25zZVRleHQgPSBTdHJpbmcuaW50ZXJwcmV0KHRyYW5zcG9ydC5y
ZXNwb25zZVRleHQpOwogICAgICB0aGlzLmhlYWRlckpTT04gICA9IHRoaXMuX2dl
dEhlYWRlckpTT04oKTsKICAgIH0KCiAgICBpZihyZWFkeVN0YXRlID09IDQpIHsK
ICAgICAgdmFyIHhtbCA9IHRyYW5zcG9ydC5yZXNwb25zZVhNTDsKICAgICAgdGhp
cy5yZXNwb25zZVhNTCAgPSBPYmplY3QuaXNVbmRlZmluZWQoeG1sKSA/IG51bGwg
OiB4bWw7CiAgICAgIHRoaXMucmVzcG9uc2VKU09OID0gdGhpcy5fZ2V0UmVzcG9u
c2VKU09OKCk7CiAgICB9CiAgfSwKCiAgc3RhdHVzOiAgICAgIDAsCiAgc3RhdHVz
VGV4dDogJycsCgogIGdldFN0YXR1czogQWpheC5SZXF1ZXN0LnByb3RvdHlwZS5n
ZXRTdGF0dXMsCgogIGdldFN0YXR1c1RleHQ6IGZ1bmN0aW9uKCkgewogICAgdHJ5
IHsKICAgICAgcmV0dXJuIHRoaXMudHJhbnNwb3J0LnN0YXR1c1RleHQgfHwgJyc7
CiAgICB9IGNhdGNoIChlKSB7IHJldHVybiAnJyB9CiAgfSwKCiAgZ2V0SGVhZGVy
OiBBamF4LlJlcXVlc3QucHJvdG90eXBlLmdldEhlYWRlciwKCiAgZ2V0QWxsSGVh
ZGVyczogZnVuY3Rpb24oKSB7CiAgICB0cnkgewogICAgICByZXR1cm4gdGhpcy5n
ZXRBbGxSZXNwb25zZUhlYWRlcnMoKTsKICAgIH0gY2F0Y2ggKGUpIHsgcmV0dXJu
IG51bGwgfQogIH0sCgogIGdldFJlc3BvbnNlSGVhZGVyOiBmdW5jdGlvbihuYW1l
KSB7CiAgICByZXR1cm4gdGhpcy50cmFuc3BvcnQuZ2V0UmVzcG9uc2VIZWFkZXIo
bmFtZSk7CiAgfSwKCiAgZ2V0QWxsUmVzcG9uc2VIZWFkZXJzOiBmdW5jdGlvbigp
IHsKICAgIHJldHVybiB0aGlzLnRyYW5zcG9ydC5nZXRBbGxSZXNwb25zZUhlYWRl
cnMoKTsKICB9LAoKICBfZ2V0SGVhZGVySlNPTjogZnVuY3Rpb24oKSB7CiAgICB2
YXIganNvbiA9IHRoaXMuZ2V0SGVhZGVyKCdYLUpTT04nKTsKICAgIGlmICghanNv
bikgcmV0dXJuIG51bGw7CiAgICBqc29uID0gZGVjb2RlVVJJQ29tcG9uZW50KGVz
Y2FwZShqc29uKSk7CiAgICB0cnkgewogICAgICByZXR1cm4ganNvbi5ldmFsSlNP
Tih0aGlzLnJlcXVlc3Qub3B0aW9ucy5zYW5pdGl6ZUpTT04gfHwKICAgICAgICAh
dGhpcy5yZXF1ZXN0LmlzU2FtZU9yaWdpbigpKTsKICAgIH0gY2F0Y2ggKGUpIHsK
ICAgICAgdGhpcy5yZXF1ZXN0LmRpc3BhdGNoRXhjZXB0aW9uKGUpOwogICAgfQog
IH0sCgogIF9nZXRSZXNwb25zZUpTT046IGZ1bmN0aW9uKCkgewogICAgdmFyIG9w
dGlvbnMgPSB0aGlzLnJlcXVlc3Qub3B0aW9uczsKICAgIGlmICghb3B0aW9ucy5l
dmFsSlNPTiB8fCAob3B0aW9ucy5ldmFsSlNPTiAhPSAnZm9yY2UnICYmCiAgICAg
ICEodGhpcy5nZXRIZWFkZXIoJ0NvbnRlbnQtdHlwZScpIHx8ICcnKS5pbmNsdWRl
KCdhcHBsaWNhdGlvbi9qc29uJykpIHx8CiAgICAgICAgdGhpcy5yZXNwb25zZVRl
eHQuYmxhbmsoKSkKICAgICAgICAgIHJldHVybiBudWxsOwogICAgdHJ5IHsKICAg
ICAgcmV0dXJuIHRoaXMucmVzcG9uc2VUZXh0LmV2YWxKU09OKG9wdGlvbnMuc2Fu
aXRpemVKU09OIHx8CiAgICAgICAgIXRoaXMucmVxdWVzdC5pc1NhbWVPcmlnaW4o
KSk7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIHRoaXMucmVxdWVzdC5kaXNwYXRj
aEV4Y2VwdGlvbihlKTsKICAgIH0KICB9Cn0pOwoKQWpheC5VcGRhdGVyID0gQ2xh
c3MuY3JlYXRlKEFqYXguUmVxdWVzdCwgewogIGluaXRpYWxpemU6IGZ1bmN0aW9u
KCRzdXBlciwgY29udGFpbmVyLCB1cmwsIG9wdGlvbnMpIHsKICAgIHRoaXMuY29u
dGFpbmVyID0gewogICAgICBzdWNjZXNzOiAoY29udGFpbmVyLnN1Y2Nlc3MgfHwg
Y29udGFpbmVyKSwKICAgICAgZmFpbHVyZTogKGNvbnRhaW5lci5mYWlsdXJlIHx8
IChjb250YWluZXIuc3VjY2VzcyA/IG51bGwgOiBjb250YWluZXIpKQogICAgfTsK
CiAgICBvcHRpb25zID0gT2JqZWN0LmNsb25lKG9wdGlvbnMpOwogICAgdmFyIG9u
Q29tcGxldGUgPSBvcHRpb25zLm9uQ29tcGxldGU7CiAgICBvcHRpb25zLm9uQ29t
cGxldGUgPSAoZnVuY3Rpb24ocmVzcG9uc2UsIGpzb24pIHsKICAgICAgdGhpcy51
cGRhdGVDb250ZW50KHJlc3BvbnNlLnJlc3BvbnNlVGV4dCk7CiAgICAgIGlmIChP
YmplY3QuaXNGdW5jdGlvbihvbkNvbXBsZXRlKSkgb25Db21wbGV0ZShyZXNwb25z
ZSwganNvbik7CiAgICB9KS5iaW5kKHRoaXMpOwoKICAgICRzdXBlcih1cmwsIG9w
dGlvbnMpOwogIH0sCgogIHVwZGF0ZUNvbnRlbnQ6IGZ1bmN0aW9uKHJlc3BvbnNl
VGV4dCkgewogICAgdmFyIHJlY2VpdmVyID0gdGhpcy5jb250YWluZXJbdGhpcy5z
dWNjZXNzKCkgPyAnc3VjY2VzcycgOiAnZmFpbHVyZSddLAogICAgICAgIG9wdGlv
bnMgPSB0aGlzLm9wdGlvbnM7CgogICAgaWYgKCFvcHRpb25zLmV2YWxTY3JpcHRz
KSByZXNwb25zZVRleHQgPSByZXNwb25zZVRleHQuc3RyaXBTY3JpcHRzKCk7Cgog
ICAgaWYgKHJlY2VpdmVyID0gJChyZWNlaXZlcikpIHsKICAgICAgaWYgKG9wdGlv
bnMuaW5zZXJ0aW9uKSB7CiAgICAgICAgaWYgKE9iamVjdC5pc1N0cmluZyhvcHRp
b25zLmluc2VydGlvbikpIHsKICAgICAgICAgIHZhciBpbnNlcnRpb24gPSB7IH07
IGluc2VydGlvbltvcHRpb25zLmluc2VydGlvbl0gPSByZXNwb25zZVRleHQ7CiAg
ICAgICAgICByZWNlaXZlci5pbnNlcnQoaW5zZXJ0aW9uKTsKICAgICAgICB9CiAg
ICAgICAgZWxzZSBvcHRpb25zLmluc2VydGlvbihyZWNlaXZlciwgcmVzcG9uc2VU
ZXh0KTsKICAgICAgfQogICAgICBlbHNlIHJlY2VpdmVyLnVwZGF0ZShyZXNwb25z
ZVRleHQpOwogICAgfQogIH0KfSk7CgpBamF4LlBlcmlvZGljYWxVcGRhdGVyID0g
Q2xhc3MuY3JlYXRlKEFqYXguQmFzZSwgewogIGluaXRpYWxpemU6IGZ1bmN0aW9u
KCRzdXBlciwgY29udGFpbmVyLCB1cmwsIG9wdGlvbnMpIHsKICAgICRzdXBlcihv
cHRpb25zKTsKICAgIHRoaXMub25Db21wbGV0ZSA9IHRoaXMub3B0aW9ucy5vbkNv
bXBsZXRlOwoKICAgIHRoaXMuZnJlcXVlbmN5ID0gKHRoaXMub3B0aW9ucy5mcmVx
dWVuY3kgfHwgMik7CiAgICB0aGlzLmRlY2F5ID0gKHRoaXMub3B0aW9ucy5kZWNh
eSB8fCAxKTsKCiAgICB0aGlzLnVwZGF0ZXIgPSB7IH07CiAgICB0aGlzLmNvbnRh
aW5lciA9IGNvbnRhaW5lcjsKICAgIHRoaXMudXJsID0gdXJsOwoKICAgIHRoaXMu
c3RhcnQoKTsKICB9LAoKICBzdGFydDogZnVuY3Rpb24oKSB7CiAgICB0aGlzLm9w
dGlvbnMub25Db21wbGV0ZSA9IHRoaXMudXBkYXRlQ29tcGxldGUuYmluZCh0aGlz
KTsKICAgIHRoaXMub25UaW1lckV2ZW50KCk7CiAgfSwKCiAgc3RvcDogZnVuY3Rp
b24oKSB7CiAgICB0aGlzLnVwZGF0ZXIub3B0aW9ucy5vbkNvbXBsZXRlID0gdW5k
ZWZpbmVkOwogICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXIpOwogICAgKHRoaXMu
b25Db21wbGV0ZSB8fCBQcm90b3R5cGUuZW1wdHlGdW5jdGlvbikuYXBwbHkodGhp
cywgYXJndW1lbnRzKTsKICB9LAoKICB1cGRhdGVDb21wbGV0ZTogZnVuY3Rpb24o
cmVzcG9uc2UpIHsKICAgIGlmICh0aGlzLm9wdGlvbnMuZGVjYXkpIHsKICAgICAg
dGhpcy5kZWNheSA9IChyZXNwb25zZS5yZXNwb25zZVRleHQgPT0gdGhpcy5sYXN0
VGV4dCA/CiAgICAgICAgdGhpcy5kZWNheSAqIHRoaXMub3B0aW9ucy5kZWNheSA6
IDEpOwoKICAgICAgdGhpcy5sYXN0VGV4dCA9IHJlc3BvbnNlLnJlc3BvbnNlVGV4
dDsKICAgIH0KICAgIHRoaXMudGltZXIgPSB0aGlzLm9uVGltZXJFdmVudC5iaW5k
KHRoaXMpLmRlbGF5KHRoaXMuZGVjYXkgKiB0aGlzLmZyZXF1ZW5jeSk7CiAgfSwK
CiAgb25UaW1lckV2ZW50OiBmdW5jdGlvbigpIHsKICAgIHRoaXMudXBkYXRlciA9
IG5ldyBBamF4LlVwZGF0ZXIodGhpcy5jb250YWluZXIsIHRoaXMudXJsLCB0aGlz
Lm9wdGlvbnMpOwogIH0KfSk7CmZ1bmN0aW9uICQoZWxlbWVudCkgewogIGlmIChh
cmd1bWVudHMubGVuZ3RoID4gMSkgewogICAgZm9yICh2YXIgaSA9IDAsIGVsZW1l
bnRzID0gW10sIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsZW5ndGg7
IGkrKykKICAgICAgZWxlbWVudHMucHVzaCgkKGFyZ3VtZW50c1tpXSkpOwogICAg
cmV0dXJuIGVsZW1lbnRzOwogIH0KICBpZiAoT2JqZWN0LmlzU3RyaW5nKGVsZW1l
bnQpKQogICAgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1l
bnQpOwogIHJldHVybiBFbGVtZW50LmV4dGVuZChlbGVtZW50KTsKfQoKaWYgKFBy
b3RvdHlwZS5Ccm93c2VyRmVhdHVyZXMuWFBhdGgpIHsKICBkb2N1bWVudC5fZ2V0
RWxlbWVudHNCeVhQYXRoID0gZnVuY3Rpb24oZXhwcmVzc2lvbiwgcGFyZW50RWxl
bWVudCkgewogICAgdmFyIHJlc3VsdHMgPSBbXTsKICAgIHZhciBxdWVyeSA9IGRv
Y3VtZW50LmV2YWx1YXRlKGV4cHJlc3Npb24sICQocGFyZW50RWxlbWVudCkgfHwg
ZG9jdW1lbnQsCiAgICAgIG51bGwsIFhQYXRoUmVzdWx0Lk9SREVSRURfTk9ERV9T
TkFQU0hPVF9UWVBFLCBudWxsKTsKICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGgg
PSBxdWVyeS5zbmFwc2hvdExlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKQogICAgICBy
ZXN1bHRzLnB1c2goRWxlbWVudC5leHRlbmQocXVlcnkuc25hcHNob3RJdGVtKGkp
KSk7CiAgICByZXR1cm4gcmVzdWx0czsKICB9Owp9CgovKi0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tKi8KCmlmICghd2luZG93Lk5vZGUpIHZhciBOb2RlID0geyB9
OwoKaWYgKCFOb2RlLkVMRU1FTlRfTk9ERSkgewogIC8vIERPTSBsZXZlbCAyIEVD
TUFTY3JpcHQgTGFuZ3VhZ2UgQmluZGluZwogIE9iamVjdC5leHRlbmQoTm9kZSwg
ewogICAgRUxFTUVOVF9OT0RFOiAxLAogICAgQVRUUklCVVRFX05PREU6IDIsCiAg
ICBURVhUX05PREU6IDMsCiAgICBDREFUQV9TRUNUSU9OX05PREU6IDQsCiAgICBF
TlRJVFlfUkVGRVJFTkNFX05PREU6IDUsCiAgICBFTlRJVFlfTk9ERTogNiwKICAg
IFBST0NFU1NJTkdfSU5TVFJVQ1RJT05fTk9ERTogNywKICAgIENPTU1FTlRfTk9E
RTogOCwKICAgIERPQ1VNRU5UX05PREU6IDksCiAgICBET0NVTUVOVF9UWVBFX05P
REU6IDEwLAogICAgRE9DVU1FTlRfRlJBR01FTlRfTk9ERTogMTEsCiAgICBOT1RB
VElPTl9OT0RFOiAxMgogIH0pOwp9CgooZnVuY3Rpb24oKSB7CiAgdmFyIGVsZW1l
bnQgPSB0aGlzLkVsZW1lbnQ7CiAgdGhpcy5FbGVtZW50ID0gZnVuY3Rpb24odGFn
TmFtZSwgYXR0cmlidXRlcykgewogICAgYXR0cmlidXRlcyA9IGF0dHJpYnV0ZXMg
fHwgeyB9OwogICAgdGFnTmFtZSA9IHRhZ05hbWUudG9Mb3dlckNhc2UoKTsKICAg
IHZhciBjYWNoZSA9IEVsZW1lbnQuY2FjaGU7CiAgICBpZiAoUHJvdG90eXBlLkJy
b3dzZXIuSUUgJiYgYXR0cmlidXRlcy5uYW1lKSB7CiAgICAgIHRhZ05hbWUgPSAn
PCcgKyB0YWdOYW1lICsgJyBuYW1lPSInICsgYXR0cmlidXRlcy5uYW1lICsgJyI+
JzsKICAgICAgZGVsZXRlIGF0dHJpYnV0ZXMubmFtZTsKICAgICAgcmV0dXJuIEVs
ZW1lbnQud3JpdGVBdHRyaWJ1dGUoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWdO
YW1lKSwgYXR0cmlidXRlcyk7CiAgICB9CiAgICBpZiAoIWNhY2hlW3RhZ05hbWVd
KSBjYWNoZVt0YWdOYW1lXSA9IEVsZW1lbnQuZXh0ZW5kKGRvY3VtZW50LmNyZWF0
ZUVsZW1lbnQodGFnTmFtZSkpOwogICAgcmV0dXJuIEVsZW1lbnQud3JpdGVBdHRy
aWJ1dGUoY2FjaGVbdGFnTmFtZV0uY2xvbmVOb2RlKGZhbHNlKSwgYXR0cmlidXRl
cyk7CiAgfTsKICBPYmplY3QuZXh0ZW5kKHRoaXMuRWxlbWVudCwgZWxlbWVudCB8
fCB7IH0pOwogIGlmIChlbGVtZW50KSB0aGlzLkVsZW1lbnQucHJvdG90eXBlID0g
ZWxlbWVudC5wcm90b3R5cGU7Cn0pLmNhbGwod2luZG93KTsKCkVsZW1lbnQuY2Fj
aGUgPSB7IH07CgpFbGVtZW50Lk1ldGhvZHMgPSB7CiAgdmlzaWJsZTogZnVuY3Rp
b24oZWxlbWVudCkgewogICAgcmV0dXJuICQoZWxlbWVudCkuc3R5bGUuZGlzcGxh
eSAhPSAnbm9uZSc7CiAgfSwKCiAgdG9nZ2xlOiBmdW5jdGlvbihlbGVtZW50KSB7
CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgIEVsZW1lbnRbRWxlbWVudC52
aXNpYmxlKGVsZW1lbnQpID8gJ2hpZGUnIDogJ3Nob3cnXShlbGVtZW50KTsKICAg
IHJldHVybiBlbGVtZW50OwogIH0sCgogIGhpZGU6IGZ1bmN0aW9uKGVsZW1lbnQp
IHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgZWxlbWVudC5zdHlsZS5k
aXNwbGF5ID0gJ25vbmUnOwogICAgcmV0dXJuIGVsZW1lbnQ7CiAgfSwKCiAgc2hv
dzogZnVuY3Rpb24oZWxlbWVudCkgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCk7
CiAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnJzsKICAgIHJldHVybiBlbGVt
ZW50OwogIH0sCgogIHJlbW92ZTogZnVuY3Rpb24oZWxlbWVudCkgewogICAgZWxl
bWVudCA9ICQoZWxlbWVudCk7CiAgICBlbGVtZW50LnBhcmVudE5vZGUucmVtb3Zl
Q2hpbGQoZWxlbWVudCk7CiAgICByZXR1cm4gZWxlbWVudDsKICB9LAoKICB1cGRh
dGU6IGZ1bmN0aW9uKGVsZW1lbnQsIGNvbnRlbnQpIHsKICAgIGVsZW1lbnQgPSAk
KGVsZW1lbnQpOwogICAgaWYgKGNvbnRlbnQgJiYgY29udGVudC50b0VsZW1lbnQp
IGNvbnRlbnQgPSBjb250ZW50LnRvRWxlbWVudCgpOwogICAgaWYgKE9iamVjdC5p
c0VsZW1lbnQoY29udGVudCkpIHJldHVybiBlbGVtZW50LnVwZGF0ZSgpLmluc2Vy
dChjb250ZW50KTsKICAgIGNvbnRlbnQgPSBPYmplY3QudG9IVE1MKGNvbnRlbnQp
OwogICAgZWxlbWVudC5pbm5lckhUTUwgPSBjb250ZW50LnN0cmlwU2NyaXB0cygp
OwogICAgY29udGVudC5ldmFsU2NyaXB0cy5iaW5kKGNvbnRlbnQpLmRlZmVyKCk7
CiAgICByZXR1cm4gZWxlbWVudDsKICB9LAoKICByZXBsYWNlOiBmdW5jdGlvbihl
bGVtZW50LCBjb250ZW50KSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAg
IGlmIChjb250ZW50ICYmIGNvbnRlbnQudG9FbGVtZW50KSBjb250ZW50ID0gY29u
dGVudC50b0VsZW1lbnQoKTsKICAgIGVsc2UgaWYgKCFPYmplY3QuaXNFbGVtZW50
KGNvbnRlbnQpKSB7CiAgICAgIGNvbnRlbnQgPSBPYmplY3QudG9IVE1MKGNvbnRl
bnQpOwogICAgICB2YXIgcmFuZ2UgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQuY3Jl
YXRlUmFuZ2UoKTsKICAgICAgcmFuZ2Uuc2VsZWN0Tm9kZShlbGVtZW50KTsKICAg
ICAgY29udGVudC5ldmFsU2NyaXB0cy5iaW5kKGNvbnRlbnQpLmRlZmVyKCk7CiAg
ICAgIGNvbnRlbnQgPSByYW5nZS5jcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQoY29u
dGVudC5zdHJpcFNjcmlwdHMoKSk7CiAgICB9CiAgICBlbGVtZW50LnBhcmVudE5v
ZGUucmVwbGFjZUNoaWxkKGNvbnRlbnQsIGVsZW1lbnQpOwogICAgcmV0dXJuIGVs
ZW1lbnQ7CiAgfSwKCiAgaW5zZXJ0OiBmdW5jdGlvbihlbGVtZW50LCBpbnNlcnRp
b25zKSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKCiAgICBpZiAoT2JqZWN0
LmlzU3RyaW5nKGluc2VydGlvbnMpIHx8IE9iamVjdC5pc051bWJlcihpbnNlcnRp
b25zKSB8fAogICAgICAgIE9iamVjdC5pc0VsZW1lbnQoaW5zZXJ0aW9ucykgfHwg
KGluc2VydGlvbnMgJiYgKGluc2VydGlvbnMudG9FbGVtZW50IHx8IGluc2VydGlv
bnMudG9IVE1MKSkpCiAgICAgICAgICBpbnNlcnRpb25zID0ge2JvdHRvbTppbnNl
cnRpb25zfTsKCiAgICB2YXIgY29udGVudCwgaW5zZXJ0LCB0YWdOYW1lLCBjaGls
ZE5vZGVzOwoKICAgIGZvciAodmFyIHBvc2l0aW9uIGluIGluc2VydGlvbnMpIHsK
ICAgICAgY29udGVudCAgPSBpbnNlcnRpb25zW3Bvc2l0aW9uXTsKICAgICAgcG9z
aXRpb24gPSBwb3NpdGlvbi50b0xvd2VyQ2FzZSgpOwogICAgICBpbnNlcnQgPSBF
bGVtZW50Ll9pbnNlcnRpb25UcmFuc2xhdGlvbnNbcG9zaXRpb25dOwoKICAgICAg
aWYgKGNvbnRlbnQgJiYgY29udGVudC50b0VsZW1lbnQpIGNvbnRlbnQgPSBjb250
ZW50LnRvRWxlbWVudCgpOwogICAgICBpZiAoT2JqZWN0LmlzRWxlbWVudChjb250
ZW50KSkgewogICAgICAgIGluc2VydChlbGVtZW50LCBjb250ZW50KTsKICAgICAg
ICBjb250aW51ZTsKICAgICAgfQoKICAgICAgY29udGVudCA9IE9iamVjdC50b0hU
TUwoY29udGVudCk7CgogICAgICB0YWdOYW1lID0gKChwb3NpdGlvbiA9PSAnYmVm
b3JlJyB8fCBwb3NpdGlvbiA9PSAnYWZ0ZXInKQogICAgICAgID8gZWxlbWVudC5w
YXJlbnROb2RlIDogZWxlbWVudCkudGFnTmFtZS50b1VwcGVyQ2FzZSgpOwoKICAg
ICAgY2hpbGROb2RlcyA9IEVsZW1lbnQuX2dldENvbnRlbnRGcm9tQW5vbnltb3Vz
RWxlbWVudCh0YWdOYW1lLCBjb250ZW50LnN0cmlwU2NyaXB0cygpKTsKCiAgICAg
IGlmIChwb3NpdGlvbiA9PSAndG9wJyB8fCBwb3NpdGlvbiA9PSAnYWZ0ZXInKSBj
aGlsZE5vZGVzLnJldmVyc2UoKTsKICAgICAgY2hpbGROb2Rlcy5lYWNoKGluc2Vy
dC5jdXJyeShlbGVtZW50KSk7CgogICAgICBjb250ZW50LmV2YWxTY3JpcHRzLmJp
bmQoY29udGVudCkuZGVmZXIoKTsKICAgIH0KCiAgICByZXR1cm4gZWxlbWVudDsK
ICB9LAoKICB3cmFwOiBmdW5jdGlvbihlbGVtZW50LCB3cmFwcGVyLCBhdHRyaWJ1
dGVzKSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgIGlmIChPYmplY3Qu
aXNFbGVtZW50KHdyYXBwZXIpKQogICAgICAkKHdyYXBwZXIpLndyaXRlQXR0cmli
dXRlKGF0dHJpYnV0ZXMgfHwgeyB9KTsKICAgIGVsc2UgaWYgKE9iamVjdC5pc1N0
cmluZyh3cmFwcGVyKSkgd3JhcHBlciA9IG5ldyBFbGVtZW50KHdyYXBwZXIsIGF0
dHJpYnV0ZXMpOwogICAgZWxzZSB3cmFwcGVyID0gbmV3IEVsZW1lbnQoJ2Rpdics
IHdyYXBwZXIpOwogICAgaWYgKGVsZW1lbnQucGFyZW50Tm9kZSkKICAgICAgZWxl
bWVudC5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZCh3cmFwcGVyLCBlbGVtZW50KTsK
ICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQoZWxlbWVudCk7CiAgICByZXR1cm4gd3Jh
cHBlcjsKICB9LAoKICBpbnNwZWN0OiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICBl
bGVtZW50ID0gJChlbGVtZW50KTsKICAgIHZhciByZXN1bHQgPSAnPCcgKyBlbGVt
ZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKTsKICAgICRIKHsnaWQnOiAnaWQnLCAn
Y2xhc3NOYW1lJzogJ2NsYXNzJ30pLmVhY2goZnVuY3Rpb24ocGFpcikgewogICAg
ICB2YXIgcHJvcGVydHkgPSBwYWlyLmZpcnN0KCksIGF0dHJpYnV0ZSA9IHBhaXIu
bGFzdCgpOwogICAgICB2YXIgdmFsdWUgPSAoZWxlbWVudFtwcm9wZXJ0eV0gfHwg
JycpLnRvU3RyaW5nKCk7CiAgICAgIGlmICh2YWx1ZSkgcmVzdWx0ICs9ICcgJyAr
IGF0dHJpYnV0ZSArICc9JyArIHZhbHVlLmluc3BlY3QodHJ1ZSk7CiAgICB9KTsK
ICAgIHJldHVybiByZXN1bHQgKyAnPic7CiAgfSwKCiAgcmVjdXJzaXZlbHlDb2xs
ZWN0OiBmdW5jdGlvbihlbGVtZW50LCBwcm9wZXJ0eSkgewogICAgZWxlbWVudCA9
ICQoZWxlbWVudCk7CiAgICB2YXIgZWxlbWVudHMgPSBbXTsKICAgIHdoaWxlIChl
bGVtZW50ID0gZWxlbWVudFtwcm9wZXJ0eV0pCiAgICAgIGlmIChlbGVtZW50Lm5v
ZGVUeXBlID09IDEpCiAgICAgICAgZWxlbWVudHMucHVzaChFbGVtZW50LmV4dGVu
ZChlbGVtZW50KSk7CiAgICByZXR1cm4gZWxlbWVudHM7CiAgfSwKCiAgYW5jZXN0
b3JzOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICByZXR1cm4gJChlbGVtZW50KS5y
ZWN1cnNpdmVseUNvbGxlY3QoJ3BhcmVudE5vZGUnKTsKICB9LAoKICBkZXNjZW5k
YW50czogZnVuY3Rpb24oZWxlbWVudCkgewogICAgcmV0dXJuICQoZWxlbWVudCku
c2VsZWN0KCIqIik7CiAgfSwKCiAgZmlyc3REZXNjZW5kYW50OiBmdW5jdGlvbihl
bGVtZW50KSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KS5maXJzdENoaWxkOwog
ICAgd2hpbGUgKGVsZW1lbnQgJiYgZWxlbWVudC5ub2RlVHlwZSAhPSAxKSBlbGVt
ZW50ID0gZWxlbWVudC5uZXh0U2libGluZzsKICAgIHJldHVybiAkKGVsZW1lbnQp
OwogIH0sCgogIGltbWVkaWF0ZURlc2NlbmRhbnRzOiBmdW5jdGlvbihlbGVtZW50
KSB7CiAgICBpZiAoIShlbGVtZW50ID0gJChlbGVtZW50KS5maXJzdENoaWxkKSkg
cmV0dXJuIFtdOwogICAgd2hpbGUgKGVsZW1lbnQgJiYgZWxlbWVudC5ub2RlVHlw
ZSAhPSAxKSBlbGVtZW50ID0gZWxlbWVudC5uZXh0U2libGluZzsKICAgIGlmIChl
bGVtZW50KSByZXR1cm4gW2VsZW1lbnRdLmNvbmNhdCgkKGVsZW1lbnQpLm5leHRT
aWJsaW5ncygpKTsKICAgIHJldHVybiBbXTsKICB9LAoKICBwcmV2aW91c1NpYmxp
bmdzOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICByZXR1cm4gJChlbGVtZW50KS5y
ZWN1cnNpdmVseUNvbGxlY3QoJ3ByZXZpb3VzU2libGluZycpOwogIH0sCgogIG5l
eHRTaWJsaW5nczogZnVuY3Rpb24oZWxlbWVudCkgewogICAgcmV0dXJuICQoZWxl
bWVudCkucmVjdXJzaXZlbHlDb2xsZWN0KCduZXh0U2libGluZycpOwogIH0sCgog
IHNpYmxpbmdzOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICBlbGVtZW50ID0gJChl
bGVtZW50KTsKICAgIHJldHVybiBlbGVtZW50LnByZXZpb3VzU2libGluZ3MoKS5y
ZXZlcnNlKCkuY29uY2F0KGVsZW1lbnQubmV4dFNpYmxpbmdzKCkpOwogIH0sCgog
IG1hdGNoOiBmdW5jdGlvbihlbGVtZW50LCBzZWxlY3RvcikgewogICAgaWYgKE9i
amVjdC5pc1N0cmluZyhzZWxlY3RvcikpCiAgICAgIHNlbGVjdG9yID0gbmV3IFNl
bGVjdG9yKHNlbGVjdG9yKTsKICAgIHJldHVybiBzZWxlY3Rvci5tYXRjaCgkKGVs
ZW1lbnQpKTsKICB9LAoKICB1cDogZnVuY3Rpb24oZWxlbWVudCwgZXhwcmVzc2lv
biwgaW5kZXgpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgaWYgKGFy
Z3VtZW50cy5sZW5ndGggPT0gMSkgcmV0dXJuICQoZWxlbWVudC5wYXJlbnROb2Rl
KTsKICAgIHZhciBhbmNlc3RvcnMgPSBlbGVtZW50LmFuY2VzdG9ycygpOwogICAg
cmV0dXJuIE9iamVjdC5pc051bWJlcihleHByZXNzaW9uKSA/IGFuY2VzdG9yc1tl
eHByZXNzaW9uXSA6CiAgICAgIFNlbGVjdG9yLmZpbmRFbGVtZW50KGFuY2VzdG9y
cywgZXhwcmVzc2lvbiwgaW5kZXgpOwogIH0sCgogIGRvd246IGZ1bmN0aW9uKGVs
ZW1lbnQsIGV4cHJlc3Npb24sIGluZGV4KSB7CiAgICBlbGVtZW50ID0gJChlbGVt
ZW50KTsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDEpIHJldHVybiBlbGVt
ZW50LmZpcnN0RGVzY2VuZGFudCgpOwogICAgcmV0dXJuIE9iamVjdC5pc051bWJl
cihleHByZXNzaW9uKSA/IGVsZW1lbnQuZGVzY2VuZGFudHMoKVtleHByZXNzaW9u
XSA6CiAgICAgIEVsZW1lbnQuc2VsZWN0KGVsZW1lbnQsIGV4cHJlc3Npb24pW2lu
ZGV4IHx8IDBdOwogIH0sCgogIHByZXZpb3VzOiBmdW5jdGlvbihlbGVtZW50LCBl
eHByZXNzaW9uLCBpbmRleCkgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CiAg
ICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAxKSByZXR1cm4gJChTZWxlY3Rvci5o
YW5kbGVycy5wcmV2aW91c0VsZW1lbnRTaWJsaW5nKGVsZW1lbnQpKTsKICAgIHZh
ciBwcmV2aW91c1NpYmxpbmdzID0gZWxlbWVudC5wcmV2aW91c1NpYmxpbmdzKCk7
CiAgICByZXR1cm4gT2JqZWN0LmlzTnVtYmVyKGV4cHJlc3Npb24pID8gcHJldmlv
dXNTaWJsaW5nc1tleHByZXNzaW9uXSA6CiAgICAgIFNlbGVjdG9yLmZpbmRFbGVt
ZW50KHByZXZpb3VzU2libGluZ3MsIGV4cHJlc3Npb24sIGluZGV4KTsKICB9LAoK
ICBuZXh0OiBmdW5jdGlvbihlbGVtZW50LCBleHByZXNzaW9uLCBpbmRleCkgewog
ICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CiAgICBpZiAoYXJndW1lbnRzLmxlbmd0
aCA9PSAxKSByZXR1cm4gJChTZWxlY3Rvci5oYW5kbGVycy5uZXh0RWxlbWVudFNp
YmxpbmcoZWxlbWVudCkpOwogICAgdmFyIG5leHRTaWJsaW5ncyA9IGVsZW1lbnQu
bmV4dFNpYmxpbmdzKCk7CiAgICByZXR1cm4gT2JqZWN0LmlzTnVtYmVyKGV4cHJl
c3Npb24pID8gbmV4dFNpYmxpbmdzW2V4cHJlc3Npb25dIDoKICAgICAgU2VsZWN0
b3IuZmluZEVsZW1lbnQobmV4dFNpYmxpbmdzLCBleHByZXNzaW9uLCBpbmRleCk7
CiAgfSwKCiAgc2VsZWN0OiBmdW5jdGlvbigpIHsKICAgIHZhciBhcmdzID0gJEEo
YXJndW1lbnRzKSwgZWxlbWVudCA9ICQoYXJncy5zaGlmdCgpKTsKICAgIHJldHVy
biBTZWxlY3Rvci5maW5kQ2hpbGRFbGVtZW50cyhlbGVtZW50LCBhcmdzKTsKICB9
LAoKICBhZGphY2VudDogZnVuY3Rpb24oKSB7CiAgICB2YXIgYXJncyA9ICRBKGFy
Z3VtZW50cyksIGVsZW1lbnQgPSAkKGFyZ3Muc2hpZnQoKSk7CiAgICByZXR1cm4g
U2VsZWN0b3IuZmluZENoaWxkRWxlbWVudHMoZWxlbWVudC5wYXJlbnROb2RlLCBh
cmdzKS53aXRob3V0KGVsZW1lbnQpOwogIH0sCgogIGlkZW50aWZ5OiBmdW5jdGlv
bihlbGVtZW50KSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgIHZhciBp
ZCA9IGVsZW1lbnQucmVhZEF0dHJpYnV0ZSgnaWQnKSwgc2VsZiA9IGFyZ3VtZW50
cy5jYWxsZWU7CiAgICBpZiAoaWQpIHJldHVybiBpZDsKICAgIGRvIHsgaWQgPSAn
YW5vbnltb3VzX2VsZW1lbnRfJyArIHNlbGYuY291bnRlcisrIH0gd2hpbGUgKCQo
aWQpKTsKICAgIGVsZW1lbnQud3JpdGVBdHRyaWJ1dGUoJ2lkJywgaWQpOwogICAg
cmV0dXJuIGlkOwogIH0sCgogIHJlYWRBdHRyaWJ1dGU6IGZ1bmN0aW9uKGVsZW1l
bnQsIG5hbWUpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgaWYgKFBy
b3RvdHlwZS5Ccm93c2VyLklFKSB7CiAgICAgIHZhciB0ID0gRWxlbWVudC5fYXR0
cmlidXRlVHJhbnNsYXRpb25zLnJlYWQ7CiAgICAgIGlmICh0LnZhbHVlc1tuYW1l
XSkgcmV0dXJuIHQudmFsdWVzW25hbWVdKGVsZW1lbnQsIG5hbWUpOwogICAgICBp
ZiAodC5uYW1lc1tuYW1lXSkgbmFtZSA9IHQubmFtZXNbbmFtZV07CiAgICAgIGlm
IChuYW1lLmluY2x1ZGUoJzonKSkgewogICAgICAgIHJldHVybiAoIWVsZW1lbnQu
YXR0cmlidXRlcyB8fCAhZWxlbWVudC5hdHRyaWJ1dGVzW25hbWVdKSA/IG51bGwg
OgogICAgICAgICBlbGVtZW50LmF0dHJpYnV0ZXNbbmFtZV0udmFsdWU7CiAgICAg
IH0KICAgIH0KICAgIHJldHVybiBlbGVtZW50LmdldEF0dHJpYnV0ZShuYW1lKTsK
ICB9LAoKICB3cml0ZUF0dHJpYnV0ZTogZnVuY3Rpb24oZWxlbWVudCwgbmFtZSwg
dmFsdWUpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgdmFyIGF0dHJp
YnV0ZXMgPSB7IH0sIHQgPSBFbGVtZW50Ll9hdHRyaWJ1dGVUcmFuc2xhdGlvbnMu
d3JpdGU7CgogICAgaWYgKHR5cGVvZiBuYW1lID09ICdvYmplY3QnKSBhdHRyaWJ1
dGVzID0gbmFtZTsKICAgIGVsc2UgYXR0cmlidXRlc1tuYW1lXSA9IE9iamVjdC5p
c1VuZGVmaW5lZCh2YWx1ZSkgPyB0cnVlIDogdmFsdWU7CgogICAgZm9yICh2YXIg
YXR0ciBpbiBhdHRyaWJ1dGVzKSB7CiAgICAgIG5hbWUgPSB0Lm5hbWVzW2F0dHJd
IHx8IGF0dHI7CiAgICAgIHZhbHVlID0gYXR0cmlidXRlc1thdHRyXTsKICAgICAg
aWYgKHQudmFsdWVzW2F0dHJdKSBuYW1lID0gdC52YWx1ZXNbYXR0cl0oZWxlbWVu
dCwgdmFsdWUpOwogICAgICBpZiAodmFsdWUgPT09IGZhbHNlIHx8IHZhbHVlID09
PSBudWxsKQogICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKG5hbWUpOwog
ICAgICBlbHNlIGlmICh2YWx1ZSA9PT0gdHJ1ZSkKICAgICAgICBlbGVtZW50LnNl
dEF0dHJpYnV0ZShuYW1lLCBuYW1lKTsKICAgICAgZWxzZSBlbGVtZW50LnNldEF0
dHJpYnV0ZShuYW1lLCB2YWx1ZSk7CiAgICB9CiAgICByZXR1cm4gZWxlbWVudDsK
ICB9LAoKICBnZXRIZWlnaHQ6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgIHJldHVy
biAkKGVsZW1lbnQpLmdldERpbWVuc2lvbnMoKS5oZWlnaHQ7CiAgfSwKCiAgZ2V0
V2lkdGg6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgIHJldHVybiAkKGVsZW1lbnQp
LmdldERpbWVuc2lvbnMoKS53aWR0aDsKICB9LAoKICBjbGFzc05hbWVzOiBmdW5j
dGlvbihlbGVtZW50KSB7CiAgICByZXR1cm4gbmV3IEVsZW1lbnQuQ2xhc3NOYW1l
cyhlbGVtZW50KTsKICB9LAoKICBoYXNDbGFzc05hbWU6IGZ1bmN0aW9uKGVsZW1l
bnQsIGNsYXNzTmFtZSkgewogICAgaWYgKCEoZWxlbWVudCA9ICQoZWxlbWVudCkp
KSByZXR1cm47CiAgICB2YXIgZWxlbWVudENsYXNzTmFtZSA9IGVsZW1lbnQuY2xh
c3NOYW1lOwogICAgcmV0dXJuIChlbGVtZW50Q2xhc3NOYW1lLmxlbmd0aCA+IDAg
JiYgKGVsZW1lbnRDbGFzc05hbWUgPT0gY2xhc3NOYW1lIHx8CiAgICAgIG5ldyBS
ZWdFeHAoIihefFxccykiICsgY2xhc3NOYW1lICsgIihcXHN8JCkiKS50ZXN0KGVs
ZW1lbnRDbGFzc05hbWUpKSk7CiAgfSwKCiAgYWRkQ2xhc3NOYW1lOiBmdW5jdGlv
bihlbGVtZW50LCBjbGFzc05hbWUpIHsKICAgIGlmICghKGVsZW1lbnQgPSAkKGVs
ZW1lbnQpKSkgcmV0dXJuOwogICAgaWYgKCFlbGVtZW50Lmhhc0NsYXNzTmFtZShj
bGFzc05hbWUpKQogICAgICBlbGVtZW50LmNsYXNzTmFtZSArPSAoZWxlbWVudC5j
bGFzc05hbWUgPyAnICcgOiAnJykgKyBjbGFzc05hbWU7CiAgICByZXR1cm4gZWxl
bWVudDsKICB9LAoKICByZW1vdmVDbGFzc05hbWU6IGZ1bmN0aW9uKGVsZW1lbnQs
IGNsYXNzTmFtZSkgewogICAgaWYgKCEoZWxlbWVudCA9ICQoZWxlbWVudCkpKSBy
ZXR1cm47CiAgICBlbGVtZW50LmNsYXNzTmFtZSA9IGVsZW1lbnQuY2xhc3NOYW1l
LnJlcGxhY2UoCiAgICAgIG5ldyBSZWdFeHAoIihefFxccyspIiArIGNsYXNzTmFt
ZSArICIoXFxzK3wkKSIpLCAnICcpLnN0cmlwKCk7CiAgICByZXR1cm4gZWxlbWVu
dDsKICB9LAoKICB0b2dnbGVDbGFzc05hbWU6IGZ1bmN0aW9uKGVsZW1lbnQsIGNs
YXNzTmFtZSkgewogICAgaWYgKCEoZWxlbWVudCA9ICQoZWxlbWVudCkpKSByZXR1
cm47CiAgICByZXR1cm4gZWxlbWVudFtlbGVtZW50Lmhhc0NsYXNzTmFtZShjbGFz
c05hbWUpID8KICAgICAgJ3JlbW92ZUNsYXNzTmFtZScgOiAnYWRkQ2xhc3NOYW1l
J10oY2xhc3NOYW1lKTsKICB9LAoKICAvLyByZW1vdmVzIHdoaXRlc3BhY2Utb25s
eSB0ZXh0IG5vZGUgY2hpbGRyZW4KICBjbGVhbldoaXRlc3BhY2U6IGZ1bmN0aW9u
KGVsZW1lbnQpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgdmFyIG5v
ZGUgPSBlbGVtZW50LmZpcnN0Q2hpbGQ7CiAgICB3aGlsZSAobm9kZSkgewogICAg
ICB2YXIgbmV4dE5vZGUgPSBub2RlLm5leHRTaWJsaW5nOwogICAgICBpZiAobm9k
ZS5ub2RlVHlwZSA9PSAzICYmICEvXFMvLnRlc3Qobm9kZS5ub2RlVmFsdWUpKQog
ICAgICAgIGVsZW1lbnQucmVtb3ZlQ2hpbGQobm9kZSk7CiAgICAgIG5vZGUgPSBu
ZXh0Tm9kZTsKICAgIH0KICAgIHJldHVybiBlbGVtZW50OwogIH0sCgogIGVtcHR5
OiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICByZXR1cm4gJChlbGVtZW50KS5pbm5l
ckhUTUwuYmxhbmsoKTsKICB9LAoKICBkZXNjZW5kYW50T2Y6IGZ1bmN0aW9uKGVs
ZW1lbnQsIGFuY2VzdG9yKSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KSwgYW5j
ZXN0b3IgPSAkKGFuY2VzdG9yKTsKCiAgICBpZiAoZWxlbWVudC5jb21wYXJlRG9j
dW1lbnRQb3NpdGlvbikKICAgICAgcmV0dXJuIChlbGVtZW50LmNvbXBhcmVEb2N1
bWVudFBvc2l0aW9uKGFuY2VzdG9yKSAmIDgpID09PSA4OwoKICAgIGlmIChhbmNl
c3Rvci5jb250YWlucykKICAgICAgcmV0dXJuIGFuY2VzdG9yLmNvbnRhaW5zKGVs
ZW1lbnQpICYmIGFuY2VzdG9yICE9PSBlbGVtZW50OwoKICAgIHdoaWxlIChlbGVt
ZW50ID0gZWxlbWVudC5wYXJlbnROb2RlKQogICAgICBpZiAoZWxlbWVudCA9PSBh
bmNlc3RvcikgcmV0dXJuIHRydWU7CgogICAgcmV0dXJuIGZhbHNlOwogIH0sCgog
IHNjcm9sbFRvOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICBlbGVtZW50ID0gJChl
bGVtZW50KTsKICAgIHZhciBwb3MgPSBlbGVtZW50LmN1bXVsYXRpdmVPZmZzZXQo
KTsKICAgIHdpbmRvdy5zY3JvbGxUbyhwb3NbMF0sIHBvc1sxXSk7CiAgICByZXR1
cm4gZWxlbWVudDsKICB9LAoKICBnZXRTdHlsZTogZnVuY3Rpb24oZWxlbWVudCwg
c3R5bGUpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgc3R5bGUgPSBz
dHlsZSA9PSAnZmxvYXQnID8gJ2Nzc0Zsb2F0JyA6IHN0eWxlLmNhbWVsaXplKCk7
CiAgICB2YXIgdmFsdWUgPSBlbGVtZW50LnN0eWxlW3N0eWxlXTsKICAgIGlmICgh
dmFsdWUgfHwgdmFsdWUgPT0gJ2F1dG8nKSB7CiAgICAgIHZhciBjc3MgPSBkb2N1
bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQsIG51bGwp
OwogICAgICB2YWx1ZSA9IGNzcyA/IGNzc1tzdHlsZV0gOiBudWxsOwogICAgfQog
ICAgaWYgKHN0eWxlID09ICdvcGFjaXR5JykgcmV0dXJuIHZhbHVlID8gcGFyc2VG
bG9hdCh2YWx1ZSkgOiAxLjA7CiAgICByZXR1cm4gdmFsdWUgPT0gJ2F1dG8nID8g
bnVsbCA6IHZhbHVlOwogIH0sCgogIGdldE9wYWNpdHk6IGZ1bmN0aW9uKGVsZW1l
bnQpIHsKICAgIHJldHVybiAkKGVsZW1lbnQpLmdldFN0eWxlKCdvcGFjaXR5Jyk7
CiAgfSwKCiAgc2V0U3R5bGU6IGZ1bmN0aW9uKGVsZW1lbnQsIHN0eWxlcykgewog
ICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CiAgICB2YXIgZWxlbWVudFN0eWxlID0g
ZWxlbWVudC5zdHlsZSwgbWF0Y2g7CiAgICBpZiAoT2JqZWN0LmlzU3RyaW5nKHN0
eWxlcykpIHsKICAgICAgZWxlbWVudC5zdHlsZS5jc3NUZXh0ICs9ICc7JyArIHN0
eWxlczsKICAgICAgcmV0dXJuIHN0eWxlcy5pbmNsdWRlKCdvcGFjaXR5JykgPwog
ICAgICAgIGVsZW1lbnQuc2V0T3BhY2l0eShzdHlsZXMubWF0Y2goL29wYWNpdHk6
XHMqKFxkP1wuP1xkKikvKVsxXSkgOiBlbGVtZW50OwogICAgfQogICAgZm9yICh2
YXIgcHJvcGVydHkgaW4gc3R5bGVzKQogICAgICBpZiAocHJvcGVydHkgPT0gJ29w
YWNpdHknKSBlbGVtZW50LnNldE9wYWNpdHkoc3R5bGVzW3Byb3BlcnR5XSk7CiAg
ICAgIGVsc2UKICAgICAgICBlbGVtZW50U3R5bGVbKHByb3BlcnR5ID09ICdmbG9h
dCcgfHwgcHJvcGVydHkgPT0gJ2Nzc0Zsb2F0JykgPwogICAgICAgICAgKE9iamVj
dC5pc1VuZGVmaW5lZChlbGVtZW50U3R5bGUuc3R5bGVGbG9hdCkgPyAnY3NzRmxv
YXQnIDogJ3N0eWxlRmxvYXQnKSA6CiAgICAgICAgICAgIHByb3BlcnR5XSA9IHN0
eWxlc1twcm9wZXJ0eV07CgogICAgcmV0dXJuIGVsZW1lbnQ7CiAgfSwKCiAgc2V0
T3BhY2l0eTogZnVuY3Rpb24oZWxlbWVudCwgdmFsdWUpIHsKICAgIGVsZW1lbnQg
PSAkKGVsZW1lbnQpOwogICAgZWxlbWVudC5zdHlsZS5vcGFjaXR5ID0gKHZhbHVl
ID09IDEgfHwgdmFsdWUgPT09ICcnKSA/ICcnIDoKICAgICAgKHZhbHVlIDwgMC4w
MDAwMSkgPyAwIDogdmFsdWU7CiAgICByZXR1cm4gZWxlbWVudDsKICB9LAoKICBn
ZXREaW1lbnNpb25zOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICBlbGVtZW50ID0g
JChlbGVtZW50KTsKICAgIHZhciBkaXNwbGF5ID0gZWxlbWVudC5nZXRTdHlsZSgn
ZGlzcGxheScpOwogICAgaWYgKGRpc3BsYXkgIT0gJ25vbmUnICYmIGRpc3BsYXkg
IT0gbnVsbCkgLy8gU2FmYXJpIGJ1ZwogICAgICByZXR1cm4ge3dpZHRoOiBlbGVt
ZW50Lm9mZnNldFdpZHRoLCBoZWlnaHQ6IGVsZW1lbnQub2Zmc2V0SGVpZ2h0fTsK
CiAgICAvLyBBbGwgKldpZHRoIGFuZCAqSGVpZ2h0IHByb3BlcnRpZXMgZ2l2ZSAw
IG9uIGVsZW1lbnRzIHdpdGggZGlzcGxheSBub25lLAogICAgLy8gc28gZW5hYmxl
IHRoZSBlbGVtZW50IHRlbXBvcmFyaWx5CiAgICB2YXIgZWxzID0gZWxlbWVudC5z
dHlsZTsKICAgIHZhciBvcmlnaW5hbFZpc2liaWxpdHkgPSBlbHMudmlzaWJpbGl0
eTsKICAgIHZhciBvcmlnaW5hbFBvc2l0aW9uID0gZWxzLnBvc2l0aW9uOwogICAg
dmFyIG9yaWdpbmFsRGlzcGxheSA9IGVscy5kaXNwbGF5OwogICAgZWxzLnZpc2li
aWxpdHkgPSAnaGlkZGVuJzsKICAgIGVscy5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7
CiAgICBlbHMuZGlzcGxheSA9ICdibG9jayc7CiAgICB2YXIgb3JpZ2luYWxXaWR0
aCA9IGVsZW1lbnQuY2xpZW50V2lkdGg7CiAgICB2YXIgb3JpZ2luYWxIZWlnaHQg
PSBlbGVtZW50LmNsaWVudEhlaWdodDsKICAgIGVscy5kaXNwbGF5ID0gb3JpZ2lu
YWxEaXNwbGF5OwogICAgZWxzLnBvc2l0aW9uID0gb3JpZ2luYWxQb3NpdGlvbjsK
ICAgIGVscy52aXNpYmlsaXR5ID0gb3JpZ2luYWxWaXNpYmlsaXR5OwogICAgcmV0
dXJuIHt3aWR0aDogb3JpZ2luYWxXaWR0aCwgaGVpZ2h0OiBvcmlnaW5hbEhlaWdo
dH07CiAgfSwKCiAgbWFrZVBvc2l0aW9uZWQ6IGZ1bmN0aW9uKGVsZW1lbnQpIHsK
ICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgdmFyIHBvcyA9IEVsZW1lbnQu
Z2V0U3R5bGUoZWxlbWVudCwgJ3Bvc2l0aW9uJyk7CiAgICBpZiAocG9zID09ICdz
dGF0aWMnIHx8ICFwb3MpIHsKICAgICAgZWxlbWVudC5fbWFkZVBvc2l0aW9uZWQg
PSB0cnVlOwogICAgICBlbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZl
JzsKICAgICAgLy8gT3BlcmEgcmV0dXJucyB0aGUgb2Zmc2V0IHJlbGF0aXZlIHRv
IHRoZSBwb3NpdGlvbmluZyBjb250ZXh0LCB3aGVuIGFuCiAgICAgIC8vIGVsZW1l
bnQgaXMgcG9zaXRpb24gcmVsYXRpdmUgYnV0IHRvcCBhbmQgbGVmdCBoYXZlIG5v
dCBiZWVuIGRlZmluZWQKICAgICAgaWYgKFByb3RvdHlwZS5Ccm93c2VyLk9wZXJh
KSB7CiAgICAgICAgZWxlbWVudC5zdHlsZS50b3AgPSAwOwogICAgICAgIGVsZW1l
bnQuc3R5bGUubGVmdCA9IDA7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBlbGVt
ZW50OwogIH0sCgogIHVuZG9Qb3NpdGlvbmVkOiBmdW5jdGlvbihlbGVtZW50KSB7
CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgIGlmIChlbGVtZW50Ll9tYWRl
UG9zaXRpb25lZCkgewogICAgICBlbGVtZW50Ll9tYWRlUG9zaXRpb25lZCA9IHVu
ZGVmaW5lZDsKICAgICAgZWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9CiAgICAgICAg
ZWxlbWVudC5zdHlsZS50b3AgPQogICAgICAgIGVsZW1lbnQuc3R5bGUubGVmdCA9
CiAgICAgICAgZWxlbWVudC5zdHlsZS5ib3R0b20gPQogICAgICAgIGVsZW1lbnQu
c3R5bGUucmlnaHQgPSAnJzsKICAgIH0KICAgIHJldHVybiBlbGVtZW50OwogIH0s
CgogIG1ha2VDbGlwcGluZzogZnVuY3Rpb24oZWxlbWVudCkgewogICAgZWxlbWVu
dCA9ICQoZWxlbWVudCk7CiAgICBpZiAoZWxlbWVudC5fb3ZlcmZsb3cpIHJldHVy
biBlbGVtZW50OwogICAgZWxlbWVudC5fb3ZlcmZsb3cgPSBFbGVtZW50LmdldFN0
eWxlKGVsZW1lbnQsICdvdmVyZmxvdycpIHx8ICdhdXRvJzsKICAgIGlmIChlbGVt
ZW50Ll9vdmVyZmxvdyAhPT0gJ2hpZGRlbicpCiAgICAgIGVsZW1lbnQuc3R5bGUu
b3ZlcmZsb3cgPSAnaGlkZGVuJzsKICAgIHJldHVybiBlbGVtZW50OwogIH0sCgog
IHVuZG9DbGlwcGluZzogZnVuY3Rpb24oZWxlbWVudCkgewogICAgZWxlbWVudCA9
ICQoZWxlbWVudCk7CiAgICBpZiAoIWVsZW1lbnQuX292ZXJmbG93KSByZXR1cm4g
ZWxlbWVudDsKICAgIGVsZW1lbnQuc3R5bGUub3ZlcmZsb3cgPSBlbGVtZW50Ll9v
dmVyZmxvdyA9PSAnYXV0bycgPyAnJyA6IGVsZW1lbnQuX292ZXJmbG93OwogICAg
ZWxlbWVudC5fb3ZlcmZsb3cgPSBudWxsOwogICAgcmV0dXJuIGVsZW1lbnQ7CiAg
fSwKCiAgY3VtdWxhdGl2ZU9mZnNldDogZnVuY3Rpb24oZWxlbWVudCkgewogICAg
dmFyIHZhbHVlVCA9IDAsIHZhbHVlTCA9IDA7CiAgICBkbyB7CiAgICAgIHZhbHVl
VCArPSBlbGVtZW50Lm9mZnNldFRvcCAgfHwgMDsKICAgICAgdmFsdWVMICs9IGVs
ZW1lbnQub2Zmc2V0TGVmdCB8fCAwOwogICAgICBlbGVtZW50ID0gZWxlbWVudC5v
ZmZzZXRQYXJlbnQ7CiAgICB9IHdoaWxlIChlbGVtZW50KTsKICAgIHJldHVybiBF
bGVtZW50Ll9yZXR1cm5PZmZzZXQodmFsdWVMLCB2YWx1ZVQpOwogIH0sCgogIHBv
c2l0aW9uZWRPZmZzZXQ6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgIHZhciB2YWx1
ZVQgPSAwLCB2YWx1ZUwgPSAwOwogICAgZG8gewogICAgICB2YWx1ZVQgKz0gZWxl
bWVudC5vZmZzZXRUb3AgIHx8IDA7CiAgICAgIHZhbHVlTCArPSBlbGVtZW50Lm9m
ZnNldExlZnQgfHwgMDsKICAgICAgZWxlbWVudCA9IGVsZW1lbnQub2Zmc2V0UGFy
ZW50OwogICAgICBpZiAoZWxlbWVudCkgewogICAgICAgIGlmIChlbGVtZW50LnRh
Z05hbWUudG9VcHBlckNhc2UoKSA9PSAnQk9EWScpIGJyZWFrOwogICAgICAgIHZh
ciBwID0gRWxlbWVudC5nZXRTdHlsZShlbGVtZW50LCAncG9zaXRpb24nKTsKICAg
ICAgICBpZiAocCAhPT0gJ3N0YXRpYycpIGJyZWFrOwogICAgICB9CiAgICB9IHdo
aWxlIChlbGVtZW50KTsKICAgIHJldHVybiBFbGVtZW50Ll9yZXR1cm5PZmZzZXQo
dmFsdWVMLCB2YWx1ZVQpOwogIH0sCgogIGFic29sdXRpemU6IGZ1bmN0aW9uKGVs
ZW1lbnQpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgaWYgKGVsZW1l
bnQuZ2V0U3R5bGUoJ3Bvc2l0aW9uJykgPT0gJ2Fic29sdXRlJykgcmV0dXJuIGVs
ZW1lbnQ7CiAgICAvLyBQb3NpdGlvbi5wcmVwYXJlKCk7IC8vIFRvIGJlIGRvbmUg
bWFudWFsbHkgYnkgU2NyaXB0eSB3aGVuIGl0IG5lZWRzIGl0LgoKICAgIHZhciBv
ZmZzZXRzID0gZWxlbWVudC5wb3NpdGlvbmVkT2Zmc2V0KCk7CiAgICB2YXIgdG9w
ICAgICA9IG9mZnNldHNbMV07CiAgICB2YXIgbGVmdCAgICA9IG9mZnNldHNbMF07
CiAgICB2YXIgd2lkdGggICA9IGVsZW1lbnQuY2xpZW50V2lkdGg7CiAgICB2YXIg
aGVpZ2h0ICA9IGVsZW1lbnQuY2xpZW50SGVpZ2h0OwoKICAgIGVsZW1lbnQuX29y
aWdpbmFsTGVmdCAgID0gbGVmdCAtIHBhcnNlRmxvYXQoZWxlbWVudC5zdHlsZS5s
ZWZ0ICB8fCAwKTsKICAgIGVsZW1lbnQuX29yaWdpbmFsVG9wICAgID0gdG9wICAt
IHBhcnNlRmxvYXQoZWxlbWVudC5zdHlsZS50b3AgfHwgMCk7CiAgICBlbGVtZW50
Ll9vcmlnaW5hbFdpZHRoICA9IGVsZW1lbnQuc3R5bGUud2lkdGg7CiAgICBlbGVt
ZW50Ll9vcmlnaW5hbEhlaWdodCA9IGVsZW1lbnQuc3R5bGUuaGVpZ2h0OwoKICAg
IGVsZW1lbnQuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnOwogICAgZWxlbWVu
dC5zdHlsZS50b3AgICAgPSB0b3AgKyAncHgnOwogICAgZWxlbWVudC5zdHlsZS5s
ZWZ0ICAgPSBsZWZ0ICsgJ3B4JzsKICAgIGVsZW1lbnQuc3R5bGUud2lkdGggID0g
d2lkdGggKyAncHgnOwogICAgZWxlbWVudC5zdHlsZS5oZWlnaHQgPSBoZWlnaHQg
KyAncHgnOwogICAgcmV0dXJuIGVsZW1lbnQ7CiAgfSwKCiAgcmVsYXRpdml6ZTog
ZnVuY3Rpb24oZWxlbWVudCkgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CiAg
ICBpZiAoZWxlbWVudC5nZXRTdHlsZSgncG9zaXRpb24nKSA9PSAncmVsYXRpdmUn
KSByZXR1cm4gZWxlbWVudDsKICAgIC8vIFBvc2l0aW9uLnByZXBhcmUoKTsgLy8g
VG8gYmUgZG9uZSBtYW51YWxseSBieSBTY3JpcHR5IHdoZW4gaXQgbmVlZHMgaXQu
CgogICAgZWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7CiAgICB2
YXIgdG9wICA9IHBhcnNlRmxvYXQoZWxlbWVudC5zdHlsZS50b3AgIHx8IDApIC0g
KGVsZW1lbnQuX29yaWdpbmFsVG9wIHx8IDApOwogICAgdmFyIGxlZnQgPSBwYXJz
ZUZsb2F0KGVsZW1lbnQuc3R5bGUubGVmdCB8fCAwKSAtIChlbGVtZW50Ll9vcmln
aW5hbExlZnQgfHwgMCk7CgogICAgZWxlbWVudC5zdHlsZS50b3AgICAgPSB0b3Ag
KyAncHgnOwogICAgZWxlbWVudC5zdHlsZS5sZWZ0ICAgPSBsZWZ0ICsgJ3B4JzsK
ICAgIGVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gZWxlbWVudC5fb3JpZ2luYWxIZWln
aHQ7CiAgICBlbGVtZW50LnN0eWxlLndpZHRoICA9IGVsZW1lbnQuX29yaWdpbmFs
V2lkdGg7CiAgICByZXR1cm4gZWxlbWVudDsKICB9LAoKICBjdW11bGF0aXZlU2Ny
b2xsT2Zmc2V0OiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICB2YXIgdmFsdWVUID0g
MCwgdmFsdWVMID0gMDsKICAgIGRvIHsKICAgICAgdmFsdWVUICs9IGVsZW1lbnQu
c2Nyb2xsVG9wICB8fCAwOwogICAgICB2YWx1ZUwgKz0gZWxlbWVudC5zY3JvbGxM
ZWZ0IHx8IDA7CiAgICAgIGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7CiAg
ICB9IHdoaWxlIChlbGVtZW50KTsKICAgIHJldHVybiBFbGVtZW50Ll9yZXR1cm5P
ZmZzZXQodmFsdWVMLCB2YWx1ZVQpOwogIH0sCgogIGdldE9mZnNldFBhcmVudDog
ZnVuY3Rpb24oZWxlbWVudCkgewogICAgaWYgKGVsZW1lbnQub2Zmc2V0UGFyZW50
KSByZXR1cm4gJChlbGVtZW50Lm9mZnNldFBhcmVudCk7CiAgICBpZiAoZWxlbWVu
dCA9PSBkb2N1bWVudC5ib2R5KSByZXR1cm4gJChlbGVtZW50KTsKCiAgICB3aGls
ZSAoKGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudE5vZGUpICYmIGVsZW1lbnQgIT0g
ZG9jdW1lbnQuYm9keSkKICAgICAgaWYgKEVsZW1lbnQuZ2V0U3R5bGUoZWxlbWVu
dCwgJ3Bvc2l0aW9uJykgIT0gJ3N0YXRpYycpCiAgICAgICAgcmV0dXJuICQoZWxl
bWVudCk7CgogICAgcmV0dXJuICQoZG9jdW1lbnQuYm9keSk7CiAgfSwKCiAgdmll
d3BvcnRPZmZzZXQ6IGZ1bmN0aW9uKGZvckVsZW1lbnQpIHsKICAgIHZhciB2YWx1
ZVQgPSAwLCB2YWx1ZUwgPSAwOwoKICAgIHZhciBlbGVtZW50ID0gZm9yRWxlbWVu
dDsKICAgIGRvIHsKICAgICAgdmFsdWVUICs9IGVsZW1lbnQub2Zmc2V0VG9wICB8
fCAwOwogICAgICB2YWx1ZUwgKz0gZWxlbWVudC5vZmZzZXRMZWZ0IHx8IDA7Cgog
ICAgICAvLyBTYWZhcmkgZml4CiAgICAgIGlmIChlbGVtZW50Lm9mZnNldFBhcmVu
dCA9PSBkb2N1bWVudC5ib2R5ICYmCiAgICAgICAgRWxlbWVudC5nZXRTdHlsZShl
bGVtZW50LCAncG9zaXRpb24nKSA9PSAnYWJzb2x1dGUnKSBicmVhazsKCiAgICB9
IHdoaWxlIChlbGVtZW50ID0gZWxlbWVudC5vZmZzZXRQYXJlbnQpOwoKICAgIGVs
ZW1lbnQgPSBmb3JFbGVtZW50OwogICAgZG8gewogICAgICBpZiAoIVByb3RvdHlw
ZS5Ccm93c2VyLk9wZXJhIHx8IChlbGVtZW50LnRhZ05hbWUgJiYgKGVsZW1lbnQu
dGFnTmFtZS50b1VwcGVyQ2FzZSgpID09ICdCT0RZJykpKSB7CiAgICAgICAgdmFs
dWVUIC09IGVsZW1lbnQuc2Nyb2xsVG9wICB8fCAwOwogICAgICAgIHZhbHVlTCAt
PSBlbGVtZW50LnNjcm9sbExlZnQgfHwgMDsKICAgICAgfQogICAgfSB3aGlsZSAo
ZWxlbWVudCA9IGVsZW1lbnQucGFyZW50Tm9kZSk7CgogICAgcmV0dXJuIEVsZW1l
bnQuX3JldHVybk9mZnNldCh2YWx1ZUwsIHZhbHVlVCk7CiAgfSwKCiAgY2xvbmVQ
b3NpdGlvbjogZnVuY3Rpb24oZWxlbWVudCwgc291cmNlKSB7CiAgICB2YXIgb3B0
aW9ucyA9IE9iamVjdC5leHRlbmQoewogICAgICBzZXRMZWZ0OiAgICB0cnVlLAog
ICAgICBzZXRUb3A6ICAgICB0cnVlLAogICAgICBzZXRXaWR0aDogICB0cnVlLAog
ICAgICBzZXRIZWlnaHQ6ICB0cnVlLAogICAgICBvZmZzZXRUb3A6ICAwLAogICAg
ICBvZmZzZXRMZWZ0OiAwCiAgICB9LCBhcmd1bWVudHNbMl0gfHwgeyB9KTsKCiAg
ICAvLyBmaW5kIHBhZ2UgcG9zaXRpb24gb2Ygc291cmNlCiAgICBzb3VyY2UgPSAk
KHNvdXJjZSk7CiAgICB2YXIgcCA9IHNvdXJjZS52aWV3cG9ydE9mZnNldCgpOwoK
ICAgIC8vIGZpbmQgY29vcmRpbmF0ZSBzeXN0ZW0gdG8gdXNlCiAgICBlbGVtZW50
ID0gJChlbGVtZW50KTsKICAgIHZhciBkZWx0YSA9IFswLCAwXTsKICAgIHZhciBw
YXJlbnQgPSBudWxsOwogICAgLy8gZGVsdGEgWzAsMF0gd2lsbCBkbyBmaW5lIHdp
dGggcG9zaXRpb246IGZpeGVkIGVsZW1lbnRzLAogICAgLy8gcG9zaXRpb246YWJz
b2x1dGUgbmVlZHMgb2Zmc2V0UGFyZW50IGRlbHRhcwogICAgaWYgKEVsZW1lbnQu
Z2V0U3R5bGUoZWxlbWVudCwgJ3Bvc2l0aW9uJykgPT0gJ2Fic29sdXRlJykgewog
ICAgICBwYXJlbnQgPSBlbGVtZW50LmdldE9mZnNldFBhcmVudCgpOwogICAgICBk
ZWx0YSA9IHBhcmVudC52aWV3cG9ydE9mZnNldCgpOwogICAgfQoKICAgIC8vIGNv
cnJlY3QgYnkgYm9keSBvZmZzZXRzIChmaXhlcyBTYWZhcmkpCiAgICBpZiAocGFy
ZW50ID09IGRvY3VtZW50LmJvZHkpIHsKICAgICAgZGVsdGFbMF0gLT0gZG9jdW1l
bnQuYm9keS5vZmZzZXRMZWZ0OwogICAgICBkZWx0YVsxXSAtPSBkb2N1bWVudC5i
b2R5Lm9mZnNldFRvcDsKICAgIH0KCiAgICAvLyBzZXQgcG9zaXRpb24KICAgIGlm
IChvcHRpb25zLnNldExlZnQpICAgZWxlbWVudC5zdHlsZS5sZWZ0ICA9IChwWzBd
IC0gZGVsdGFbMF0gKyBvcHRpb25zLm9mZnNldExlZnQpICsgJ3B4JzsKICAgIGlm
IChvcHRpb25zLnNldFRvcCkgICAgZWxlbWVudC5zdHlsZS50b3AgICA9IChwWzFd
IC0gZGVsdGFbMV0gKyBvcHRpb25zLm9mZnNldFRvcCkgKyAncHgnOwogICAgaWYg
KG9wdGlvbnMuc2V0V2lkdGgpICBlbGVtZW50LnN0eWxlLndpZHRoID0gc291cmNl
Lm9mZnNldFdpZHRoICsgJ3B4JzsKICAgIGlmIChvcHRpb25zLnNldEhlaWdodCkg
ZWxlbWVudC5zdHlsZS5oZWlnaHQgPSBzb3VyY2Uub2Zmc2V0SGVpZ2h0ICsgJ3B4
JzsKICAgIHJldHVybiBlbGVtZW50OwogIH0KfTsKCkVsZW1lbnQuTWV0aG9kcy5p
ZGVudGlmeS5jb3VudGVyID0gMTsKCk9iamVjdC5leHRlbmQoRWxlbWVudC5NZXRo
b2RzLCB7CiAgZ2V0RWxlbWVudHNCeVNlbGVjdG9yOiBFbGVtZW50Lk1ldGhvZHMu
c2VsZWN0LAogIGNoaWxkRWxlbWVudHM6IEVsZW1lbnQuTWV0aG9kcy5pbW1lZGlh
dGVEZXNjZW5kYW50cwp9KTsKCkVsZW1lbnQuX2F0dHJpYnV0ZVRyYW5zbGF0aW9u
cyA9IHsKICB3cml0ZTogewogICAgbmFtZXM6IHsKICAgICAgY2xhc3NOYW1lOiAn
Y2xhc3MnLAogICAgICBodG1sRm9yOiAgICdmb3InCiAgICB9LAogICAgdmFsdWVz
OiB7IH0KICB9Cn07CgppZiAoUHJvdG90eXBlLkJyb3dzZXIuT3BlcmEpIHsKICBF
bGVtZW50Lk1ldGhvZHMuZ2V0U3R5bGUgPSBFbGVtZW50Lk1ldGhvZHMuZ2V0U3R5
bGUud3JhcCgKICAgIGZ1bmN0aW9uKHByb2NlZWQsIGVsZW1lbnQsIHN0eWxlKSB7
CiAgICAgIHN3aXRjaCAoc3R5bGUpIHsKICAgICAgICBjYXNlICdsZWZ0JzogY2Fz
ZSAndG9wJzogY2FzZSAncmlnaHQnOiBjYXNlICdib3R0b20nOgogICAgICAgICAg
aWYgKHByb2NlZWQoZWxlbWVudCwgJ3Bvc2l0aW9uJykgPT09ICdzdGF0aWMnKSBy
ZXR1cm4gbnVsbDsKICAgICAgICBjYXNlICdoZWlnaHQnOiBjYXNlICd3aWR0aCc6
CiAgICAgICAgICAvLyByZXR1cm5zICcwcHgnIGZvciBoaWRkZW4gZWxlbWVudHM7
IHdlIHdhbnQgaXQgdG8gcmV0dXJuIG51bGwKICAgICAgICAgIGlmICghRWxlbWVu
dC52aXNpYmxlKGVsZW1lbnQpKSByZXR1cm4gbnVsbDsKCiAgICAgICAgICAvLyBy
ZXR1cm5zIHRoZSBib3JkZXItYm94IGRpbWVuc2lvbnMgcmF0aGVyIHRoYW4gdGhl
IGNvbnRlbnQtYm94CiAgICAgICAgICAvLyBkaW1lbnNpb25zLCBzbyB3ZSBzdWJ0
cmFjdCBwYWRkaW5nIGFuZCBib3JkZXJzIGZyb20gdGhlIHZhbHVlCiAgICAgICAg
ICB2YXIgZGltID0gcGFyc2VJbnQocHJvY2VlZChlbGVtZW50LCBzdHlsZSksIDEw
KTsKCiAgICAgICAgICBpZiAoZGltICE9PSBlbGVtZW50WydvZmZzZXQnICsgc3R5
bGUuY2FwaXRhbGl6ZSgpXSkKICAgICAgICAgICAgcmV0dXJuIGRpbSArICdweCc7
CgogICAgICAgICAgdmFyIHByb3BlcnRpZXM7CiAgICAgICAgICBpZiAoc3R5bGUg
PT09ICdoZWlnaHQnKSB7CiAgICAgICAgICAgIHByb3BlcnRpZXMgPSBbJ2JvcmRl
ci10b3Atd2lkdGgnLCAncGFkZGluZy10b3AnLAogICAgICAgICAgICAgJ3BhZGRp
bmctYm90dG9tJywgJ2JvcmRlci1ib3R0b20td2lkdGgnXTsKICAgICAgICAgIH0K
ICAgICAgICAgIGVsc2UgewogICAgICAgICAgICBwcm9wZXJ0aWVzID0gWydib3Jk
ZXItbGVmdC13aWR0aCcsICdwYWRkaW5nLWxlZnQnLAogICAgICAgICAgICAgJ3Bh
ZGRpbmctcmlnaHQnLCAnYm9yZGVyLXJpZ2h0LXdpZHRoJ107CiAgICAgICAgICB9
CiAgICAgICAgICByZXR1cm4gcHJvcGVydGllcy5pbmplY3QoZGltLCBmdW5jdGlv
bihtZW1vLCBwcm9wZXJ0eSkgewogICAgICAgICAgICB2YXIgdmFsID0gcHJvY2Vl
ZChlbGVtZW50LCBwcm9wZXJ0eSk7CiAgICAgICAgICAgIHJldHVybiB2YWwgPT09
IG51bGwgPyBtZW1vIDogbWVtbyAtIHBhcnNlSW50KHZhbCwgMTApOwogICAgICAg
ICAgfSkgKyAncHgnOwogICAgICAgIGRlZmF1bHQ6IHJldHVybiBwcm9jZWVkKGVs
ZW1lbnQsIHN0eWxlKTsKICAgICAgfQogICAgfQogICk7CgogIEVsZW1lbnQuTWV0
aG9kcy5yZWFkQXR0cmlidXRlID0gRWxlbWVudC5NZXRob2RzLnJlYWRBdHRyaWJ1
dGUud3JhcCgKICAgIGZ1bmN0aW9uKHByb2NlZWQsIGVsZW1lbnQsIGF0dHJpYnV0
ZSkgewogICAgICBpZiAoYXR0cmlidXRlID09PSAndGl0bGUnKSByZXR1cm4gZWxl
bWVudC50aXRsZTsKICAgICAgcmV0dXJuIHByb2NlZWQoZWxlbWVudCwgYXR0cmli
dXRlKTsKICAgIH0KICApOwp9CgplbHNlIGlmIChQcm90b3R5cGUuQnJvd3Nlci5J
RSkgewogIC8vIElFIGRvZXNuJ3QgcmVwb3J0IG9mZnNldHMgY29ycmVjdGx5IGZv
ciBzdGF0aWMgZWxlbWVudHMsIHNvIHdlIGNoYW5nZSB0aGVtCiAgLy8gdG8gInJl
bGF0aXZlIiB0byBnZXQgdGhlIHZhbHVlcywgdGhlbiBjaGFuZ2UgdGhlbSBiYWNr
LgogIEVsZW1lbnQuTWV0aG9kcy5nZXRPZmZzZXRQYXJlbnQgPSBFbGVtZW50Lk1l
dGhvZHMuZ2V0T2Zmc2V0UGFyZW50LndyYXAoCiAgICBmdW5jdGlvbihwcm9jZWVk
LCBlbGVtZW50KSB7CiAgICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgICAv
LyBJRSB0aHJvd3MgYW4gZXJyb3IgaWYgZWxlbWVudCBpcyBub3QgaW4gZG9jdW1l
bnQKICAgICAgdHJ5IHsgZWxlbWVudC5vZmZzZXRQYXJlbnQgfQogICAgICBjYXRj
aChlKSB7IHJldHVybiAkKGRvY3VtZW50LmJvZHkpIH0KICAgICAgdmFyIHBvc2l0
aW9uID0gZWxlbWVudC5nZXRTdHlsZSgncG9zaXRpb24nKTsKICAgICAgaWYgKHBv
c2l0aW9uICE9PSAnc3RhdGljJykgcmV0dXJuIHByb2NlZWQoZWxlbWVudCk7CiAg
ICAgIGVsZW1lbnQuc2V0U3R5bGUoeyBwb3NpdGlvbjogJ3JlbGF0aXZlJyB9KTsK
ICAgICAgdmFyIHZhbHVlID0gcHJvY2VlZChlbGVtZW50KTsKICAgICAgZWxlbWVu
dC5zZXRTdHlsZSh7IHBvc2l0aW9uOiBwb3NpdGlvbiB9KTsKICAgICAgcmV0dXJu
IHZhbHVlOwogICAgfQogICk7CgogICR3KCdwb3NpdGlvbmVkT2Zmc2V0IHZpZXdw
b3J0T2Zmc2V0JykuZWFjaChmdW5jdGlvbihtZXRob2QpIHsKICAgIEVsZW1lbnQu
TWV0aG9kc1ttZXRob2RdID0gRWxlbWVudC5NZXRob2RzW21ldGhvZF0ud3JhcCgK
ICAgICAgZnVuY3Rpb24ocHJvY2VlZCwgZWxlbWVudCkgewogICAgICAgIGVsZW1l
bnQgPSAkKGVsZW1lbnQpOwogICAgICAgIHRyeSB7IGVsZW1lbnQub2Zmc2V0UGFy
ZW50IH0KICAgICAgICBjYXRjaChlKSB7IHJldHVybiBFbGVtZW50Ll9yZXR1cm5P
ZmZzZXQoMCwwKSB9CiAgICAgICAgdmFyIHBvc2l0aW9uID0gZWxlbWVudC5nZXRT
dHlsZSgncG9zaXRpb24nKTsKICAgICAgICBpZiAocG9zaXRpb24gIT09ICdzdGF0
aWMnKSByZXR1cm4gcHJvY2VlZChlbGVtZW50KTsKICAgICAgICAvLyBUcmlnZ2Vy
IGhhc0xheW91dCBvbiB0aGUgb2Zmc2V0IHBhcmVudCBzbyB0aGF0IElFNiByZXBv
cnRzCiAgICAgICAgLy8gYWNjdXJhdGUgb2Zmc2V0VG9wIGFuZCBvZmZzZXRMZWZ0
IHZhbHVlcyBmb3IgcG9zaXRpb246IGZpeGVkLgogICAgICAgIHZhciBvZmZzZXRQ
YXJlbnQgPSBlbGVtZW50LmdldE9mZnNldFBhcmVudCgpOwogICAgICAgIGlmIChv
ZmZzZXRQYXJlbnQgJiYgb2Zmc2V0UGFyZW50LmdldFN0eWxlKCdwb3NpdGlvbicp
ID09PSAnZml4ZWQnKQogICAgICAgICAgb2Zmc2V0UGFyZW50LnNldFN0eWxlKHsg
em9vbTogMSB9KTsKICAgICAgICBlbGVtZW50LnNldFN0eWxlKHsgcG9zaXRpb246
ICdyZWxhdGl2ZScgfSk7CiAgICAgICAgdmFyIHZhbHVlID0gcHJvY2VlZChlbGVt
ZW50KTsKICAgICAgICBlbGVtZW50LnNldFN0eWxlKHsgcG9zaXRpb246IHBvc2l0
aW9uIH0pOwogICAgICAgIHJldHVybiB2YWx1ZTsKICAgICAgfQogICAgKTsKICB9
KTsKCiAgRWxlbWVudC5NZXRob2RzLmN1bXVsYXRpdmVPZmZzZXQgPSBFbGVtZW50
Lk1ldGhvZHMuY3VtdWxhdGl2ZU9mZnNldC53cmFwKAogICAgZnVuY3Rpb24ocHJv
Y2VlZCwgZWxlbWVudCkgewogICAgICB0cnkgeyBlbGVtZW50Lm9mZnNldFBhcmVu
dCB9CiAgICAgIGNhdGNoKGUpIHsgcmV0dXJuIEVsZW1lbnQuX3JldHVybk9mZnNl
dCgwLDApIH0KICAgICAgcmV0dXJuIHByb2NlZWQoZWxlbWVudCk7CiAgICB9CiAg
KTsKCiAgRWxlbWVudC5NZXRob2RzLmdldFN0eWxlID0gZnVuY3Rpb24oZWxlbWVu
dCwgc3R5bGUpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgc3R5bGUg
PSAoc3R5bGUgPT0gJ2Zsb2F0JyB8fCBzdHlsZSA9PSAnY3NzRmxvYXQnKSA/ICdz
dHlsZUZsb2F0JyA6IHN0eWxlLmNhbWVsaXplKCk7CiAgICB2YXIgdmFsdWUgPSBl
bGVtZW50LnN0eWxlW3N0eWxlXTsKICAgIGlmICghdmFsdWUgJiYgZWxlbWVudC5j
dXJyZW50U3R5bGUpIHZhbHVlID0gZWxlbWVudC5jdXJyZW50U3R5bGVbc3R5bGVd
OwoKICAgIGlmIChzdHlsZSA9PSAnb3BhY2l0eScpIHsKICAgICAgaWYgKHZhbHVl
ID0gKGVsZW1lbnQuZ2V0U3R5bGUoJ2ZpbHRlcicpIHx8ICcnKS5tYXRjaCgvYWxw
aGFcKG9wYWNpdHk9KC4qKVwpLykpCiAgICAgICAgaWYgKHZhbHVlWzFdKSByZXR1
cm4gcGFyc2VGbG9hdCh2YWx1ZVsxXSkgLyAxMDA7CiAgICAgIHJldHVybiAxLjA7
CiAgICB9CgogICAgaWYgKHZhbHVlID09ICdhdXRvJykgewogICAgICBpZiAoKHN0
eWxlID09ICd3aWR0aCcgfHwgc3R5bGUgPT0gJ2hlaWdodCcpICYmIChlbGVtZW50
LmdldFN0eWxlKCdkaXNwbGF5JykgIT0gJ25vbmUnKSkKICAgICAgICByZXR1cm4g
ZWxlbWVudFsnb2Zmc2V0JyArIHN0eWxlLmNhcGl0YWxpemUoKV0gKyAncHgnOwog
ICAgICByZXR1cm4gbnVsbDsKICAgIH0KICAgIHJldHVybiB2YWx1ZTsKICB9OwoK
ICBFbGVtZW50Lk1ldGhvZHMuc2V0T3BhY2l0eSA9IGZ1bmN0aW9uKGVsZW1lbnQs
IHZhbHVlKSB7CiAgICBmdW5jdGlvbiBzdHJpcEFscGhhKGZpbHRlcil7CiAgICAg
IHJldHVybiBmaWx0ZXIucmVwbGFjZSgvYWxwaGFcKFteXCldKlwpL2dpLCcnKTsK
ICAgIH0KICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgdmFyIGN1cnJlbnRT
dHlsZSA9IGVsZW1lbnQuY3VycmVudFN0eWxlOwogICAgaWYgKChjdXJyZW50U3R5
bGUgJiYgIWN1cnJlbnRTdHlsZS5oYXNMYXlvdXQpIHx8CiAgICAgICghY3VycmVu
dFN0eWxlICYmIGVsZW1lbnQuc3R5bGUuem9vbSA9PSAnbm9ybWFsJykpCiAgICAg
ICAgZWxlbWVudC5zdHlsZS56b29tID0gMTsKCiAgICB2YXIgZmlsdGVyID0gZWxl
bWVudC5nZXRTdHlsZSgnZmlsdGVyJyksIHN0eWxlID0gZWxlbWVudC5zdHlsZTsK
ICAgIGlmICh2YWx1ZSA9PSAxIHx8IHZhbHVlID09PSAnJykgewogICAgICAoZmls
dGVyID0gc3RyaXBBbHBoYShmaWx0ZXIpKSA/CiAgICAgICAgc3R5bGUuZmlsdGVy
ID0gZmlsdGVyIDogc3R5bGUucmVtb3ZlQXR0cmlidXRlKCdmaWx0ZXInKTsKICAg
ICAgcmV0dXJuIGVsZW1lbnQ7CiAgICB9IGVsc2UgaWYgKHZhbHVlIDwgMC4wMDAw
MSkgdmFsdWUgPSAwOwogICAgc3R5bGUuZmlsdGVyID0gc3RyaXBBbHBoYShmaWx0
ZXIpICsKICAgICAgJ2FscGhhKG9wYWNpdHk9JyArICh2YWx1ZSAqIDEwMCkgKyAn
KSc7CiAgICByZXR1cm4gZWxlbWVudDsKICB9OwoKICBFbGVtZW50Ll9hdHRyaWJ1
dGVUcmFuc2xhdGlvbnMgPSB7CiAgICByZWFkOiB7CiAgICAgIG5hbWVzOiB7CiAg
ICAgICAgJ2NsYXNzJzogJ2NsYXNzTmFtZScsCiAgICAgICAgJ2Zvcic6ICAgJ2h0
bWxGb3InCiAgICAgIH0sCiAgICAgIHZhbHVlczogewogICAgICAgIF9nZXRBdHRy
OiBmdW5jdGlvbihlbGVtZW50LCBhdHRyaWJ1dGUpIHsKICAgICAgICAgIHJldHVy
biBlbGVtZW50LmdldEF0dHJpYnV0ZShhdHRyaWJ1dGUsIDIpOwogICAgICAgIH0s
CiAgICAgICAgX2dldEF0dHJOb2RlOiBmdW5jdGlvbihlbGVtZW50LCBhdHRyaWJ1
dGUpIHsKICAgICAgICAgIHZhciBub2RlID0gZWxlbWVudC5nZXRBdHRyaWJ1dGVO
b2RlKGF0dHJpYnV0ZSk7CiAgICAgICAgICByZXR1cm4gbm9kZSA/IG5vZGUudmFs
dWUgOiAiIjsKICAgICAgICB9LAogICAgICAgIF9nZXRFdjogZnVuY3Rpb24oZWxl
bWVudCwgYXR0cmlidXRlKSB7CiAgICAgICAgICBhdHRyaWJ1dGUgPSBlbGVtZW50
LmdldEF0dHJpYnV0ZShhdHRyaWJ1dGUpOwogICAgICAgICAgcmV0dXJuIGF0dHJp
YnV0ZSA/IGF0dHJpYnV0ZS50b1N0cmluZygpLnNsaWNlKDIzLCAtMikgOiBudWxs
OwogICAgICAgIH0sCiAgICAgICAgX2ZsYWc6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0
dHJpYnV0ZSkgewogICAgICAgICAgcmV0dXJuICQoZWxlbWVudCkuaGFzQXR0cmli
dXRlKGF0dHJpYnV0ZSkgPyBhdHRyaWJ1dGUgOiBudWxsOwogICAgICAgIH0sCiAg
ICAgICAgc3R5bGU6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgICAgICAgIHJldHVy
biBlbGVtZW50LnN0eWxlLmNzc1RleHQudG9Mb3dlckNhc2UoKTsKICAgICAgICB9
LAogICAgICAgIHRpdGxlOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICAgICAgICBy
ZXR1cm4gZWxlbWVudC50aXRsZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9
OwoKICBFbGVtZW50Ll9hdHRyaWJ1dGVUcmFuc2xhdGlvbnMud3JpdGUgPSB7CiAg
ICBuYW1lczogT2JqZWN0LmV4dGVuZCh7CiAgICAgIGNlbGxwYWRkaW5nOiAnY2Vs
bFBhZGRpbmcnLAogICAgICBjZWxsc3BhY2luZzogJ2NlbGxTcGFjaW5nJwogICAg
fSwgRWxlbWVudC5fYXR0cmlidXRlVHJhbnNsYXRpb25zLnJlYWQubmFtZXMpLAog
ICAgdmFsdWVzOiB7CiAgICAgIGNoZWNrZWQ6IGZ1bmN0aW9uKGVsZW1lbnQsIHZh
bHVlKSB7CiAgICAgICAgZWxlbWVudC5jaGVja2VkID0gISF2YWx1ZTsKICAgICAg
fSwKCiAgICAgIHN0eWxlOiBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZSkgewogICAg
ICAgIGVsZW1lbnQuc3R5bGUuY3NzVGV4dCA9IHZhbHVlID8gdmFsdWUgOiAnJzsK
ICAgICAgfQogICAgfQogIH07CgogIEVsZW1lbnQuX2F0dHJpYnV0ZVRyYW5zbGF0
aW9ucy5oYXMgPSB7fTsKCiAgJHcoJ2NvbFNwYW4gcm93U3BhbiB2QWxpZ24gZGF0
ZVRpbWUgYWNjZXNzS2V5IHRhYkluZGV4ICcgKwogICAgICAnZW5jVHlwZSBtYXhM
ZW5ndGggcmVhZE9ubHkgbG9uZ0Rlc2MgZnJhbWVCb3JkZXInKS5lYWNoKGZ1bmN0
aW9uKGF0dHIpIHsKICAgIEVsZW1lbnQuX2F0dHJpYnV0ZVRyYW5zbGF0aW9ucy53
cml0ZS5uYW1lc1thdHRyLnRvTG93ZXJDYXNlKCldID0gYXR0cjsKICAgIEVsZW1l
bnQuX2F0dHJpYnV0ZVRyYW5zbGF0aW9ucy5oYXNbYXR0ci50b0xvd2VyQ2FzZSgp
XSA9IGF0dHI7CiAgfSk7CgogIChmdW5jdGlvbih2KSB7CiAgICBPYmplY3QuZXh0
ZW5kKHYsIHsKICAgICAgaHJlZjogICAgICAgIHYuX2dldEF0dHIsCiAgICAgIHNy
YzogICAgICAgICB2Ll9nZXRBdHRyLAogICAgICB0eXBlOiAgICAgICAgdi5fZ2V0
QXR0ciwKICAgICAgYWN0aW9uOiAgICAgIHYuX2dldEF0dHJOb2RlLAogICAgICBk
aXNhYmxlZDogICAgdi5fZmxhZywKICAgICAgY2hlY2tlZDogICAgIHYuX2ZsYWcs
CiAgICAgIHJlYWRvbmx5OiAgICB2Ll9mbGFnLAogICAgICBtdWx0aXBsZTogICAg
di5fZmxhZywKICAgICAgb25sb2FkOiAgICAgIHYuX2dldEV2LAogICAgICBvbnVu
bG9hZDogICAgdi5fZ2V0RXYsCiAgICAgIG9uY2xpY2s6ICAgICB2Ll9nZXRFdiwK
ICAgICAgb25kYmxjbGljazogIHYuX2dldEV2LAogICAgICBvbm1vdXNlZG93bjog
di5fZ2V0RXYsCiAgICAgIG9ubW91c2V1cDogICB2Ll9nZXRFdiwKICAgICAgb25t
b3VzZW92ZXI6IHYuX2dldEV2LAogICAgICBvbm1vdXNlbW92ZTogdi5fZ2V0RXYs
CiAgICAgIG9ubW91c2VvdXQ6ICB2Ll9nZXRFdiwKICAgICAgb25mb2N1czogICAg
IHYuX2dldEV2LAogICAgICBvbmJsdXI6ICAgICAgdi5fZ2V0RXYsCiAgICAgIG9u
a2V5cHJlc3M6ICB2Ll9nZXRFdiwKICAgICAgb25rZXlkb3duOiAgIHYuX2dldEV2
LAogICAgICBvbmtleXVwOiAgICAgdi5fZ2V0RXYsCiAgICAgIG9uc3VibWl0OiAg
ICB2Ll9nZXRFdiwKICAgICAgb25yZXNldDogICAgIHYuX2dldEV2LAogICAgICBv
bnNlbGVjdDogICAgdi5fZ2V0RXYsCiAgICAgIG9uY2hhbmdlOiAgICB2Ll9nZXRF
dgogICAgfSk7CiAgfSkoRWxlbWVudC5fYXR0cmlidXRlVHJhbnNsYXRpb25zLnJl
YWQudmFsdWVzKTsKfQoKZWxzZSBpZiAoUHJvdG90eXBlLkJyb3dzZXIuR2Vja28g
JiYgL3J2OjFcLjhcLjAvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpIHsKICBF
bGVtZW50Lk1ldGhvZHMuc2V0T3BhY2l0eSA9IGZ1bmN0aW9uKGVsZW1lbnQsIHZh
bHVlKSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgIGVsZW1lbnQuc3R5
bGUub3BhY2l0eSA9ICh2YWx1ZSA9PSAxKSA/IDAuOTk5OTk5IDoKICAgICAgKHZh
bHVlID09PSAnJykgPyAnJyA6ICh2YWx1ZSA8IDAuMDAwMDEpID8gMCA6IHZhbHVl
OwogICAgcmV0dXJuIGVsZW1lbnQ7CiAgfTsKfQoKZWxzZSBpZiAoUHJvdG90eXBl
LkJyb3dzZXIuV2ViS2l0KSB7CiAgRWxlbWVudC5NZXRob2RzLnNldE9wYWNpdHkg
PSBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZSkgewogICAgZWxlbWVudCA9ICQoZWxl
bWVudCk7CiAgICBlbGVtZW50LnN0eWxlLm9wYWNpdHkgPSAodmFsdWUgPT0gMSB8
fCB2YWx1ZSA9PT0gJycpID8gJycgOgogICAgICAodmFsdWUgPCAwLjAwMDAxKSA/
IDAgOiB2YWx1ZTsKCiAgICBpZiAodmFsdWUgPT0gMSkKICAgICAgaWYoZWxlbWVu
dC50YWdOYW1lLnRvVXBwZXJDYXNlKCkgPT0gJ0lNRycgJiYgZWxlbWVudC53aWR0
aCkgewogICAgICAgIGVsZW1lbnQud2lkdGgrKzsgZWxlbWVudC53aWR0aC0tOwog
ICAgICB9IGVsc2UgdHJ5IHsKICAgICAgICB2YXIgbiA9IGRvY3VtZW50LmNyZWF0
ZVRleHROb2RlKCcgJyk7CiAgICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZChuKTsK
ICAgICAgICBlbGVtZW50LnJlbW92ZUNoaWxkKG4pOwogICAgICB9IGNhdGNoIChl
KSB7IH0KCiAgICByZXR1cm4gZWxlbWVudDsKICB9OwoKICAvLyBTYWZhcmkgcmV0
dXJucyBtYXJnaW5zIG9uIGJvZHkgd2hpY2ggaXMgaW5jb3JyZWN0IGlmIHRoZSBj
aGlsZCBpcyBhYnNvbHV0ZWx5CiAgLy8gcG9zaXRpb25lZC4gIEZvciBwZXJmb3Jt
YW5jZSByZWFzb25zLCByZWRlZmluZSBFbGVtZW50I2N1bXVsYXRpdmVPZmZzZXQg
Zm9yCiAgLy8gS0hUTUwvV2ViS2l0IG9ubHkuCiAgRWxlbWVudC5NZXRob2RzLmN1
bXVsYXRpdmVPZmZzZXQgPSBmdW5jdGlvbihlbGVtZW50KSB7CiAgICB2YXIgdmFs
dWVUID0gMCwgdmFsdWVMID0gMDsKICAgIGRvIHsKICAgICAgdmFsdWVUICs9IGVs
ZW1lbnQub2Zmc2V0VG9wICB8fCAwOwogICAgICB2YWx1ZUwgKz0gZWxlbWVudC5v
ZmZzZXRMZWZ0IHx8IDA7CiAgICAgIGlmIChlbGVtZW50Lm9mZnNldFBhcmVudCA9
PSBkb2N1bWVudC5ib2R5KQogICAgICAgIGlmIChFbGVtZW50LmdldFN0eWxlKGVs
ZW1lbnQsICdwb3NpdGlvbicpID09ICdhYnNvbHV0ZScpIGJyZWFrOwoKICAgICAg
ZWxlbWVudCA9IGVsZW1lbnQub2Zmc2V0UGFyZW50OwogICAgfSB3aGlsZSAoZWxl
bWVudCk7CgogICAgcmV0dXJuIEVsZW1lbnQuX3JldHVybk9mZnNldCh2YWx1ZUws
IHZhbHVlVCk7CiAgfTsKfQoKaWYgKFByb3RvdHlwZS5Ccm93c2VyLklFIHx8IFBy
b3RvdHlwZS5Ccm93c2VyLk9wZXJhKSB7CiAgLy8gSUUgYW5kIE9wZXJhIGFyZSBt
aXNzaW5nIC5pbm5lckhUTUwgc3VwcG9ydCBmb3IgVEFCTEUtcmVsYXRlZCBhbmQg
U0VMRUNUIGVsZW1lbnRzCiAgRWxlbWVudC5NZXRob2RzLnVwZGF0ZSA9IGZ1bmN0
aW9uKGVsZW1lbnQsIGNvbnRlbnQpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQp
OwoKICAgIGlmIChjb250ZW50ICYmIGNvbnRlbnQudG9FbGVtZW50KSBjb250ZW50
ID0gY29udGVudC50b0VsZW1lbnQoKTsKICAgIGlmIChPYmplY3QuaXNFbGVtZW50
KGNvbnRlbnQpKSByZXR1cm4gZWxlbWVudC51cGRhdGUoKS5pbnNlcnQoY29udGVu
dCk7CgogICAgY29udGVudCA9IE9iamVjdC50b0hUTUwoY29udGVudCk7CiAgICB2
YXIgdGFnTmFtZSA9IGVsZW1lbnQudGFnTmFtZS50b1VwcGVyQ2FzZSgpOwoKICAg
IGlmICh0YWdOYW1lIGluIEVsZW1lbnQuX2luc2VydGlvblRyYW5zbGF0aW9ucy50
YWdzKSB7CiAgICAgICRBKGVsZW1lbnQuY2hpbGROb2RlcykuZWFjaChmdW5jdGlv
bihub2RlKSB7IGVsZW1lbnQucmVtb3ZlQ2hpbGQobm9kZSkgfSk7CiAgICAgIEVs
ZW1lbnQuX2dldENvbnRlbnRGcm9tQW5vbnltb3VzRWxlbWVudCh0YWdOYW1lLCBj
b250ZW50LnN0cmlwU2NyaXB0cygpKQogICAgICAgIC5lYWNoKGZ1bmN0aW9uKG5v
ZGUpIHsgZWxlbWVudC5hcHBlbmRDaGlsZChub2RlKSB9KTsKICAgIH0KICAgIGVs
c2UgZWxlbWVudC5pbm5lckhUTUwgPSBjb250ZW50LnN0cmlwU2NyaXB0cygpOwoK
ICAgIGNvbnRlbnQuZXZhbFNjcmlwdHMuYmluZChjb250ZW50KS5kZWZlcigpOwog
ICAgcmV0dXJuIGVsZW1lbnQ7CiAgfTsKfQoKaWYgKCdvdXRlckhUTUwnIGluIGRv
Y3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpKSB7CiAgRWxlbWVudC5NZXRob2Rz
LnJlcGxhY2UgPSBmdW5jdGlvbihlbGVtZW50LCBjb250ZW50KSB7CiAgICBlbGVt
ZW50ID0gJChlbGVtZW50KTsKCiAgICBpZiAoY29udGVudCAmJiBjb250ZW50LnRv
RWxlbWVudCkgY29udGVudCA9IGNvbnRlbnQudG9FbGVtZW50KCk7CiAgICBpZiAo
T2JqZWN0LmlzRWxlbWVudChjb250ZW50KSkgewogICAgICBlbGVtZW50LnBhcmVu
dE5vZGUucmVwbGFjZUNoaWxkKGNvbnRlbnQsIGVsZW1lbnQpOwogICAgICByZXR1
cm4gZWxlbWVudDsKICAgIH0KCiAgICBjb250ZW50ID0gT2JqZWN0LnRvSFRNTChj
b250ZW50KTsKICAgIHZhciBwYXJlbnQgPSBlbGVtZW50LnBhcmVudE5vZGUsIHRh
Z05hbWUgPSBwYXJlbnQudGFnTmFtZS50b1VwcGVyQ2FzZSgpOwoKICAgIGlmIChF
bGVtZW50Ll9pbnNlcnRpb25UcmFuc2xhdGlvbnMudGFnc1t0YWdOYW1lXSkgewog
ICAgICB2YXIgbmV4dFNpYmxpbmcgPSBlbGVtZW50Lm5leHQoKTsKICAgICAgdmFy
IGZyYWdtZW50cyA9IEVsZW1lbnQuX2dldENvbnRlbnRGcm9tQW5vbnltb3VzRWxl
bWVudCh0YWdOYW1lLCBjb250ZW50LnN0cmlwU2NyaXB0cygpKTsKICAgICAgcGFy
ZW50LnJlbW92ZUNoaWxkKGVsZW1lbnQpOwogICAgICBpZiAobmV4dFNpYmxpbmcp
CiAgICAgICAgZnJhZ21lbnRzLmVhY2goZnVuY3Rpb24obm9kZSkgeyBwYXJlbnQu
aW5zZXJ0QmVmb3JlKG5vZGUsIG5leHRTaWJsaW5nKSB9KTsKICAgICAgZWxzZQog
ICAgICAgIGZyYWdtZW50cy5lYWNoKGZ1bmN0aW9uKG5vZGUpIHsgcGFyZW50LmFw
cGVuZENoaWxkKG5vZGUpIH0pOwogICAgfQogICAgZWxzZSBlbGVtZW50Lm91dGVy
SFRNTCA9IGNvbnRlbnQuc3RyaXBTY3JpcHRzKCk7CgogICAgY29udGVudC5ldmFs
U2NyaXB0cy5iaW5kKGNvbnRlbnQpLmRlZmVyKCk7CiAgICByZXR1cm4gZWxlbWVu
dDsKICB9Owp9CgpFbGVtZW50Ll9yZXR1cm5PZmZzZXQgPSBmdW5jdGlvbihsLCB0
KSB7CiAgdmFyIHJlc3VsdCA9IFtsLCB0XTsKICByZXN1bHQubGVmdCA9IGw7CiAg
cmVzdWx0LnRvcCA9IHQ7CiAgcmV0dXJuIHJlc3VsdDsKfTsKCkVsZW1lbnQuX2dl
dENvbnRlbnRGcm9tQW5vbnltb3VzRWxlbWVudCA9IGZ1bmN0aW9uKHRhZ05hbWUs
IGh0bWwpIHsKICB2YXIgZGl2ID0gbmV3IEVsZW1lbnQoJ2RpdicpLCB0ID0gRWxl
bWVudC5faW5zZXJ0aW9uVHJhbnNsYXRpb25zLnRhZ3NbdGFnTmFtZV07CiAgaWYg
KHQpIHsKICAgIGRpdi5pbm5lckhUTUwgPSB0WzBdICsgaHRtbCArIHRbMV07CiAg
ICB0WzJdLnRpbWVzKGZ1bmN0aW9uKCkgeyBkaXYgPSBkaXYuZmlyc3RDaGlsZCB9
KTsKICB9IGVsc2UgZGl2LmlubmVySFRNTCA9IGh0bWw7CiAgcmV0dXJuICRBKGRp
di5jaGlsZE5vZGVzKTsKfTsKCkVsZW1lbnQuX2luc2VydGlvblRyYW5zbGF0aW9u
cyA9IHsKICBiZWZvcmU6IGZ1bmN0aW9uKGVsZW1lbnQsIG5vZGUpIHsKICAgIGVs
ZW1lbnQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobm9kZSwgZWxlbWVudCk7CiAg
fSwKICB0b3A6IGZ1bmN0aW9uKGVsZW1lbnQsIG5vZGUpIHsKICAgIGVsZW1lbnQu
aW5zZXJ0QmVmb3JlKG5vZGUsIGVsZW1lbnQuZmlyc3RDaGlsZCk7CiAgfSwKICBi
b3R0b206IGZ1bmN0aW9uKGVsZW1lbnQsIG5vZGUpIHsKICAgIGVsZW1lbnQuYXBw
ZW5kQ2hpbGQobm9kZSk7CiAgfSwKICBhZnRlcjogZnVuY3Rpb24oZWxlbWVudCwg
bm9kZSkgewogICAgZWxlbWVudC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShub2Rl
LCBlbGVtZW50Lm5leHRTaWJsaW5nKTsKICB9LAogIHRhZ3M6IHsKICAgIFRBQkxF
OiAgWyc8dGFibGU+JywgICAgICAgICAgICAgICAgJzwvdGFibGU+JywgICAgICAg
ICAgICAgICAgICAgMV0sCiAgICBUQk9EWTogIFsnPHRhYmxlPjx0Ym9keT4nLCAg
ICAgICAgICc8L3Rib2R5PjwvdGFibGU+JywgICAgICAgICAgIDJdLAogICAgVFI6
ICAgICBbJzx0YWJsZT48dGJvZHk+PHRyPicsICAgICAnPC90cj48L3Rib2R5Pjwv
dGFibGU+JywgICAgICAzXSwKICAgIFREOiAgICAgWyc8dGFibGU+PHRib2R5Pjx0
cj48dGQ+JywgJzwvdGQ+PC90cj48L3Rib2R5PjwvdGFibGU+JywgNF0sCiAgICBT
RUxFQ1Q6IFsnPHNlbGVjdD4nLCAgICAgICAgICAgICAgICc8L3NlbGVjdD4nLCAg
ICAgICAgICAgICAgICAgIDFdCiAgfQp9OwoKKGZ1bmN0aW9uKCkgewogIE9iamVj
dC5leHRlbmQodGhpcy50YWdzLCB7CiAgICBUSEVBRDogdGhpcy50YWdzLlRCT0RZ
LAogICAgVEZPT1Q6IHRoaXMudGFncy5UQk9EWSwKICAgIFRIOiAgICB0aGlzLnRh
Z3MuVEQKICB9KTsKfSkuY2FsbChFbGVtZW50Ll9pbnNlcnRpb25UcmFuc2xhdGlv
bnMpOwoKRWxlbWVudC5NZXRob2RzLlNpbXVsYXRlZCA9IHsKICBoYXNBdHRyaWJ1
dGU6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJpYnV0ZSkgewogICAgYXR0cmlidXRl
ID0gRWxlbWVudC5fYXR0cmlidXRlVHJhbnNsYXRpb25zLmhhc1thdHRyaWJ1dGVd
IHx8IGF0dHJpYnV0ZTsKICAgIHZhciBub2RlID0gJChlbGVtZW50KS5nZXRBdHRy
aWJ1dGVOb2RlKGF0dHJpYnV0ZSk7CiAgICByZXR1cm4gISEobm9kZSAmJiBub2Rl
LnNwZWNpZmllZCk7CiAgfQp9OwoKRWxlbWVudC5NZXRob2RzLkJ5VGFnID0geyB9
OwoKT2JqZWN0LmV4dGVuZChFbGVtZW50LCBFbGVtZW50Lk1ldGhvZHMpOwoKaWYg
KCFQcm90b3R5cGUuQnJvd3NlckZlYXR1cmVzLkVsZW1lbnRFeHRlbnNpb25zICYm
CiAgICBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVsnX19wcm90b19fJ10p
IHsKICB3aW5kb3cuSFRNTEVsZW1lbnQgPSB7IH07CiAgd2luZG93LkhUTUxFbGVt
ZW50LnByb3RvdHlwZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpWydf
X3Byb3RvX18nXTsKICBQcm90b3R5cGUuQnJvd3NlckZlYXR1cmVzLkVsZW1lbnRF
eHRlbnNpb25zID0gdHJ1ZTsKfQoKRWxlbWVudC5leHRlbmQgPSAoZnVuY3Rpb24o
KSB7CiAgaWYgKFByb3RvdHlwZS5Ccm93c2VyRmVhdHVyZXMuU3BlY2lmaWNFbGVt
ZW50RXh0ZW5zaW9ucykKICAgIHJldHVybiBQcm90b3R5cGUuSzsKCiAgdmFyIE1l
dGhvZHMgPSB7IH0sIEJ5VGFnID0gRWxlbWVudC5NZXRob2RzLkJ5VGFnOwoKICB2
YXIgZXh0ZW5kID0gT2JqZWN0LmV4dGVuZChmdW5jdGlvbihlbGVtZW50KSB7CiAg
ICBpZiAoIWVsZW1lbnQgfHwgZWxlbWVudC5fZXh0ZW5kZWRCeVByb3RvdHlwZSB8
fAogICAgICAgIGVsZW1lbnQubm9kZVR5cGUgIT0gMSB8fCBlbGVtZW50ID09IHdp
bmRvdykgcmV0dXJuIGVsZW1lbnQ7CgogICAgdmFyIG1ldGhvZHMgPSBPYmplY3Qu
Y2xvbmUoTWV0aG9kcyksCiAgICAgIHRhZ05hbWUgPSBlbGVtZW50LnRhZ05hbWUu
dG9VcHBlckNhc2UoKSwgcHJvcGVydHksIHZhbHVlOwoKICAgIC8vIGV4dGVuZCBt
ZXRob2RzIGZvciBzcGVjaWZpYyB0YWdzCiAgICBpZiAoQnlUYWdbdGFnTmFtZV0p
IE9iamVjdC5leHRlbmQobWV0aG9kcywgQnlUYWdbdGFnTmFtZV0pOwoKICAgIGZv
ciAocHJvcGVydHkgaW4gbWV0aG9kcykgewogICAgICB2YWx1ZSA9IG1ldGhvZHNb
cHJvcGVydHldOwogICAgICBpZiAoT2JqZWN0LmlzRnVuY3Rpb24odmFsdWUpICYm
ICEocHJvcGVydHkgaW4gZWxlbWVudCkpCiAgICAgICAgZWxlbWVudFtwcm9wZXJ0
eV0gPSB2YWx1ZS5tZXRob2RpemUoKTsKICAgIH0KCiAgICBlbGVtZW50Ll9leHRl
bmRlZEJ5UHJvdG90eXBlID0gUHJvdG90eXBlLmVtcHR5RnVuY3Rpb247CiAgICBy
ZXR1cm4gZWxlbWVudDsKCiAgfSwgewogICAgcmVmcmVzaDogZnVuY3Rpb24oKSB7
CiAgICAgIC8vIGV4dGVuZCBtZXRob2RzIGZvciBhbGwgdGFncyAoU2FmYXJpIGRv
ZXNuJ3QgbmVlZCB0aGlzKQogICAgICBpZiAoIVByb3RvdHlwZS5Ccm93c2VyRmVh
dHVyZXMuRWxlbWVudEV4dGVuc2lvbnMpIHsKICAgICAgICBPYmplY3QuZXh0ZW5k
KE1ldGhvZHMsIEVsZW1lbnQuTWV0aG9kcyk7CiAgICAgICAgT2JqZWN0LmV4dGVu
ZChNZXRob2RzLCBFbGVtZW50Lk1ldGhvZHMuU2ltdWxhdGVkKTsKICAgICAgfQog
ICAgfQogIH0pOwoKICBleHRlbmQucmVmcmVzaCgpOwogIHJldHVybiBleHRlbmQ7
Cn0pKCk7CgpFbGVtZW50Lmhhc0F0dHJpYnV0ZSA9IGZ1bmN0aW9uKGVsZW1lbnQs
IGF0dHJpYnV0ZSkgewogIGlmIChlbGVtZW50Lmhhc0F0dHJpYnV0ZSkgcmV0dXJu
IGVsZW1lbnQuaGFzQXR0cmlidXRlKGF0dHJpYnV0ZSk7CiAgcmV0dXJuIEVsZW1l
bnQuTWV0aG9kcy5TaW11bGF0ZWQuaGFzQXR0cmlidXRlKGVsZW1lbnQsIGF0dHJp
YnV0ZSk7Cn07CgpFbGVtZW50LmFkZE1ldGhvZHMgPSBmdW5jdGlvbihtZXRob2Rz
KSB7CiAgdmFyIEYgPSBQcm90b3R5cGUuQnJvd3NlckZlYXR1cmVzLCBUID0gRWxl
bWVudC5NZXRob2RzLkJ5VGFnOwoKICBpZiAoIW1ldGhvZHMpIHsKICAgIE9iamVj
dC5leHRlbmQoRm9ybSwgRm9ybS5NZXRob2RzKTsKICAgIE9iamVjdC5leHRlbmQo
Rm9ybS5FbGVtZW50LCBGb3JtLkVsZW1lbnQuTWV0aG9kcyk7CiAgICBPYmplY3Qu
ZXh0ZW5kKEVsZW1lbnQuTWV0aG9kcy5CeVRhZywgewogICAgICAiRk9STSI6ICAg
ICBPYmplY3QuY2xvbmUoRm9ybS5NZXRob2RzKSwKICAgICAgIklOUFVUIjogICAg
T2JqZWN0LmNsb25lKEZvcm0uRWxlbWVudC5NZXRob2RzKSwKICAgICAgIlNFTEVD
VCI6ICAgT2JqZWN0LmNsb25lKEZvcm0uRWxlbWVudC5NZXRob2RzKSwKICAgICAg
IlRFWFRBUkVBIjogT2JqZWN0LmNsb25lKEZvcm0uRWxlbWVudC5NZXRob2RzKQog
ICAgfSk7CiAgfQoKICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAyKSB7CiAgICB2
YXIgdGFnTmFtZSA9IG1ldGhvZHM7CiAgICBtZXRob2RzID0gYXJndW1lbnRzWzFd
OwogIH0KCiAgaWYgKCF0YWdOYW1lKSBPYmplY3QuZXh0ZW5kKEVsZW1lbnQuTWV0
aG9kcywgbWV0aG9kcyB8fCB7IH0pOwogIGVsc2UgewogICAgaWYgKE9iamVjdC5p
c0FycmF5KHRhZ05hbWUpKSB0YWdOYW1lLmVhY2goZXh0ZW5kKTsKICAgIGVsc2Ug
ZXh0ZW5kKHRhZ05hbWUpOwogIH0KCiAgZnVuY3Rpb24gZXh0ZW5kKHRhZ05hbWUp
IHsKICAgIHRhZ05hbWUgPSB0YWdOYW1lLnRvVXBwZXJDYXNlKCk7CiAgICBpZiAo
IUVsZW1lbnQuTWV0aG9kcy5CeVRhZ1t0YWdOYW1lXSkKICAgICAgRWxlbWVudC5N
ZXRob2RzLkJ5VGFnW3RhZ05hbWVdID0geyB9OwogICAgT2JqZWN0LmV4dGVuZChF
bGVtZW50Lk1ldGhvZHMuQnlUYWdbdGFnTmFtZV0sIG1ldGhvZHMpOwogIH0KCiAg
ZnVuY3Rpb24gY29weShtZXRob2RzLCBkZXN0aW5hdGlvbiwgb25seUlmQWJzZW50
KSB7CiAgICBvbmx5SWZBYnNlbnQgPSBvbmx5SWZBYnNlbnQgfHwgZmFsc2U7CiAg
ICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBtZXRob2RzKSB7CiAgICAgIHZhciB2YWx1
ZSA9IG1ldGhvZHNbcHJvcGVydHldOwogICAgICBpZiAoIU9iamVjdC5pc0Z1bmN0
aW9uKHZhbHVlKSkgY29udGludWU7CiAgICAgIGlmICghb25seUlmQWJzZW50IHx8
ICEocHJvcGVydHkgaW4gZGVzdGluYXRpb24pKQogICAgICAgIGRlc3RpbmF0aW9u
W3Byb3BlcnR5XSA9IHZhbHVlLm1ldGhvZGl6ZSgpOwogICAgfQogIH0KCiAgZnVu
Y3Rpb24gZmluZERPTUNsYXNzKHRhZ05hbWUpIHsKICAgIHZhciBrbGFzczsKICAg
IHZhciB0cmFucyA9IHsKICAgICAgIk9QVEdST1VQIjogIk9wdEdyb3VwIiwgIlRF
WFRBUkVBIjogIlRleHRBcmVhIiwgIlAiOiAiUGFyYWdyYXBoIiwKICAgICAgIkZJ
RUxEU0VUIjogIkZpZWxkU2V0IiwgIlVMIjogIlVMaXN0IiwgIk9MIjogIk9MaXN0
IiwgIkRMIjogIkRMaXN0IiwKICAgICAgIkRJUiI6ICJEaXJlY3RvcnkiLCAiSDEi
OiAiSGVhZGluZyIsICJIMiI6ICJIZWFkaW5nIiwgIkgzIjogIkhlYWRpbmciLAog
ICAgICAiSDQiOiAiSGVhZGluZyIsICJINSI6ICJIZWFkaW5nIiwgIkg2IjogIkhl
YWRpbmciLCAiUSI6ICJRdW90ZSIsCiAgICAgICJJTlMiOiAiTW9kIiwgIkRFTCI6
ICJNb2QiLCAiQSI6ICJBbmNob3IiLCAiSU1HIjogIkltYWdlIiwgIkNBUFRJT04i
OgogICAgICAiVGFibGVDYXB0aW9uIiwgIkNPTCI6ICJUYWJsZUNvbCIsICJDT0xH
Uk9VUCI6ICJUYWJsZUNvbCIsICJUSEVBRCI6CiAgICAgICJUYWJsZVNlY3Rpb24i
LCAiVEZPT1QiOiAiVGFibGVTZWN0aW9uIiwgIlRCT0RZIjogIlRhYmxlU2VjdGlv
biIsICJUUiI6CiAgICAgICJUYWJsZVJvdyIsICJUSCI6ICJUYWJsZUNlbGwiLCAi
VEQiOiAiVGFibGVDZWxsIiwgIkZSQU1FU0VUIjoKICAgICAgIkZyYW1lU2V0Iiwg
IklGUkFNRSI6ICJJRnJhbWUiCiAgICB9OwogICAgaWYgKHRyYW5zW3RhZ05hbWVd
KSBrbGFzcyA9ICdIVE1MJyArIHRyYW5zW3RhZ05hbWVdICsgJ0VsZW1lbnQnOwog
ICAgaWYgKHdpbmRvd1trbGFzc10pIHJldHVybiB3aW5kb3dba2xhc3NdOwogICAg
a2xhc3MgPSAnSFRNTCcgKyB0YWdOYW1lICsgJ0VsZW1lbnQnOwogICAgaWYgKHdp
bmRvd1trbGFzc10pIHJldHVybiB3aW5kb3dba2xhc3NdOwogICAga2xhc3MgPSAn
SFRNTCcgKyB0YWdOYW1lLmNhcGl0YWxpemUoKSArICdFbGVtZW50JzsKICAgIGlm
ICh3aW5kb3dba2xhc3NdKSByZXR1cm4gd2luZG93W2tsYXNzXTsKCiAgICB3aW5k
b3dba2xhc3NdID0geyB9OwogICAgd2luZG93W2tsYXNzXS5wcm90b3R5cGUgPSBk
b2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZ05hbWUpWydfX3Byb3RvX18nXTsKICAg
IHJldHVybiB3aW5kb3dba2xhc3NdOwogIH0KCiAgaWYgKEYuRWxlbWVudEV4dGVu
c2lvbnMpIHsKICAgIGNvcHkoRWxlbWVudC5NZXRob2RzLCBIVE1MRWxlbWVudC5w
cm90b3R5cGUpOwogICAgY29weShFbGVtZW50Lk1ldGhvZHMuU2ltdWxhdGVkLCBI
VE1MRWxlbWVudC5wcm90b3R5cGUsIHRydWUpOwogIH0KCiAgaWYgKEYuU3BlY2lm
aWNFbGVtZW50RXh0ZW5zaW9ucykgewogICAgZm9yICh2YXIgdGFnIGluIEVsZW1l
bnQuTWV0aG9kcy5CeVRhZykgewogICAgICB2YXIga2xhc3MgPSBmaW5kRE9NQ2xh
c3ModGFnKTsKICAgICAgaWYgKE9iamVjdC5pc1VuZGVmaW5lZChrbGFzcykpIGNv
bnRpbnVlOwogICAgICBjb3B5KFRbdGFnXSwga2xhc3MucHJvdG90eXBlKTsKICAg
IH0KICB9CgogIE9iamVjdC5leHRlbmQoRWxlbWVudCwgRWxlbWVudC5NZXRob2Rz
KTsKICBkZWxldGUgRWxlbWVudC5CeVRhZzsKCiAgaWYgKEVsZW1lbnQuZXh0ZW5k
LnJlZnJlc2gpIEVsZW1lbnQuZXh0ZW5kLnJlZnJlc2goKTsKICBFbGVtZW50LmNh
Y2hlID0geyB9Owp9OwoKZG9jdW1lbnQudmlld3BvcnQgPSB7CiAgZ2V0RGltZW5z
aW9uczogZnVuY3Rpb24oKSB7CiAgICB2YXIgZGltZW5zaW9ucyA9IHsgfSwgQiA9
IFByb3RvdHlwZS5Ccm93c2VyOwogICAgJHcoJ3dpZHRoIGhlaWdodCcpLmVhY2go
ZnVuY3Rpb24oZCkgewogICAgICB2YXIgRCA9IGQuY2FwaXRhbGl6ZSgpOwogICAg
ICBpZiAoQi5XZWJLaXQgJiYgIWRvY3VtZW50LmV2YWx1YXRlKSB7CiAgICAgICAg
Ly8gU2FmYXJpIDwzLjAgbmVlZHMgc2VsZi5pbm5lcldpZHRoL0hlaWdodAogICAg
ICAgIGRpbWVuc2lvbnNbZF0gPSBzZWxmWydpbm5lcicgKyBEXTsKICAgICAgfSBl
bHNlIGlmIChCLk9wZXJhICYmIHBhcnNlRmxvYXQod2luZG93Lm9wZXJhLnZlcnNp
b24oKSkgPCA5LjUpIHsKICAgICAgICAvLyBPcGVyYSA8OS41IG5lZWRzIGRvY3Vt
ZW50LmJvZHkuY2xpZW50V2lkdGgvSGVpZ2h0CiAgICAgICAgZGltZW5zaW9uc1tk
XSA9IGRvY3VtZW50LmJvZHlbJ2NsaWVudCcgKyBEXQogICAgICB9IGVsc2Ugewog
ICAgICAgIGRpbWVuc2lvbnNbZF0gPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnRb
J2NsaWVudCcgKyBEXTsKICAgICAgfQogICAgfSk7CiAgICByZXR1cm4gZGltZW5z
aW9uczsKICB9LAoKICBnZXRXaWR0aDogZnVuY3Rpb24oKSB7CiAgICByZXR1cm4g
dGhpcy5nZXREaW1lbnNpb25zKCkud2lkdGg7CiAgfSwKCiAgZ2V0SGVpZ2h0OiBm
dW5jdGlvbigpIHsKICAgIHJldHVybiB0aGlzLmdldERpbWVuc2lvbnMoKS5oZWln
aHQ7CiAgfSwKCiAgZ2V0U2Nyb2xsT2Zmc2V0czogZnVuY3Rpb24oKSB7CiAgICBy
ZXR1cm4gRWxlbWVudC5fcmV0dXJuT2Zmc2V0KAogICAgICB3aW5kb3cucGFnZVhP
ZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQgfHwg
ZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0LAogICAgICB3aW5kb3cucGFnZVlPZmZz
ZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCBkb2N1
bWVudC5ib2R5LnNjcm9sbFRvcCk7CiAgfQp9OwovKiBQb3J0aW9ucyBvZiB0aGUg
U2VsZWN0b3IgY2xhc3MgYXJlIGRlcml2ZWQgZnJvbSBKYWNrIFNsb2N1bSdzIERv
bVF1ZXJ5LAogKiBwYXJ0IG9mIFlVSS1FeHQgdmVyc2lvbiAwLjQwLCBkaXN0cmli
dXRlZCB1bmRlciB0aGUgdGVybXMgb2YgYW4gTUlULXN0eWxlCiAqIGxpY2Vuc2Uu
ICBQbGVhc2Ugc2VlIGh0dHA6Ly93d3cueXVpLWV4dC5jb20vIGZvciBtb3JlIGlu
Zm9ybWF0aW9uLiAqLwoKdmFyIFNlbGVjdG9yID0gQ2xhc3MuY3JlYXRlKHsKICBp
bml0aWFsaXplOiBmdW5jdGlvbihleHByZXNzaW9uKSB7CiAgICB0aGlzLmV4cHJl
c3Npb24gPSBleHByZXNzaW9uLnN0cmlwKCk7CgogICAgaWYgKHRoaXMuc2hvdWxk
VXNlU2VsZWN0b3JzQVBJKCkpIHsKICAgICAgdGhpcy5tb2RlID0gJ3NlbGVjdG9y
c0FQSSc7CiAgICB9IGVsc2UgaWYgKHRoaXMuc2hvdWxkVXNlWFBhdGgoKSkgewog
ICAgICB0aGlzLm1vZGUgPSAneHBhdGgnOwogICAgICB0aGlzLmNvbXBpbGVYUGF0
aE1hdGNoZXIoKTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMubW9kZSA9ICJub3Jt
YWwiOwogICAgICB0aGlzLmNvbXBpbGVNYXRjaGVyKCk7CiAgICB9CgogIH0sCgog
IHNob3VsZFVzZVhQYXRoOiBmdW5jdGlvbigpIHsKICAgIGlmICghUHJvdG90eXBl
LkJyb3dzZXJGZWF0dXJlcy5YUGF0aCkgcmV0dXJuIGZhbHNlOwoKICAgIHZhciBl
ID0gdGhpcy5leHByZXNzaW9uOwoKICAgIC8vIFNhZmFyaSAzIGNob2tlcyBvbiA6
Ki1vZi10eXBlIGFuZCA6ZW1wdHkKICAgIGlmIChQcm90b3R5cGUuQnJvd3Nlci5X
ZWJLaXQgJiYKICAgICAoZS5pbmNsdWRlKCItb2YtdHlwZSIpIHx8IGUuaW5jbHVk
ZSgiOmVtcHR5IikpKQogICAgICByZXR1cm4gZmFsc2U7CgogICAgLy8gWFBhdGgg
Y2FuJ3QgZG8gbmFtZXNwYWNlZCBhdHRyaWJ1dGVzLCBub3IgY2FuIGl0IHJlYWQK
ICAgIC8vIHRoZSAiY2hlY2tlZCIgcHJvcGVydHkgZnJvbSBET00gbm9kZXMKICAg
IGlmICgoLyhcW1tcdy1dKj86fDpjaGVja2VkKS8pLnRlc3QoZSkpCiAgICAgIHJl
dHVybiBmYWxzZTsKCiAgICByZXR1cm4gdHJ1ZTsKICB9LAoKICBzaG91bGRVc2VT
ZWxlY3RvcnNBUEk6IGZ1bmN0aW9uKCkgewogICAgaWYgKCFQcm90b3R5cGUuQnJv
d3NlckZlYXR1cmVzLlNlbGVjdG9yc0FQSSkgcmV0dXJuIGZhbHNlOwoKICAgIGlm
ICghU2VsZWN0b3IuX2RpdikgU2VsZWN0b3IuX2RpdiA9IG5ldyBFbGVtZW50KCdk
aXYnKTsKCiAgICAvLyBNYWtlIHN1cmUgdGhlIGJyb3dzZXIgdHJlYXRzIHRoZSBz
ZWxlY3RvciBhcyB2YWxpZC4gVGVzdCBvbiBhbgogICAgLy8gaXNvbGF0ZWQgZWxl
bWVudCB0byBtaW5pbWl6ZSBjb3N0IG9mIHRoaXMgY2hlY2suCiAgICB0cnkgewog
ICAgICBTZWxlY3Rvci5fZGl2LnF1ZXJ5U2VsZWN0b3IodGhpcy5leHByZXNzaW9u
KTsKICAgIH0gY2F0Y2goZSkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9Cgog
ICAgcmV0dXJuIHRydWU7CiAgfSwKCiAgY29tcGlsZU1hdGNoZXI6IGZ1bmN0aW9u
KCkgewogICAgdmFyIGUgPSB0aGlzLmV4cHJlc3Npb24sIHBzID0gU2VsZWN0b3Iu
cGF0dGVybnMsIGggPSBTZWxlY3Rvci5oYW5kbGVycywKICAgICAgICBjID0gU2Vs
ZWN0b3IuY3JpdGVyaWEsIGxlLCBwLCBtOwoKICAgIGlmIChTZWxlY3Rvci5fY2Fj
aGVbZV0pIHsKICAgICAgdGhpcy5tYXRjaGVyID0gU2VsZWN0b3IuX2NhY2hlW2Vd
OwogICAgICByZXR1cm47CiAgICB9CgogICAgdGhpcy5tYXRjaGVyID0gWyJ0aGlz
Lm1hdGNoZXIgPSBmdW5jdGlvbihyb290KSB7IiwKICAgICAgICAgICAgICAgICAg
ICAidmFyIHIgPSByb290LCBoID0gU2VsZWN0b3IuaGFuZGxlcnMsIGMgPSBmYWxz
ZSwgbjsiXTsKCiAgICB3aGlsZSAoZSAmJiBsZSAhPSBlICYmICgvXFMvKS50ZXN0
KGUpKSB7CiAgICAgIGxlID0gZTsKICAgICAgZm9yICh2YXIgaSBpbiBwcykgewog
ICAgICAgIHAgPSBwc1tpXTsKICAgICAgICBpZiAobSA9IGUubWF0Y2gocCkpIHsK
ICAgICAgICAgIHRoaXMubWF0Y2hlci5wdXNoKE9iamVjdC5pc0Z1bmN0aW9uKGNb
aV0pID8gY1tpXShtKSA6CiAgICAgICAgICAgIG5ldyBUZW1wbGF0ZShjW2ldKS5l
dmFsdWF0ZShtKSk7CiAgICAgICAgICBlID0gZS5yZXBsYWNlKG1bMF0sICcnKTsK
ICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHRo
aXMubWF0Y2hlci5wdXNoKCJyZXR1cm4gaC51bmlxdWUobik7XG59Iik7CiAgICBl
dmFsKHRoaXMubWF0Y2hlci5qb2luKCdcbicpKTsKICAgIFNlbGVjdG9yLl9jYWNo
ZVt0aGlzLmV4cHJlc3Npb25dID0gdGhpcy5tYXRjaGVyOwogIH0sCgogIGNvbXBp
bGVYUGF0aE1hdGNoZXI6IGZ1bmN0aW9uKCkgewogICAgdmFyIGUgPSB0aGlzLmV4
cHJlc3Npb24sIHBzID0gU2VsZWN0b3IucGF0dGVybnMsCiAgICAgICAgeCA9IFNl
bGVjdG9yLnhwYXRoLCBsZSwgbTsKCiAgICBpZiAoU2VsZWN0b3IuX2NhY2hlW2Vd
KSB7CiAgICAgIHRoaXMueHBhdGggPSBTZWxlY3Rvci5fY2FjaGVbZV07IHJldHVy
bjsKICAgIH0KCiAgICB0aGlzLm1hdGNoZXIgPSBbJy4vLyonXTsKICAgIHdoaWxl
IChlICYmIGxlICE9IGUgJiYgKC9cUy8pLnRlc3QoZSkpIHsKICAgICAgbGUgPSBl
OwogICAgICBmb3IgKHZhciBpIGluIHBzKSB7CiAgICAgICAgaWYgKG0gPSBlLm1h
dGNoKHBzW2ldKSkgewogICAgICAgICAgdGhpcy5tYXRjaGVyLnB1c2goT2JqZWN0
LmlzRnVuY3Rpb24oeFtpXSkgPyB4W2ldKG0pIDoKICAgICAgICAgICAgbmV3IFRl
bXBsYXRlKHhbaV0pLmV2YWx1YXRlKG0pKTsKICAgICAgICAgIGUgPSBlLnJlcGxh
Y2UobVswXSwgJycpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9
CiAgICB9CgogICAgdGhpcy54cGF0aCA9IHRoaXMubWF0Y2hlci5qb2luKCcnKTsK
ICAgIFNlbGVjdG9yLl9jYWNoZVt0aGlzLmV4cHJlc3Npb25dID0gdGhpcy54cGF0
aDsKICB9LAoKICBmaW5kRWxlbWVudHM6IGZ1bmN0aW9uKHJvb3QpIHsKICAgIHJv
b3QgPSByb290IHx8IGRvY3VtZW50OwogICAgdmFyIGUgPSB0aGlzLmV4cHJlc3Np
b24sIHJlc3VsdHM7CgogICAgc3dpdGNoICh0aGlzLm1vZGUpIHsKICAgICAgY2Fz
ZSAnc2VsZWN0b3JzQVBJJzoKICAgICAgICAvLyBxdWVyeVNlbGVjdG9yQWxsIHF1
ZXJpZXMgZG9jdW1lbnQtd2lkZSwgdGhlbiBmaWx0ZXJzIHRvIGRlc2NlbmRhbnRz
CiAgICAgICAgLy8gb2YgdGhlIGNvbnRleHQgZWxlbWVudC4gVGhhdCdzIG5vdCB3
aGF0IHdlIHdhbnQuCiAgICAgICAgLy8gQWRkIGFuIGV4cGxpY2l0IGNvbnRleHQg
dG8gdGhlIHNlbGVjdG9yIGlmIG5lY2Vzc2FyeS4KICAgICAgICBpZiAocm9vdCAh
PT0gZG9jdW1lbnQpIHsKICAgICAgICAgIHZhciBvbGRJZCA9IHJvb3QuaWQsIGlk
ID0gJChyb290KS5pZGVudGlmeSgpOwogICAgICAgICAgZSA9ICIjIiArIGlkICsg
IiAiICsgZTsKICAgICAgICB9CgogICAgICAgIHJlc3VsdHMgPSAkQShyb290LnF1
ZXJ5U2VsZWN0b3JBbGwoZSkpLm1hcChFbGVtZW50LmV4dGVuZCk7CiAgICAgICAg
cm9vdC5pZCA9IG9sZElkOwoKICAgICAgICByZXR1cm4gcmVzdWx0czsKICAgICAg
Y2FzZSAneHBhdGgnOgogICAgICAgIHJldHVybiBkb2N1bWVudC5fZ2V0RWxlbWVu
dHNCeVhQYXRoKHRoaXMueHBhdGgsIHJvb3QpOwogICAgICBkZWZhdWx0OgogICAg
ICAgcmV0dXJuIHRoaXMubWF0Y2hlcihyb290KTsKICAgIH0KICB9LAoKICBtYXRj
aDogZnVuY3Rpb24oZWxlbWVudCkgewogICAgdGhpcy50b2tlbnMgPSBbXTsKCiAg
ICB2YXIgZSA9IHRoaXMuZXhwcmVzc2lvbiwgcHMgPSBTZWxlY3Rvci5wYXR0ZXJu
cywgYXMgPSBTZWxlY3Rvci5hc3NlcnRpb25zOwogICAgdmFyIGxlLCBwLCBtOwoK
ICAgIHdoaWxlIChlICYmIGxlICE9PSBlICYmICgvXFMvKS50ZXN0KGUpKSB7CiAg
ICAgIGxlID0gZTsKICAgICAgZm9yICh2YXIgaSBpbiBwcykgewogICAgICAgIHAg
PSBwc1tpXTsKICAgICAgICBpZiAobSA9IGUubWF0Y2gocCkpIHsKICAgICAgICAg
IC8vIHVzZSB0aGUgU2VsZWN0b3IuYXNzZXJ0aW9ucyBtZXRob2RzIHVubGVzcyB0
aGUgc2VsZWN0b3IKICAgICAgICAgIC8vIGlzIHRvbyBjb21wbGV4LgogICAgICAg
ICAgaWYgKGFzW2ldKSB7CiAgICAgICAgICAgIHRoaXMudG9rZW5zLnB1c2goW2ks
IE9iamVjdC5jbG9uZShtKV0pOwogICAgICAgICAgICBlID0gZS5yZXBsYWNlKG1b
MF0sICcnKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIHJlbHVj
dGFudGx5IGRvIGEgZG9jdW1lbnQtd2lkZSBzZWFyY2gKICAgICAgICAgICAgLy8g
YW5kIGxvb2sgZm9yIGEgbWF0Y2ggaW4gdGhlIGFycmF5CiAgICAgICAgICAgIHJl
dHVybiB0aGlzLmZpbmRFbGVtZW50cyhkb2N1bWVudCkuaW5jbHVkZShlbGVtZW50
KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICB2YXIg
bWF0Y2ggPSB0cnVlLCBuYW1lLCBtYXRjaGVzOwogICAgZm9yICh2YXIgaSA9IDAs
IHRva2VuOyB0b2tlbiA9IHRoaXMudG9rZW5zW2ldOyBpKyspIHsKICAgICAgbmFt
ZSA9IHRva2VuWzBdLCBtYXRjaGVzID0gdG9rZW5bMV07CiAgICAgIGlmICghU2Vs
ZWN0b3IuYXNzZXJ0aW9uc1tuYW1lXShlbGVtZW50LCBtYXRjaGVzKSkgewogICAg
ICAgIG1hdGNoID0gZmFsc2U7IGJyZWFrOwogICAgICB9CiAgICB9CgogICAgcmV0
dXJuIG1hdGNoOwogIH0sCgogIHRvU3RyaW5nOiBmdW5jdGlvbigpIHsKICAgIHJl
dHVybiB0aGlzLmV4cHJlc3Npb247CiAgfSwKCiAgaW5zcGVjdDogZnVuY3Rpb24o
KSB7CiAgICByZXR1cm4gIiM8U2VsZWN0b3I6IiArIHRoaXMuZXhwcmVzc2lvbi5p
bnNwZWN0KCkgKyAiPiI7CiAgfQp9KTsKCk9iamVjdC5leHRlbmQoU2VsZWN0b3Is
IHsKICBfY2FjaGU6IHsgfSwKCiAgeHBhdGg6IHsKICAgIGRlc2NlbmRhbnQ6ICAg
Ii8vKiIsCiAgICBjaGlsZDogICAgICAgICIvKiIsCiAgICBhZGphY2VudDogICAg
ICIvZm9sbG93aW5nLXNpYmxpbmc6OipbMV0iLAogICAgbGF0ZXJTaWJsaW5nOiAn
L2ZvbGxvd2luZy1zaWJsaW5nOjoqJywKICAgIHRhZ05hbWU6ICAgICAgZnVuY3Rp
b24obSkgewogICAgICBpZiAobVsxXSA9PSAnKicpIHJldHVybiAnJzsKICAgICAg
cmV0dXJuICJbbG9jYWwtbmFtZSgpPSciICsgbVsxXS50b0xvd2VyQ2FzZSgpICsK
ICAgICAgICAgICAgICInIG9yIGxvY2FsLW5hbWUoKT0nIiArIG1bMV0udG9VcHBl
ckNhc2UoKSArICInXSI7CiAgICB9LAogICAgY2xhc3NOYW1lOiAgICAiW2NvbnRh
aW5zKGNvbmNhdCgnICcsIEBjbGFzcywgJyAnKSwgJyAjezF9ICcpXSIsCiAgICBp
ZDogICAgICAgICAgICJbQGlkPScjezF9J10iLAogICAgYXR0clByZXNlbmNlOiBm
dW5jdGlvbihtKSB7CiAgICAgIG1bMV0gPSBtWzFdLnRvTG93ZXJDYXNlKCk7CiAg
ICAgIHJldHVybiBuZXcgVGVtcGxhdGUoIltAI3sxfV0iKS5ldmFsdWF0ZShtKTsK
ICAgIH0sCiAgICBhdHRyOiBmdW5jdGlvbihtKSB7CiAgICAgIG1bMV0gPSBtWzFd
LnRvTG93ZXJDYXNlKCk7CiAgICAgIG1bM10gPSBtWzVdIHx8IG1bNl07CiAgICAg
IHJldHVybiBuZXcgVGVtcGxhdGUoU2VsZWN0b3IueHBhdGgub3BlcmF0b3JzW21b
Ml1dKS5ldmFsdWF0ZShtKTsKICAgIH0sCiAgICBwc2V1ZG86IGZ1bmN0aW9uKG0p
IHsKICAgICAgdmFyIGggPSBTZWxlY3Rvci54cGF0aC5wc2V1ZG9zW21bMV1dOwog
ICAgICBpZiAoIWgpIHJldHVybiAnJzsKICAgICAgaWYgKE9iamVjdC5pc0Z1bmN0
aW9uKGgpKSByZXR1cm4gaChtKTsKICAgICAgcmV0dXJuIG5ldyBUZW1wbGF0ZShT
ZWxlY3Rvci54cGF0aC5wc2V1ZG9zW21bMV1dKS5ldmFsdWF0ZShtKTsKICAgIH0s
CiAgICBvcGVyYXRvcnM6IHsKICAgICAgJz0nOiAgIltAI3sxfT0nI3szfSddIiwK
ICAgICAgJyE9JzogIltAI3sxfSE9JyN7M30nXSIsCiAgICAgICdePSc6ICJbc3Rh
cnRzLXdpdGgoQCN7MX0sICcjezN9JyldIiwKICAgICAgJyQ9JzogIltzdWJzdHJp
bmcoQCN7MX0sIChzdHJpbmctbGVuZ3RoKEAjezF9KSAtIHN0cmluZy1sZW5ndGgo
JyN7M30nKSArIDEpKT0nI3szfSddIiwKICAgICAgJyo9JzogIltjb250YWlucyhA
I3sxfSwgJyN7M30nKV0iLAogICAgICAnfj0nOiAiW2NvbnRhaW5zKGNvbmNhdCgn
ICcsIEAjezF9LCAnICcpLCAnICN7M30gJyldIiwKICAgICAgJ3w9JzogIltjb250
YWlucyhjb25jYXQoJy0nLCBAI3sxfSwgJy0nKSwgJy0jezN9LScpXSIKICAgIH0s
CiAgICBwc2V1ZG9zOiB7CiAgICAgICdmaXJzdC1jaGlsZCc6ICdbbm90KHByZWNl
ZGluZy1zaWJsaW5nOjoqKV0nLAogICAgICAnbGFzdC1jaGlsZCc6ICAnW25vdChm
b2xsb3dpbmctc2libGluZzo6KildJywKICAgICAgJ29ubHktY2hpbGQnOiAgJ1tu
b3QocHJlY2VkaW5nLXNpYmxpbmc6Oiogb3IgZm9sbG93aW5nLXNpYmxpbmc6Oiop
XScsCiAgICAgICdlbXB0eSc6ICAgICAgICJbY291bnQoKikgPSAwIGFuZCAoY291
bnQodGV4dCgpKSA9IDApXSIsCiAgICAgICdjaGVja2VkJzogICAgICJbQGNoZWNr
ZWRdIiwKICAgICAgJ2Rpc2FibGVkJzogICAgIlsoQGRpc2FibGVkKSBhbmQgKEB0
eXBlIT0naGlkZGVuJyldIiwKICAgICAgJ2VuYWJsZWQnOiAgICAgIltub3QoQGRp
c2FibGVkKSBhbmQgKEB0eXBlIT0naGlkZGVuJyldIiwKICAgICAgJ25vdCc6IGZ1
bmN0aW9uKG0pIHsKICAgICAgICB2YXIgZSA9IG1bNl0sIHAgPSBTZWxlY3Rvci5w
YXR0ZXJucywKICAgICAgICAgICAgeCA9IFNlbGVjdG9yLnhwYXRoLCBsZSwgdjsK
CiAgICAgICAgdmFyIGV4Y2x1c2lvbiA9IFtdOwogICAgICAgIHdoaWxlIChlICYm
IGxlICE9IGUgJiYgKC9cUy8pLnRlc3QoZSkpIHsKICAgICAgICAgIGxlID0gZTsK
ICAgICAgICAgIGZvciAodmFyIGkgaW4gcCkgewogICAgICAgICAgICBpZiAobSA9
IGUubWF0Y2gocFtpXSkpIHsKICAgICAgICAgICAgICB2ID0gT2JqZWN0LmlzRnVu
Y3Rpb24oeFtpXSkgPyB4W2ldKG0pIDogbmV3IFRlbXBsYXRlKHhbaV0pLmV2YWx1
YXRlKG0pOwogICAgICAgICAgICAgIGV4Y2x1c2lvbi5wdXNoKCIoIiArIHYuc3Vi
c3RyaW5nKDEsIHYubGVuZ3RoIC0gMSkgKyAiKSIpOwogICAgICAgICAgICAgIGUg
PSBlLnJlcGxhY2UobVswXSwgJycpOwogICAgICAgICAgICAgIGJyZWFrOwogICAg
ICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiAi
W25vdCgiICsgZXhjbHVzaW9uLmpvaW4oIiBhbmQgIikgKyAiKV0iOwogICAgICB9
LAogICAgICAnbnRoLWNoaWxkJzogICAgICBmdW5jdGlvbihtKSB7CiAgICAgICAg
cmV0dXJuIFNlbGVjdG9yLnhwYXRoLnBzZXVkb3MubnRoKCIoY291bnQoLi9wcmVj
ZWRpbmctc2libGluZzo6KikgKyAxKSAiLCBtKTsKICAgICAgfSwKICAgICAgJ250
aC1sYXN0LWNoaWxkJzogZnVuY3Rpb24obSkgewogICAgICAgIHJldHVybiBTZWxl
Y3Rvci54cGF0aC5wc2V1ZG9zLm50aCgiKGNvdW50KC4vZm9sbG93aW5nLXNpYmxp
bmc6OiopICsgMSkgIiwgbSk7CiAgICAgIH0sCiAgICAgICdudGgtb2YtdHlwZSc6
ICAgIGZ1bmN0aW9uKG0pIHsKICAgICAgICByZXR1cm4gU2VsZWN0b3IueHBhdGgu
cHNldWRvcy5udGgoInBvc2l0aW9uKCkgIiwgbSk7CiAgICAgIH0sCiAgICAgICdu
dGgtbGFzdC1vZi10eXBlJzogZnVuY3Rpb24obSkgewogICAgICAgIHJldHVybiBT
ZWxlY3Rvci54cGF0aC5wc2V1ZG9zLm50aCgiKGxhc3QoKSArIDEgLSBwb3NpdGlv
bigpKSAiLCBtKTsKICAgICAgfSwKICAgICAgJ2ZpcnN0LW9mLXR5cGUnOiAgZnVu
Y3Rpb24obSkgewogICAgICAgIG1bNl0gPSAiMSI7IHJldHVybiBTZWxlY3Rvci54
cGF0aC5wc2V1ZG9zWydudGgtb2YtdHlwZSddKG0pOwogICAgICB9LAogICAgICAn
bGFzdC1vZi10eXBlJzogICBmdW5jdGlvbihtKSB7CiAgICAgICAgbVs2XSA9ICIx
IjsgcmV0dXJuIFNlbGVjdG9yLnhwYXRoLnBzZXVkb3NbJ250aC1sYXN0LW9mLXR5
cGUnXShtKTsKICAgICAgfSwKICAgICAgJ29ubHktb2YtdHlwZSc6ICAgZnVuY3Rp
b24obSkgewogICAgICAgIHZhciBwID0gU2VsZWN0b3IueHBhdGgucHNldWRvczsg
cmV0dXJuIHBbJ2ZpcnN0LW9mLXR5cGUnXShtKSArIHBbJ2xhc3Qtb2YtdHlwZSdd
KG0pOwogICAgICB9LAogICAgICBudGg6IGZ1bmN0aW9uKGZyYWdtZW50LCBtKSB7
CiAgICAgICAgdmFyIG1tLCBmb3JtdWxhID0gbVs2XSwgcHJlZGljYXRlOwogICAg
ICAgIGlmIChmb3JtdWxhID09ICdldmVuJykgZm9ybXVsYSA9ICcybiswJzsKICAg
ICAgICBpZiAoZm9ybXVsYSA9PSAnb2RkJykgIGZvcm11bGEgPSAnMm4rMSc7CiAg
ICAgICAgaWYgKG1tID0gZm9ybXVsYS5tYXRjaCgvXihcZCspJC8pKSAvLyBkaWdp
dCBvbmx5CiAgICAgICAgICByZXR1cm4gJ1snICsgZnJhZ21lbnQgKyAiPSAiICsg
bW1bMV0gKyAnXSc7CiAgICAgICAgaWYgKG1tID0gZm9ybXVsYS5tYXRjaCgvXigt
P1xkKik/bigoWystXSkoXGQrKSk/LykpIHsgLy8gYW4rYgogICAgICAgICAgaWYg
KG1tWzFdID09ICItIikgbW1bMV0gPSAtMTsKICAgICAgICAgIHZhciBhID0gbW1b
MV0gPyBOdW1iZXIobW1bMV0pIDogMTsKICAgICAgICAgIHZhciBiID0gbW1bMl0g
PyBOdW1iZXIobW1bMl0pIDogMDsKICAgICAgICAgIHByZWRpY2F0ZSA9ICJbKCgj
e2ZyYWdtZW50fSAtICN7Yn0pIG1vZCAje2F9ID0gMCkgYW5kICIgKwogICAgICAg
ICAgIigoI3tmcmFnbWVudH0gLSAje2J9KSBkaXYgI3thfSA+PSAwKV0iOwogICAg
ICAgICAgcmV0dXJuIG5ldyBUZW1wbGF0ZShwcmVkaWNhdGUpLmV2YWx1YXRlKHsK
ICAgICAgICAgICAgZnJhZ21lbnQ6IGZyYWdtZW50LCBhOiBhLCBiOiBiIH0pOwog
ICAgICAgIH0KICAgICAgfQogICAgfQogIH0sCgogIGNyaXRlcmlhOiB7CiAgICB0
YWdOYW1lOiAgICAgICduID0gaC50YWdOYW1lKG4sIHIsICIjezF9IiwgYyk7ICAg
ICAgYyA9IGZhbHNlOycsCiAgICBjbGFzc05hbWU6ICAgICduID0gaC5jbGFzc05h
bWUobiwgciwgIiN7MX0iLCBjKTsgICAgYyA9IGZhbHNlOycsCiAgICBpZDogICAg
ICAgICAgICduID0gaC5pZChuLCByLCAiI3sxfSIsIGMpOyAgICAgICAgICAgYyA9
IGZhbHNlOycsCiAgICBhdHRyUHJlc2VuY2U6ICduID0gaC5hdHRyUHJlc2VuY2Uo
biwgciwgIiN7MX0iLCBjKTsgYyA9IGZhbHNlOycsCiAgICBhdHRyOiBmdW5jdGlv
bihtKSB7CiAgICAgIG1bM10gPSAobVs1XSB8fCBtWzZdKTsKICAgICAgcmV0dXJu
IG5ldyBUZW1wbGF0ZSgnbiA9IGguYXR0cihuLCByLCAiI3sxfSIsICIjezN9Iiwg
IiN7Mn0iLCBjKTsgYyA9IGZhbHNlOycpLmV2YWx1YXRlKG0pOwogICAgfSwKICAg
IHBzZXVkbzogZnVuY3Rpb24obSkgewogICAgICBpZiAobVs2XSkgbVs2XSA9IG1b
Nl0ucmVwbGFjZSgvIi9nLCAnXFwiJyk7CiAgICAgIHJldHVybiBuZXcgVGVtcGxh
dGUoJ24gPSBoLnBzZXVkbyhuLCAiI3sxfSIsICIjezZ9IiwgciwgYyk7IGMgPSBm
YWxzZTsnKS5ldmFsdWF0ZShtKTsKICAgIH0sCiAgICBkZXNjZW5kYW50OiAgICdj
ID0gImRlc2NlbmRhbnQiOycsCiAgICBjaGlsZDogICAgICAgICdjID0gImNoaWxk
IjsnLAogICAgYWRqYWNlbnQ6ICAgICAnYyA9ICJhZGphY2VudCI7JywKICAgIGxh
dGVyU2libGluZzogJ2MgPSAibGF0ZXJTaWJsaW5nIjsnCiAgfSwKCiAgcGF0dGVy
bnM6IHsKICAgIC8vIGNvbWJpbmF0b3JzIG11c3QgYmUgbGlzdGVkIGZpcnN0CiAg
ICAvLyAoYW5kIGRlc2NlbmRhbnQgbmVlZHMgdG8gYmUgbGFzdCBjb21iaW5hdG9y
KQogICAgbGF0ZXJTaWJsaW5nOiAvXlxzKn5ccyovLAogICAgY2hpbGQ6ICAgICAg
ICAvXlxzKj5ccyovLAogICAgYWRqYWNlbnQ6ICAgICAvXlxzKlwrXHMqLywKICAg
IGRlc2NlbmRhbnQ6ICAgL15ccy8sCgogICAgLy8gc2VsZWN0b3JzIGZvbGxvdwog
ICAgdGFnTmFtZTogICAgICAvXlxzKihcKnxbXHdcLV0rKShcYnwkKT8vLAogICAg
aWQ6ICAgICAgICAgICAvXiMoW1x3XC1cKl0rKShcYnwkKS8sCiAgICBjbGFzc05h
bWU6ICAgIC9eXC4oW1x3XC1cKl0rKShcYnwkKS8sCiAgICBwc2V1ZG86Ci9eOigo
Zmlyc3R8bGFzdHxudGh8bnRoLWxhc3R8b25seSkoLWNoaWxkfC1vZi10eXBlKXxl
bXB0eXxjaGVja2VkfChlbnxkaXMpYWJsZWR8bm90KShcKCguKj8pXCkpPyhcYnwk
fCg/PVxzfFs6K34+XSkpLywKICAgIGF0dHJQcmVzZW5jZTogL15cWygoPzpbXHdd
KzopP1tcd10rKVxdLywKICAgIGF0dHI6ICAgICAgICAgL1xbKCg/Oltcdy1dKjop
P1tcdy1dKylccyooPzooWyFeJCp+fF0/PSlccyooKFsnIl0pKFteXDRdKj8pXDR8
KFteJyJdW15cXV0qPykpKT9cXS8KICB9LAoKICAvLyBmb3IgU2VsZWN0b3IubWF0
Y2ggYW5kIEVsZW1lbnQjbWF0Y2gKICBhc3NlcnRpb25zOiB7CiAgICB0YWdOYW1l
OiBmdW5jdGlvbihlbGVtZW50LCBtYXRjaGVzKSB7CiAgICAgIHJldHVybiBtYXRj
aGVzWzFdLnRvVXBwZXJDYXNlKCkgPT0gZWxlbWVudC50YWdOYW1lLnRvVXBwZXJD
YXNlKCk7CiAgICB9LAoKICAgIGNsYXNzTmFtZTogZnVuY3Rpb24oZWxlbWVudCwg
bWF0Y2hlcykgewogICAgICByZXR1cm4gRWxlbWVudC5oYXNDbGFzc05hbWUoZWxl
bWVudCwgbWF0Y2hlc1sxXSk7CiAgICB9LAoKICAgIGlkOiBmdW5jdGlvbihlbGVt
ZW50LCBtYXRjaGVzKSB7CiAgICAgIHJldHVybiBlbGVtZW50LmlkID09PSBtYXRj
aGVzWzFdOwogICAgfSwKCiAgICBhdHRyUHJlc2VuY2U6IGZ1bmN0aW9uKGVsZW1l
bnQsIG1hdGNoZXMpIHsKICAgICAgcmV0dXJuIEVsZW1lbnQuaGFzQXR0cmlidXRl
KGVsZW1lbnQsIG1hdGNoZXNbMV0pOwogICAgfSwKCiAgICBhdHRyOiBmdW5jdGlv
bihlbGVtZW50LCBtYXRjaGVzKSB7CiAgICAgIHZhciBub2RlVmFsdWUgPSBFbGVt
ZW50LnJlYWRBdHRyaWJ1dGUoZWxlbWVudCwgbWF0Y2hlc1sxXSk7CiAgICAgIHJl
dHVybiBub2RlVmFsdWUgJiYgU2VsZWN0b3Iub3BlcmF0b3JzW21hdGNoZXNbMl1d
KG5vZGVWYWx1ZSwgbWF0Y2hlc1s1XSB8fCBtYXRjaGVzWzZdKTsKICAgIH0KICB9
LAoKICBoYW5kbGVyczogewogICAgLy8gVVRJTElUWSBGVU5DVElPTlMKICAgIC8v
IGpvaW5zIHR3byBjb2xsZWN0aW9ucwogICAgY29uY2F0OiBmdW5jdGlvbihhLCBi
KSB7CiAgICAgIGZvciAodmFyIGkgPSAwLCBub2RlOyBub2RlID0gYltpXTsgaSsr
KQogICAgICAgIGEucHVzaChub2RlKTsKICAgICAgcmV0dXJuIGE7CiAgICB9LAoK
ICAgIC8vIG1hcmtzIGFuIGFycmF5IG9mIG5vZGVzIGZvciBjb3VudGluZwogICAg
bWFyazogZnVuY3Rpb24obm9kZXMpIHsKICAgICAgdmFyIF90cnVlID0gUHJvdG90
eXBlLmVtcHR5RnVuY3Rpb247CiAgICAgIGZvciAodmFyIGkgPSAwLCBub2RlOyBu
b2RlID0gbm9kZXNbaV07IGkrKykKICAgICAgICBub2RlLl9jb3VudGVkQnlQcm90
b3R5cGUgPSBfdHJ1ZTsKICAgICAgcmV0dXJuIG5vZGVzOwogICAgfSwKCiAgICB1
bm1hcms6IGZ1bmN0aW9uKG5vZGVzKSB7CiAgICAgIGZvciAodmFyIGkgPSAwLCBu
b2RlOyBub2RlID0gbm9kZXNbaV07IGkrKykKICAgICAgICBub2RlLl9jb3VudGVk
QnlQcm90b3R5cGUgPSB1bmRlZmluZWQ7CiAgICAgIHJldHVybiBub2RlczsKICAg
IH0sCgogICAgLy8gbWFyayBlYWNoIGNoaWxkIG5vZGUgd2l0aCBpdHMgcG9zaXRp
b24gKGZvciBudGggY2FsbHMpCiAgICAvLyAib2ZUeXBlIiBmbGFnIGluZGljYXRl
cyB3aGV0aGVyIHdlJ3JlIGluZGV4aW5nIGZvciBudGgtb2YtdHlwZQogICAgLy8g
cmF0aGVyIHRoYW4gbnRoLWNoaWxkCiAgICBpbmRleDogZnVuY3Rpb24ocGFyZW50
Tm9kZSwgcmV2ZXJzZSwgb2ZUeXBlKSB7CiAgICAgIHBhcmVudE5vZGUuX2NvdW50
ZWRCeVByb3RvdHlwZSA9IFByb3RvdHlwZS5lbXB0eUZ1bmN0aW9uOwogICAgICBp
ZiAocmV2ZXJzZSkgewogICAgICAgIGZvciAodmFyIG5vZGVzID0gcGFyZW50Tm9k
ZS5jaGlsZE5vZGVzLCBpID0gbm9kZXMubGVuZ3RoIC0gMSwgaiA9IDE7IGkgPj0g
MDsgaS0tKSB7CiAgICAgICAgICB2YXIgbm9kZSA9IG5vZGVzW2ldOwogICAgICAg
ICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSAmJiAoIW9mVHlwZSB8fCBub2RlLl9j
b3VudGVkQnlQcm90b3R5cGUpKSBub2RlLm5vZGVJbmRleCA9IGorKzsKICAgICAg
ICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSAx
LCBub2RlcyA9IHBhcmVudE5vZGUuY2hpbGROb2Rlczsgbm9kZSA9IG5vZGVzW2ld
OyBpKyspCiAgICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSAxICYmICghb2ZU
eXBlIHx8IG5vZGUuX2NvdW50ZWRCeVByb3RvdHlwZSkpIG5vZGUubm9kZUluZGV4
ID0gaisrOwogICAgICB9CiAgICB9LAoKICAgIC8vIGZpbHRlcnMgb3V0IGR1cGxp
Y2F0ZXMgYW5kIGV4dGVuZHMgYWxsIG5vZGVzCiAgICB1bmlxdWU6IGZ1bmN0aW9u
KG5vZGVzKSB7CiAgICAgIGlmIChub2Rlcy5sZW5ndGggPT0gMCkgcmV0dXJuIG5v
ZGVzOwogICAgICB2YXIgcmVzdWx0cyA9IFtdLCBuOwogICAgICBmb3IgKHZhciBp
ID0gMCwgbCA9IG5vZGVzLmxlbmd0aDsgaSA8IGw7IGkrKykKICAgICAgICBpZiAo
IShuID0gbm9kZXNbaV0pLl9jb3VudGVkQnlQcm90b3R5cGUpIHsKICAgICAgICAg
IG4uX2NvdW50ZWRCeVByb3RvdHlwZSA9IFByb3RvdHlwZS5lbXB0eUZ1bmN0aW9u
OwogICAgICAgICAgcmVzdWx0cy5wdXNoKEVsZW1lbnQuZXh0ZW5kKG4pKTsKICAg
ICAgICB9CiAgICAgIHJldHVybiBTZWxlY3Rvci5oYW5kbGVycy51bm1hcmsocmVz
dWx0cyk7CiAgICB9LAoKICAgIC8vIENPTUJJTkFUT1IgRlVOQ1RJT05TCiAgICBk
ZXNjZW5kYW50OiBmdW5jdGlvbihub2RlcykgewogICAgICB2YXIgaCA9IFNlbGVj
dG9yLmhhbmRsZXJzOwogICAgICBmb3IgKHZhciBpID0gMCwgcmVzdWx0cyA9IFtd
LCBub2RlOyBub2RlID0gbm9kZXNbaV07IGkrKykKICAgICAgICBoLmNvbmNhdChy
ZXN1bHRzLCBub2RlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCcqJykpOwogICAgICBy
ZXR1cm4gcmVzdWx0czsKICAgIH0sCgogICAgY2hpbGQ6IGZ1bmN0aW9uKG5vZGVz
KSB7CiAgICAgIHZhciBoID0gU2VsZWN0b3IuaGFuZGxlcnM7CiAgICAgIGZvciAo
dmFyIGkgPSAwLCByZXN1bHRzID0gW10sIG5vZGU7IG5vZGUgPSBub2Rlc1tpXTsg
aSsrKSB7CiAgICAgICAgZm9yICh2YXIgaiA9IDAsIGNoaWxkOyBjaGlsZCA9IG5v
ZGUuY2hpbGROb2Rlc1tqXTsgaisrKQogICAgICAgICAgaWYgKGNoaWxkLm5vZGVU
eXBlID09IDEgJiYgY2hpbGQudGFnTmFtZSAhPSAnIScpIHJlc3VsdHMucHVzaChj
aGlsZCk7CiAgICAgIH0KICAgICAgcmV0dXJuIHJlc3VsdHM7CiAgICB9LAoKICAg
IGFkamFjZW50OiBmdW5jdGlvbihub2RlcykgewogICAgICBmb3IgKHZhciBpID0g
MCwgcmVzdWx0cyA9IFtdLCBub2RlOyBub2RlID0gbm9kZXNbaV07IGkrKykgewog
ICAgICAgIHZhciBuZXh0ID0gdGhpcy5uZXh0RWxlbWVudFNpYmxpbmcobm9kZSk7
CiAgICAgICAgaWYgKG5leHQpIHJlc3VsdHMucHVzaChuZXh0KTsKICAgICAgfQog
ICAgICByZXR1cm4gcmVzdWx0czsKICAgIH0sCgogICAgbGF0ZXJTaWJsaW5nOiBm
dW5jdGlvbihub2RlcykgewogICAgICB2YXIgaCA9IFNlbGVjdG9yLmhhbmRsZXJz
OwogICAgICBmb3IgKHZhciBpID0gMCwgcmVzdWx0cyA9IFtdLCBub2RlOyBub2Rl
ID0gbm9kZXNbaV07IGkrKykKICAgICAgICBoLmNvbmNhdChyZXN1bHRzLCBFbGVt
ZW50Lm5leHRTaWJsaW5ncyhub2RlKSk7CiAgICAgIHJldHVybiByZXN1bHRzOwog
ICAgfSwKCiAgICBuZXh0RWxlbWVudFNpYmxpbmc6IGZ1bmN0aW9uKG5vZGUpIHsK
ICAgICAgd2hpbGUgKG5vZGUgPSBub2RlLm5leHRTaWJsaW5nKQogICAgICAgIGlm
IChub2RlLm5vZGVUeXBlID09IDEpIHJldHVybiBub2RlOwogICAgICByZXR1cm4g
bnVsbDsKICAgIH0sCgogICAgcHJldmlvdXNFbGVtZW50U2libGluZzogZnVuY3Rp
b24obm9kZSkgewogICAgICB3aGlsZSAobm9kZSA9IG5vZGUucHJldmlvdXNTaWJs
aW5nKQogICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09IDEpIHJldHVybiBub2Rl
OwogICAgICByZXR1cm4gbnVsbDsKICAgIH0sCgogICAgLy8gVE9LRU4gRlVOQ1RJ
T05TCiAgICB0YWdOYW1lOiBmdW5jdGlvbihub2Rlcywgcm9vdCwgdGFnTmFtZSwg
Y29tYmluYXRvcikgewogICAgICB2YXIgdVRhZ05hbWUgPSB0YWdOYW1lLnRvVXBw
ZXJDYXNlKCk7CiAgICAgIHZhciByZXN1bHRzID0gW10sIGggPSBTZWxlY3Rvci5o
YW5kbGVyczsKICAgICAgaWYgKG5vZGVzKSB7CiAgICAgICAgaWYgKGNvbWJpbmF0
b3IpIHsKICAgICAgICAgIC8vIGZhc3RsYW5lIGZvciBvcmRpbmFyeSBkZXNjZW5k
YW50IGNvbWJpbmF0b3JzCiAgICAgICAgICBpZiAoY29tYmluYXRvciA9PSAiZGVz
Y2VuZGFudCIpIHsKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIG5vZGU7IG5v
ZGUgPSBub2Rlc1tpXTsgaSsrKQogICAgICAgICAgICAgIGguY29uY2F0KHJlc3Vs
dHMsIG5vZGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUodGFnTmFtZSkpOwogICAgICAg
ICAgICByZXR1cm4gcmVzdWx0czsKICAgICAgICAgIH0gZWxzZSBub2RlcyA9IHRo
aXNbY29tYmluYXRvcl0obm9kZXMpOwogICAgICAgICAgaWYgKHRhZ05hbWUgPT0g
IioiKSByZXR1cm4gbm9kZXM7CiAgICAgICAgfQogICAgICAgIGZvciAodmFyIGkg
PSAwLCBub2RlOyBub2RlID0gbm9kZXNbaV07IGkrKykKICAgICAgICAgIGlmIChu
b2RlLnRhZ05hbWUudG9VcHBlckNhc2UoKSA9PT0gdVRhZ05hbWUpIHJlc3VsdHMu
cHVzaChub2RlKTsKICAgICAgICByZXR1cm4gcmVzdWx0czsKICAgICAgfSBlbHNl
IHJldHVybiByb290LmdldEVsZW1lbnRzQnlUYWdOYW1lKHRhZ05hbWUpOwogICAg
fSwKCiAgICBpZDogZnVuY3Rpb24obm9kZXMsIHJvb3QsIGlkLCBjb21iaW5hdG9y
KSB7CiAgICAgIHZhciB0YXJnZXROb2RlID0gJChpZCksIGggPSBTZWxlY3Rvci5o
YW5kbGVyczsKICAgICAgaWYgKCF0YXJnZXROb2RlKSByZXR1cm4gW107CiAgICAg
IGlmICghbm9kZXMgJiYgcm9vdCA9PSBkb2N1bWVudCkgcmV0dXJuIFt0YXJnZXRO
b2RlXTsKICAgICAgaWYgKG5vZGVzKSB7CiAgICAgICAgaWYgKGNvbWJpbmF0b3Ip
IHsKICAgICAgICAgIGlmIChjb21iaW5hdG9yID09ICdjaGlsZCcpIHsKICAgICAg
ICAgICAgZm9yICh2YXIgaSA9IDAsIG5vZGU7IG5vZGUgPSBub2Rlc1tpXTsgaSsr
KQogICAgICAgICAgICAgIGlmICh0YXJnZXROb2RlLnBhcmVudE5vZGUgPT0gbm9k
ZSkgcmV0dXJuIFt0YXJnZXROb2RlXTsKICAgICAgICAgIH0gZWxzZSBpZiAoY29t
YmluYXRvciA9PSAnZGVzY2VuZGFudCcpIHsKICAgICAgICAgICAgZm9yICh2YXIg
aSA9IDAsIG5vZGU7IG5vZGUgPSBub2Rlc1tpXTsgaSsrKQogICAgICAgICAgICAg
IGlmIChFbGVtZW50LmRlc2NlbmRhbnRPZih0YXJnZXROb2RlLCBub2RlKSkgcmV0
dXJuIFt0YXJnZXROb2RlXTsKICAgICAgICAgIH0gZWxzZSBpZiAoY29tYmluYXRv
ciA9PSAnYWRqYWNlbnQnKSB7CiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBu
b2RlOyBub2RlID0gbm9kZXNbaV07IGkrKykKICAgICAgICAgICAgICBpZiAoU2Vs
ZWN0b3IuaGFuZGxlcnMucHJldmlvdXNFbGVtZW50U2libGluZyh0YXJnZXROb2Rl
KSA9PSBub2RlKQogICAgICAgICAgICAgICAgcmV0dXJuIFt0YXJnZXROb2RlXTsK
ICAgICAgICAgIH0gZWxzZSBub2RlcyA9IGhbY29tYmluYXRvcl0obm9kZXMpOwog
ICAgICAgIH0KICAgICAgICBmb3IgKHZhciBpID0gMCwgbm9kZTsgbm9kZSA9IG5v
ZGVzW2ldOyBpKyspCiAgICAgICAgICBpZiAobm9kZSA9PSB0YXJnZXROb2RlKSBy
ZXR1cm4gW3RhcmdldE5vZGVdOwogICAgICAgIHJldHVybiBbXTsKICAgICAgfQog
ICAgICByZXR1cm4gKHRhcmdldE5vZGUgJiYgRWxlbWVudC5kZXNjZW5kYW50T2Yo
dGFyZ2V0Tm9kZSwgcm9vdCkpID8gW3RhcmdldE5vZGVdIDogW107CiAgICB9LAoK
ICAgIGNsYXNzTmFtZTogZnVuY3Rpb24obm9kZXMsIHJvb3QsIGNsYXNzTmFtZSwg
Y29tYmluYXRvcikgewogICAgICBpZiAobm9kZXMgJiYgY29tYmluYXRvcikgbm9k
ZXMgPSB0aGlzW2NvbWJpbmF0b3JdKG5vZGVzKTsKICAgICAgcmV0dXJuIFNlbGVj
dG9yLmhhbmRsZXJzLmJ5Q2xhc3NOYW1lKG5vZGVzLCByb290LCBjbGFzc05hbWUp
OwogICAgfSwKCiAgICBieUNsYXNzTmFtZTogZnVuY3Rpb24obm9kZXMsIHJvb3Qs
IGNsYXNzTmFtZSkgewogICAgICBpZiAoIW5vZGVzKSBub2RlcyA9IFNlbGVjdG9y
LmhhbmRsZXJzLmRlc2NlbmRhbnQoW3Jvb3RdKTsKICAgICAgdmFyIG5lZWRsZSA9
ICcgJyArIGNsYXNzTmFtZSArICcgJzsKICAgICAgZm9yICh2YXIgaSA9IDAsIHJl
c3VsdHMgPSBbXSwgbm9kZSwgbm9kZUNsYXNzTmFtZTsgbm9kZSA9IG5vZGVzW2ld
OyBpKyspIHsKICAgICAgICBub2RlQ2xhc3NOYW1lID0gbm9kZS5jbGFzc05hbWU7
CiAgICAgICAgaWYgKG5vZGVDbGFzc05hbWUubGVuZ3RoID09IDApIGNvbnRpbnVl
OwogICAgICAgIGlmIChub2RlQ2xhc3NOYW1lID09IGNsYXNzTmFtZSB8fCAoJyAn
ICsgbm9kZUNsYXNzTmFtZSArICcgJykuaW5jbHVkZShuZWVkbGUpKQogICAgICAg
ICAgcmVzdWx0cy5wdXNoKG5vZGUpOwogICAgICB9CiAgICAgIHJldHVybiByZXN1
bHRzOwogICAgfSwKCiAgICBhdHRyUHJlc2VuY2U6IGZ1bmN0aW9uKG5vZGVzLCBy
b290LCBhdHRyLCBjb21iaW5hdG9yKSB7CiAgICAgIGlmICghbm9kZXMpIG5vZGVz
ID0gcm9vdC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpOwogICAgICBpZiAobm9k
ZXMgJiYgY29tYmluYXRvcikgbm9kZXMgPSB0aGlzW2NvbWJpbmF0b3JdKG5vZGVz
KTsKICAgICAgdmFyIHJlc3VsdHMgPSBbXTsKICAgICAgZm9yICh2YXIgaSA9IDAs
IG5vZGU7IG5vZGUgPSBub2Rlc1tpXTsgaSsrKQogICAgICAgIGlmIChFbGVtZW50
Lmhhc0F0dHJpYnV0ZShub2RlLCBhdHRyKSkgcmVzdWx0cy5wdXNoKG5vZGUpOwog
ICAgICByZXR1cm4gcmVzdWx0czsKICAgIH0sCgogICAgYXR0cjogZnVuY3Rpb24o
bm9kZXMsIHJvb3QsIGF0dHIsIHZhbHVlLCBvcGVyYXRvciwgY29tYmluYXRvcikg
ewogICAgICBpZiAoIW5vZGVzKSBub2RlcyA9IHJvb3QuZ2V0RWxlbWVudHNCeVRh
Z05hbWUoIioiKTsKICAgICAgaWYgKG5vZGVzICYmIGNvbWJpbmF0b3IpIG5vZGVz
ID0gdGhpc1tjb21iaW5hdG9yXShub2Rlcyk7CiAgICAgIHZhciBoYW5kbGVyID0g
U2VsZWN0b3Iub3BlcmF0b3JzW29wZXJhdG9yXSwgcmVzdWx0cyA9IFtdOwogICAg
ICBmb3IgKHZhciBpID0gMCwgbm9kZTsgbm9kZSA9IG5vZGVzW2ldOyBpKyspIHsK
ICAgICAgICB2YXIgbm9kZVZhbHVlID0gRWxlbWVudC5yZWFkQXR0cmlidXRlKG5v
ZGUsIGF0dHIpOwogICAgICAgIGlmIChub2RlVmFsdWUgPT09IG51bGwpIGNvbnRp
bnVlOwogICAgICAgIGlmIChoYW5kbGVyKG5vZGVWYWx1ZSwgdmFsdWUpKSByZXN1
bHRzLnB1c2gobm9kZSk7CiAgICAgIH0KICAgICAgcmV0dXJuIHJlc3VsdHM7CiAg
ICB9LAoKICAgIHBzZXVkbzogZnVuY3Rpb24obm9kZXMsIG5hbWUsIHZhbHVlLCBy
b290LCBjb21iaW5hdG9yKSB7CiAgICAgIGlmIChub2RlcyAmJiBjb21iaW5hdG9y
KSBub2RlcyA9IHRoaXNbY29tYmluYXRvcl0obm9kZXMpOwogICAgICBpZiAoIW5v
ZGVzKSBub2RlcyA9IHJvb3QuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKTsKICAg
ICAgcmV0dXJuIFNlbGVjdG9yLnBzZXVkb3NbbmFtZV0obm9kZXMsIHZhbHVlLCBy
b290KTsKICAgIH0KICB9LAoKICBwc2V1ZG9zOiB7CiAgICAnZmlyc3QtY2hpbGQn
OiBmdW5jdGlvbihub2RlcywgdmFsdWUsIHJvb3QpIHsKICAgICAgZm9yICh2YXIg
aSA9IDAsIHJlc3VsdHMgPSBbXSwgbm9kZTsgbm9kZSA9IG5vZGVzW2ldOyBpKysp
IHsKICAgICAgICBpZiAoU2VsZWN0b3IuaGFuZGxlcnMucHJldmlvdXNFbGVtZW50
U2libGluZyhub2RlKSkgY29udGludWU7CiAgICAgICAgICByZXN1bHRzLnB1c2go
bm9kZSk7CiAgICAgIH0KICAgICAgcmV0dXJuIHJlc3VsdHM7CiAgICB9LAogICAg
J2xhc3QtY2hpbGQnOiBmdW5jdGlvbihub2RlcywgdmFsdWUsIHJvb3QpIHsKICAg
ICAgZm9yICh2YXIgaSA9IDAsIHJlc3VsdHMgPSBbXSwgbm9kZTsgbm9kZSA9IG5v
ZGVzW2ldOyBpKyspIHsKICAgICAgICBpZiAoU2VsZWN0b3IuaGFuZGxlcnMubmV4
dEVsZW1lbnRTaWJsaW5nKG5vZGUpKSBjb250aW51ZTsKICAgICAgICAgIHJlc3Vs
dHMucHVzaChub2RlKTsKICAgICAgfQogICAgICByZXR1cm4gcmVzdWx0czsKICAg
IH0sCiAgICAnb25seS1jaGlsZCc6IGZ1bmN0aW9uKG5vZGVzLCB2YWx1ZSwgcm9v
dCkgewogICAgICB2YXIgaCA9IFNlbGVjdG9yLmhhbmRsZXJzOwogICAgICBmb3Ig
KHZhciBpID0gMCwgcmVzdWx0cyA9IFtdLCBub2RlOyBub2RlID0gbm9kZXNbaV07
IGkrKykKICAgICAgICBpZiAoIWgucHJldmlvdXNFbGVtZW50U2libGluZyhub2Rl
KSAmJiAhaC5uZXh0RWxlbWVudFNpYmxpbmcobm9kZSkpCiAgICAgICAgICByZXN1
bHRzLnB1c2gobm9kZSk7CiAgICAgIHJldHVybiByZXN1bHRzOwogICAgfSwKICAg
ICdudGgtY2hpbGQnOiAgICAgICAgZnVuY3Rpb24obm9kZXMsIGZvcm11bGEsIHJv
b3QpIHsKICAgICAgcmV0dXJuIFNlbGVjdG9yLnBzZXVkb3MubnRoKG5vZGVzLCBm
b3JtdWxhLCByb290KTsKICAgIH0sCiAgICAnbnRoLWxhc3QtY2hpbGQnOiAgIGZ1
bmN0aW9uKG5vZGVzLCBmb3JtdWxhLCByb290KSB7CiAgICAgIHJldHVybiBTZWxl
Y3Rvci5wc2V1ZG9zLm50aChub2RlcywgZm9ybXVsYSwgcm9vdCwgdHJ1ZSk7CiAg
ICB9LAogICAgJ250aC1vZi10eXBlJzogICAgICBmdW5jdGlvbihub2RlcywgZm9y
bXVsYSwgcm9vdCkgewogICAgICByZXR1cm4gU2VsZWN0b3IucHNldWRvcy5udGgo
bm9kZXMsIGZvcm11bGEsIHJvb3QsIGZhbHNlLCB0cnVlKTsKICAgIH0sCiAgICAn
bnRoLWxhc3Qtb2YtdHlwZSc6IGZ1bmN0aW9uKG5vZGVzLCBmb3JtdWxhLCByb290
KSB7CiAgICAgIHJldHVybiBTZWxlY3Rvci5wc2V1ZG9zLm50aChub2RlcywgZm9y
bXVsYSwgcm9vdCwgdHJ1ZSwgdHJ1ZSk7CiAgICB9LAogICAgJ2ZpcnN0LW9mLXR5
cGUnOiAgICBmdW5jdGlvbihub2RlcywgZm9ybXVsYSwgcm9vdCkgewogICAgICBy
ZXR1cm4gU2VsZWN0b3IucHNldWRvcy5udGgobm9kZXMsICIxIiwgcm9vdCwgZmFs
c2UsIHRydWUpOwogICAgfSwKICAgICdsYXN0LW9mLXR5cGUnOiAgICAgZnVuY3Rp
b24obm9kZXMsIGZvcm11bGEsIHJvb3QpIHsKICAgICAgcmV0dXJuIFNlbGVjdG9y
LnBzZXVkb3MubnRoKG5vZGVzLCAiMSIsIHJvb3QsIHRydWUsIHRydWUpOwogICAg
fSwKICAgICdvbmx5LW9mLXR5cGUnOiAgICAgZnVuY3Rpb24obm9kZXMsIGZvcm11
bGEsIHJvb3QpIHsKICAgICAgdmFyIHAgPSBTZWxlY3Rvci5wc2V1ZG9zOwogICAg
ICByZXR1cm4gcFsnbGFzdC1vZi10eXBlJ10ocFsnZmlyc3Qtb2YtdHlwZSddKG5v
ZGVzLCBmb3JtdWxhLCByb290KSwgZm9ybXVsYSwgcm9vdCk7CiAgICB9LAoKICAg
IC8vIGhhbmRsZXMgdGhlIGFuK2IgbG9naWMKICAgIGdldEluZGljZXM6IGZ1bmN0
aW9uKGEsIGIsIHRvdGFsKSB7CiAgICAgIGlmIChhID09IDApIHJldHVybiBiID4g
MCA/IFtiXSA6IFtdOwogICAgICByZXR1cm4gJFIoMSwgdG90YWwpLmluamVjdChb
XSwgZnVuY3Rpb24obWVtbywgaSkgewogICAgICAgIGlmICgwID09IChpIC0gYikg
JSBhICYmIChpIC0gYikgLyBhID49IDApIG1lbW8ucHVzaChpKTsKICAgICAgICBy
ZXR1cm4gbWVtbzsKICAgICAgfSk7CiAgICB9LAoKICAgIC8vIGhhbmRsZXMgbnRo
KC1sYXN0KS1jaGlsZCwgbnRoKC1sYXN0KS1vZi10eXBlLCBhbmQgKGZpcnN0fGxh
c3QpLW9mLXR5cGUKICAgIG50aDogZnVuY3Rpb24obm9kZXMsIGZvcm11bGEsIHJv
b3QsIHJldmVyc2UsIG9mVHlwZSkgewogICAgICBpZiAobm9kZXMubGVuZ3RoID09
IDApIHJldHVybiBbXTsKICAgICAgaWYgKGZvcm11bGEgPT0gJ2V2ZW4nKSBmb3Jt
dWxhID0gJzJuKzAnOwogICAgICBpZiAoZm9ybXVsYSA9PSAnb2RkJykgIGZvcm11
bGEgPSAnMm4rMSc7CiAgICAgIHZhciBoID0gU2VsZWN0b3IuaGFuZGxlcnMsIHJl
c3VsdHMgPSBbXSwgaW5kZXhlZCA9IFtdLCBtOwogICAgICBoLm1hcmsobm9kZXMp
OwogICAgICBmb3IgKHZhciBpID0gMCwgbm9kZTsgbm9kZSA9IG5vZGVzW2ldOyBp
KyspIHsKICAgICAgICBpZiAoIW5vZGUucGFyZW50Tm9kZS5fY291bnRlZEJ5UHJv
dG90eXBlKSB7CiAgICAgICAgICBoLmluZGV4KG5vZGUucGFyZW50Tm9kZSwgcmV2
ZXJzZSwgb2ZUeXBlKTsKICAgICAgICAgIGluZGV4ZWQucHVzaChub2RlLnBhcmVu
dE5vZGUpOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoZm9ybXVsYS5tYXRj
aCgvXlxkKyQvKSkgeyAvLyBqdXN0IGEgbnVtYmVyCiAgICAgICAgZm9ybXVsYSA9
IE51bWJlcihmb3JtdWxhKTsKICAgICAgICBmb3IgKHZhciBpID0gMCwgbm9kZTsg
bm9kZSA9IG5vZGVzW2ldOyBpKyspCiAgICAgICAgICBpZiAobm9kZS5ub2RlSW5k
ZXggPT0gZm9ybXVsYSkgcmVzdWx0cy5wdXNoKG5vZGUpOwogICAgICB9IGVsc2Ug
aWYgKG0gPSBmb3JtdWxhLm1hdGNoKC9eKC0/XGQqKT9uKChbKy1dKShcZCspKT8v
KSkgeyAvLyBhbitiCiAgICAgICAgaWYgKG1bMV0gPT0gIi0iKSBtWzFdID0gLTE7
CiAgICAgICAgdmFyIGEgPSBtWzFdID8gTnVtYmVyKG1bMV0pIDogMTsKICAgICAg
ICB2YXIgYiA9IG1bMl0gPyBOdW1iZXIobVsyXSkgOiAwOwogICAgICAgIHZhciBp
bmRpY2VzID0gU2VsZWN0b3IucHNldWRvcy5nZXRJbmRpY2VzKGEsIGIsIG5vZGVz
Lmxlbmd0aCk7CiAgICAgICAgZm9yICh2YXIgaSA9IDAsIG5vZGUsIGwgPSBpbmRp
Y2VzLmxlbmd0aDsgbm9kZSA9IG5vZGVzW2ldOyBpKyspIHsKICAgICAgICAgIGZv
ciAodmFyIGogPSAwOyBqIDwgbDsgaisrKQogICAgICAgICAgICBpZiAobm9kZS5u
b2RlSW5kZXggPT0gaW5kaWNlc1tqXSkgcmVzdWx0cy5wdXNoKG5vZGUpOwogICAg
ICAgIH0KICAgICAgfQogICAgICBoLnVubWFyayhub2Rlcyk7CiAgICAgIGgudW5t
YXJrKGluZGV4ZWQpOwogICAgICByZXR1cm4gcmVzdWx0czsKICAgIH0sCgogICAg
J2VtcHR5JzogZnVuY3Rpb24obm9kZXMsIHZhbHVlLCByb290KSB7CiAgICAgIGZv
ciAodmFyIGkgPSAwLCByZXN1bHRzID0gW10sIG5vZGU7IG5vZGUgPSBub2Rlc1tp
XTsgaSsrKSB7CiAgICAgICAgLy8gSUUgdHJlYXRzIGNvbW1lbnRzIGFzIGVsZW1l
bnQgbm9kZXMKICAgICAgICBpZiAobm9kZS50YWdOYW1lID09ICchJyB8fCBub2Rl
LmZpcnN0Q2hpbGQpIGNvbnRpbnVlOwogICAgICAgIHJlc3VsdHMucHVzaChub2Rl
KTsKICAgICAgfQogICAgICByZXR1cm4gcmVzdWx0czsKICAgIH0sCgogICAgJ25v
dCc6IGZ1bmN0aW9uKG5vZGVzLCBzZWxlY3Rvciwgcm9vdCkgewogICAgICB2YXIg
aCA9IFNlbGVjdG9yLmhhbmRsZXJzLCBzZWxlY3RvclR5cGUsIG07CiAgICAgIHZh
ciBleGNsdXNpb25zID0gbmV3IFNlbGVjdG9yKHNlbGVjdG9yKS5maW5kRWxlbWVu
dHMocm9vdCk7CiAgICAgIGgubWFyayhleGNsdXNpb25zKTsKICAgICAgZm9yICh2
YXIgaSA9IDAsIHJlc3VsdHMgPSBbXSwgbm9kZTsgbm9kZSA9IG5vZGVzW2ldOyBp
KyspCiAgICAgICAgaWYgKCFub2RlLl9jb3VudGVkQnlQcm90b3R5cGUpIHJlc3Vs
dHMucHVzaChub2RlKTsKICAgICAgaC51bm1hcmsoZXhjbHVzaW9ucyk7CiAgICAg
IHJldHVybiByZXN1bHRzOwogICAgfSwKCiAgICAnZW5hYmxlZCc6IGZ1bmN0aW9u
KG5vZGVzLCB2YWx1ZSwgcm9vdCkgewogICAgICBmb3IgKHZhciBpID0gMCwgcmVz
dWx0cyA9IFtdLCBub2RlOyBub2RlID0gbm9kZXNbaV07IGkrKykKICAgICAgICBp
ZiAoIW5vZGUuZGlzYWJsZWQgJiYgKCFub2RlLnR5cGUgfHwgbm9kZS50eXBlICE9
PSAnaGlkZGVuJykpCiAgICAgICAgICByZXN1bHRzLnB1c2gobm9kZSk7CiAgICAg
IHJldHVybiByZXN1bHRzOwogICAgfSwKCiAgICAnZGlzYWJsZWQnOiBmdW5jdGlv
bihub2RlcywgdmFsdWUsIHJvb3QpIHsKICAgICAgZm9yICh2YXIgaSA9IDAsIHJl
c3VsdHMgPSBbXSwgbm9kZTsgbm9kZSA9IG5vZGVzW2ldOyBpKyspCiAgICAgICAg
aWYgKG5vZGUuZGlzYWJsZWQpIHJlc3VsdHMucHVzaChub2RlKTsKICAgICAgcmV0
dXJuIHJlc3VsdHM7CiAgICB9LAoKICAgICdjaGVja2VkJzogZnVuY3Rpb24obm9k
ZXMsIHZhbHVlLCByb290KSB7CiAgICAgIGZvciAodmFyIGkgPSAwLCByZXN1bHRz
ID0gW10sIG5vZGU7IG5vZGUgPSBub2Rlc1tpXTsgaSsrKQogICAgICAgIGlmIChu
b2RlLmNoZWNrZWQpIHJlc3VsdHMucHVzaChub2RlKTsKICAgICAgcmV0dXJuIHJl
c3VsdHM7CiAgICB9CiAgfSwKCiAgb3BlcmF0b3JzOiB7CiAgICAnPSc6ICBmdW5j
dGlvbihudiwgdikgeyByZXR1cm4gbnYgPT0gdjsgfSwKICAgICchPSc6IGZ1bmN0
aW9uKG52LCB2KSB7IHJldHVybiBudiAhPSB2OyB9LAogICAgJ149JzogZnVuY3Rp
b24obnYsIHYpIHsgcmV0dXJuIG52ID09IHYgfHwgbnYgJiYgbnYuc3RhcnRzV2l0
aCh2KTsgfSwKICAgICckPSc6IGZ1bmN0aW9uKG52LCB2KSB7IHJldHVybiBudiA9
PSB2IHx8IG52ICYmIG52LmVuZHNXaXRoKHYpOyB9LAogICAgJyo9JzogZnVuY3Rp
b24obnYsIHYpIHsgcmV0dXJuIG52ID09IHYgfHwgbnYgJiYgbnYuaW5jbHVkZSh2
KTsgfSwKICAgICckPSc6IGZ1bmN0aW9uKG52LCB2KSB7IHJldHVybiBudi5lbmRz
V2l0aCh2KTsgfSwKICAgICcqPSc6IGZ1bmN0aW9uKG52LCB2KSB7IHJldHVybiBu
di5pbmNsdWRlKHYpOyB9LAogICAgJ349JzogZnVuY3Rpb24obnYsIHYpIHsgcmV0
dXJuICgnICcgKyBudiArICcgJykuaW5jbHVkZSgnICcgKyB2ICsgJyAnKTsgfSwK
ICAgICd8PSc6IGZ1bmN0aW9uKG52LCB2KSB7IHJldHVybiAoJy0nICsgKG52IHx8
ICIiKS50b1VwcGVyQ2FzZSgpICsKICAgICAnLScpLmluY2x1ZGUoJy0nICsgKHYg
fHwgIiIpLnRvVXBwZXJDYXNlKCkgKyAnLScpOyB9CiAgfSwKCiAgc3BsaXQ6IGZ1
bmN0aW9uKGV4cHJlc3Npb24pIHsKICAgIHZhciBleHByZXNzaW9ucyA9IFtdOwog
ICAgZXhwcmVzc2lvbi5zY2FuKC8oKFtcdyM6Ln4+KygpXHMtXSt8XCp8XFsuKj9c
XSkrKVxzKigsfCQpLywgZnVuY3Rpb24obSkgewogICAgICBleHByZXNzaW9ucy5w
dXNoKG1bMV0uc3RyaXAoKSk7CiAgICB9KTsKICAgIHJldHVybiBleHByZXNzaW9u
czsKICB9LAoKICBtYXRjaEVsZW1lbnRzOiBmdW5jdGlvbihlbGVtZW50cywgZXhw
cmVzc2lvbikgewogICAgdmFyIG1hdGNoZXMgPSAkJChleHByZXNzaW9uKSwgaCA9
IFNlbGVjdG9yLmhhbmRsZXJzOwogICAgaC5tYXJrKG1hdGNoZXMpOwogICAgZm9y
ICh2YXIgaSA9IDAsIHJlc3VsdHMgPSBbXSwgZWxlbWVudDsgZWxlbWVudCA9IGVs
ZW1lbnRzW2ldOyBpKyspCiAgICAgIGlmIChlbGVtZW50Ll9jb3VudGVkQnlQcm90
b3R5cGUpIHJlc3VsdHMucHVzaChlbGVtZW50KTsKICAgIGgudW5tYXJrKG1hdGNo
ZXMpOwogICAgcmV0dXJuIHJlc3VsdHM7CiAgfSwKCiAgZmluZEVsZW1lbnQ6IGZ1
bmN0aW9uKGVsZW1lbnRzLCBleHByZXNzaW9uLCBpbmRleCkgewogICAgaWYgKE9i
amVjdC5pc051bWJlcihleHByZXNzaW9uKSkgewogICAgICBpbmRleCA9IGV4cHJl
c3Npb247IGV4cHJlc3Npb24gPSBmYWxzZTsKICAgIH0KICAgIHJldHVybiBTZWxl
Y3Rvci5tYXRjaEVsZW1lbnRzKGVsZW1lbnRzLCBleHByZXNzaW9uIHx8ICcqJylb
aW5kZXggfHwgMF07CiAgfSwKCiAgZmluZENoaWxkRWxlbWVudHM6IGZ1bmN0aW9u
KGVsZW1lbnQsIGV4cHJlc3Npb25zKSB7CiAgICBleHByZXNzaW9ucyA9IFNlbGVj
dG9yLnNwbGl0KGV4cHJlc3Npb25zLmpvaW4oJywnKSk7CiAgICB2YXIgcmVzdWx0
cyA9IFtdLCBoID0gU2VsZWN0b3IuaGFuZGxlcnM7CiAgICBmb3IgKHZhciBpID0g
MCwgbCA9IGV4cHJlc3Npb25zLmxlbmd0aCwgc2VsZWN0b3I7IGkgPCBsOyBpKysp
IHsKICAgICAgc2VsZWN0b3IgPSBuZXcgU2VsZWN0b3IoZXhwcmVzc2lvbnNbaV0u
c3RyaXAoKSk7CiAgICAgIGguY29uY2F0KHJlc3VsdHMsIHNlbGVjdG9yLmZpbmRF
bGVtZW50cyhlbGVtZW50KSk7CiAgICB9CiAgICByZXR1cm4gKGwgPiAxKSA/IGgu
dW5pcXVlKHJlc3VsdHMpIDogcmVzdWx0czsKICB9Cn0pOwoKaWYgKFByb3RvdHlw
ZS5Ccm93c2VyLklFKSB7CiAgT2JqZWN0LmV4dGVuZChTZWxlY3Rvci5oYW5kbGVy
cywgewogICAgLy8gSUUgcmV0dXJucyBjb21tZW50IG5vZGVzIG9uIGdldEVsZW1l
bnRzQnlUYWdOYW1lKCIqIikuCiAgICAvLyBGaWx0ZXIgdGhlbSBvdXQuCiAgICBj
b25jYXQ6IGZ1bmN0aW9uKGEsIGIpIHsKICAgICAgZm9yICh2YXIgaSA9IDAsIG5v
ZGU7IG5vZGUgPSBiW2ldOyBpKyspCiAgICAgICAgaWYgKG5vZGUudGFnTmFtZSAh
PT0gIiEiKSBhLnB1c2gobm9kZSk7CiAgICAgIHJldHVybiBhOwogICAgfSwKCiAg
ICAvLyBJRSBpbXByb3Blcmx5IHNlcmlhbGl6ZXMgX2NvdW50ZWRCeVByb3RvdHlw
ZSBpbiAoaW5uZXJ8b3V0ZXIpSFRNTC4KICAgIHVubWFyazogZnVuY3Rpb24obm9k
ZXMpIHsKICAgICAgZm9yICh2YXIgaSA9IDAsIG5vZGU7IG5vZGUgPSBub2Rlc1tp
XTsgaSsrKQogICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKCdfY291bnRlZEJ5
UHJvdG90eXBlJyk7CiAgICAgIHJldHVybiBub2RlczsKICAgIH0KICB9KTsKfQoK
ZnVuY3Rpb24gJCQoKSB7CiAgcmV0dXJuIFNlbGVjdG9yLmZpbmRDaGlsZEVsZW1l
bnRzKGRvY3VtZW50LCAkQShhcmd1bWVudHMpKTsKfQp2YXIgRm9ybSA9IHsKICBy
ZXNldDogZnVuY3Rpb24oZm9ybSkgewogICAgJChmb3JtKS5yZXNldCgpOwogICAg
cmV0dXJuIGZvcm07CiAgfSwKCiAgc2VyaWFsaXplRWxlbWVudHM6IGZ1bmN0aW9u
KGVsZW1lbnRzLCBvcHRpb25zKSB7CiAgICBpZiAodHlwZW9mIG9wdGlvbnMgIT0g
J29iamVjdCcpIG9wdGlvbnMgPSB7IGhhc2g6ICEhb3B0aW9ucyB9OwogICAgZWxz
ZSBpZiAoT2JqZWN0LmlzVW5kZWZpbmVkKG9wdGlvbnMuaGFzaCkpIG9wdGlvbnMu
aGFzaCA9IHRydWU7CiAgICB2YXIga2V5LCB2YWx1ZSwgc3VibWl0dGVkID0gZmFs
c2UsIHN1Ym1pdCA9IG9wdGlvbnMuc3VibWl0OwoKICAgIHZhciBkYXRhID0gZWxl
bWVudHMuaW5qZWN0KHsgfSwgZnVuY3Rpb24ocmVzdWx0LCBlbGVtZW50KSB7CiAg
ICAgIGlmICghZWxlbWVudC5kaXNhYmxlZCAmJiBlbGVtZW50Lm5hbWUpIHsKICAg
ICAgICBrZXkgPSBlbGVtZW50Lm5hbWU7IHZhbHVlID0gJChlbGVtZW50KS5nZXRW
YWx1ZSgpOwogICAgICAgIGlmICh2YWx1ZSAhPSBudWxsICYmIGVsZW1lbnQudHlw
ZSAhPSAnZmlsZScgJiYgKGVsZW1lbnQudHlwZSAhPSAnc3VibWl0JyB8fCAoIXN1
Ym1pdHRlZCAmJgogICAgICAgICAgICBzdWJtaXQgIT09IGZhbHNlICYmICghc3Vi
bWl0IHx8IGtleSA9PSBzdWJtaXQpICYmIChzdWJtaXR0ZWQgPSB0cnVlKSkpKSB7
CiAgICAgICAgICBpZiAoa2V5IGluIHJlc3VsdCkgewogICAgICAgICAgICAvLyBh
IGtleSBpcyBhbHJlYWR5IHByZXNlbnQ7IGNvbnN0cnVjdCBhbiBhcnJheSBvZiB2
YWx1ZXMKICAgICAgICAgICAgaWYgKCFPYmplY3QuaXNBcnJheShyZXN1bHRba2V5
XSkpIHJlc3VsdFtrZXldID0gW3Jlc3VsdFtrZXldXTsKICAgICAgICAgICAgcmVz
dWx0W2tleV0ucHVzaCh2YWx1ZSk7CiAgICAgICAgICB9CiAgICAgICAgICBlbHNl
IHJlc3VsdFtrZXldID0gdmFsdWU7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJl
dHVybiByZXN1bHQ7CiAgICB9KTsKCiAgICByZXR1cm4gb3B0aW9ucy5oYXNoID8g
ZGF0YSA6IE9iamVjdC50b1F1ZXJ5U3RyaW5nKGRhdGEpOwogIH0KfTsKCkZvcm0u
TWV0aG9kcyA9IHsKICBzZXJpYWxpemU6IGZ1bmN0aW9uKGZvcm0sIG9wdGlvbnMp
IHsKICAgIHJldHVybiBGb3JtLnNlcmlhbGl6ZUVsZW1lbnRzKEZvcm0uZ2V0RWxl
bWVudHMoZm9ybSksIG9wdGlvbnMpOwogIH0sCgogIGdldEVsZW1lbnRzOiBmdW5j
dGlvbihmb3JtKSB7CiAgICByZXR1cm4gJEEoJChmb3JtKS5nZXRFbGVtZW50c0J5
VGFnTmFtZSgnKicpKS5pbmplY3QoW10sCiAgICAgIGZ1bmN0aW9uKGVsZW1lbnRz
LCBjaGlsZCkgewogICAgICAgIGlmIChGb3JtLkVsZW1lbnQuU2VyaWFsaXplcnNb
Y2hpbGQudGFnTmFtZS50b0xvd2VyQ2FzZSgpXSkKICAgICAgICAgIGVsZW1lbnRz
LnB1c2goRWxlbWVudC5leHRlbmQoY2hpbGQpKTsKICAgICAgICByZXR1cm4gZWxl
bWVudHM7CiAgICAgIH0KICAgICk7CiAgfSwKCiAgZ2V0SW5wdXRzOiBmdW5jdGlv
bihmb3JtLCB0eXBlTmFtZSwgbmFtZSkgewogICAgZm9ybSA9ICQoZm9ybSk7CiAg
ICB2YXIgaW5wdXRzID0gZm9ybS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW5wdXQn
KTsKCiAgICBpZiAoIXR5cGVOYW1lICYmICFuYW1lKSByZXR1cm4gJEEoaW5wdXRz
KS5tYXAoRWxlbWVudC5leHRlbmQpOwoKICAgIGZvciAodmFyIGkgPSAwLCBtYXRj
aGluZ0lucHV0cyA9IFtdLCBsZW5ndGggPSBpbnB1dHMubGVuZ3RoOyBpIDwgbGVu
Z3RoOyBpKyspIHsKICAgICAgdmFyIGlucHV0ID0gaW5wdXRzW2ldOwogICAgICBp
ZiAoKHR5cGVOYW1lICYmIGlucHV0LnR5cGUgIT0gdHlwZU5hbWUpIHx8IChuYW1l
ICYmIGlucHV0Lm5hbWUgIT0gbmFtZSkpCiAgICAgICAgY29udGludWU7CiAgICAg
IG1hdGNoaW5nSW5wdXRzLnB1c2goRWxlbWVudC5leHRlbmQoaW5wdXQpKTsKICAg
IH0KCiAgICByZXR1cm4gbWF0Y2hpbmdJbnB1dHM7CiAgfSwKCiAgZGlzYWJsZTog
ZnVuY3Rpb24oZm9ybSkgewogICAgZm9ybSA9ICQoZm9ybSk7CiAgICBGb3JtLmdl
dEVsZW1lbnRzKGZvcm0pLmludm9rZSgnZGlzYWJsZScpOwogICAgcmV0dXJuIGZv
cm07CiAgfSwKCiAgZW5hYmxlOiBmdW5jdGlvbihmb3JtKSB7CiAgICBmb3JtID0g
JChmb3JtKTsKICAgIEZvcm0uZ2V0RWxlbWVudHMoZm9ybSkuaW52b2tlKCdlbmFi
bGUnKTsKICAgIHJldHVybiBmb3JtOwogIH0sCgogIGZpbmRGaXJzdEVsZW1lbnQ6
IGZ1bmN0aW9uKGZvcm0pIHsKICAgIHZhciBlbGVtZW50cyA9ICQoZm9ybSkuZ2V0
RWxlbWVudHMoKS5maW5kQWxsKGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgICAgcmV0
dXJuICdoaWRkZW4nICE9IGVsZW1lbnQudHlwZSAmJiAhZWxlbWVudC5kaXNhYmxl
ZDsKICAgIH0pOwogICAgdmFyIGZpcnN0QnlJbmRleCA9IGVsZW1lbnRzLmZpbmRB
bGwoZnVuY3Rpb24oZWxlbWVudCkgewogICAgICByZXR1cm4gZWxlbWVudC5oYXNB
dHRyaWJ1dGUoJ3RhYkluZGV4JykgJiYgZWxlbWVudC50YWJJbmRleCA+PSAwOwog
ICAgfSkuc29ydEJ5KGZ1bmN0aW9uKGVsZW1lbnQpIHsgcmV0dXJuIGVsZW1lbnQu
dGFiSW5kZXggfSkuZmlyc3QoKTsKCiAgICByZXR1cm4gZmlyc3RCeUluZGV4ID8g
Zmlyc3RCeUluZGV4IDogZWxlbWVudHMuZmluZChmdW5jdGlvbihlbGVtZW50KSB7
CiAgICAgIHJldHVybiBbJ2lucHV0JywgJ3NlbGVjdCcsICd0ZXh0YXJlYSddLmlu
Y2x1ZGUoZWxlbWVudC50YWdOYW1lLnRvTG93ZXJDYXNlKCkpOwogICAgfSk7CiAg
fSwKCiAgZm9jdXNGaXJzdEVsZW1lbnQ6IGZ1bmN0aW9uKGZvcm0pIHsKICAgIGZv
cm0gPSAkKGZvcm0pOwogICAgZm9ybS5maW5kRmlyc3RFbGVtZW50KCkuYWN0aXZh
dGUoKTsKICAgIHJldHVybiBmb3JtOwogIH0sCgogIHJlcXVlc3Q6IGZ1bmN0aW9u
KGZvcm0sIG9wdGlvbnMpIHsKICAgIGZvcm0gPSAkKGZvcm0pLCBvcHRpb25zID0g
T2JqZWN0LmNsb25lKG9wdGlvbnMgfHwgeyB9KTsKCiAgICB2YXIgcGFyYW1zID0g
b3B0aW9ucy5wYXJhbWV0ZXJzLCBhY3Rpb24gPSBmb3JtLnJlYWRBdHRyaWJ1dGUo
J2FjdGlvbicpIHx8ICcnOwogICAgaWYgKGFjdGlvbi5ibGFuaygpKSBhY3Rpb24g
PSB3aW5kb3cubG9jYXRpb24uaHJlZjsKICAgIG9wdGlvbnMucGFyYW1ldGVycyA9
IGZvcm0uc2VyaWFsaXplKHRydWUpOwoKICAgIGlmIChwYXJhbXMpIHsKICAgICAg
aWYgKE9iamVjdC5pc1N0cmluZyhwYXJhbXMpKSBwYXJhbXMgPSBwYXJhbXMudG9R
dWVyeVBhcmFtcygpOwogICAgICBPYmplY3QuZXh0ZW5kKG9wdGlvbnMucGFyYW1l
dGVycywgcGFyYW1zKTsKICAgIH0KCiAgICBpZiAoZm9ybS5oYXNBdHRyaWJ1dGUo
J21ldGhvZCcpICYmICFvcHRpb25zLm1ldGhvZCkKICAgICAgb3B0aW9ucy5tZXRo
b2QgPSBmb3JtLm1ldGhvZDsKCiAgICByZXR1cm4gbmV3IEFqYXguUmVxdWVzdChh
Y3Rpb24sIG9wdGlvbnMpOwogIH0KfTsKCi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0qLwoKRm9ybS5FbGVtZW50ID0gewogIGZvY3VzOiBmdW5jdGlvbihlbGVt
ZW50KSB7CiAgICAkKGVsZW1lbnQpLmZvY3VzKCk7CiAgICByZXR1cm4gZWxlbWVu
dDsKICB9LAoKICBzZWxlY3Q6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgICQoZWxl
bWVudCkuc2VsZWN0KCk7CiAgICByZXR1cm4gZWxlbWVudDsKICB9Cn07CgpGb3Jt
LkVsZW1lbnQuTWV0aG9kcyA9IHsKICBzZXJpYWxpemU6IGZ1bmN0aW9uKGVsZW1l
bnQpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgaWYgKCFlbGVtZW50
LmRpc2FibGVkICYmIGVsZW1lbnQubmFtZSkgewogICAgICB2YXIgdmFsdWUgPSBl
bGVtZW50LmdldFZhbHVlKCk7CiAgICAgIGlmICh2YWx1ZSAhPSB1bmRlZmluZWQp
IHsKICAgICAgICB2YXIgcGFpciA9IHsgfTsKICAgICAgICBwYWlyW2VsZW1lbnQu
bmFtZV0gPSB2YWx1ZTsKICAgICAgICByZXR1cm4gT2JqZWN0LnRvUXVlcnlTdHJp
bmcocGFpcik7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiAnJzsKICB9LAoKICBn
ZXRWYWx1ZTogZnVuY3Rpb24oZWxlbWVudCkgewogICAgZWxlbWVudCA9ICQoZWxl
bWVudCk7CiAgICB2YXIgbWV0aG9kID0gZWxlbWVudC50YWdOYW1lLnRvTG93ZXJD
YXNlKCk7CiAgICByZXR1cm4gRm9ybS5FbGVtZW50LlNlcmlhbGl6ZXJzW21ldGhv
ZF0oZWxlbWVudCk7CiAgfSwKCiAgc2V0VmFsdWU6IGZ1bmN0aW9uKGVsZW1lbnQs
IHZhbHVlKSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgIHZhciBtZXRo
b2QgPSBlbGVtZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKTsKICAgIEZvcm0uRWxl
bWVudC5TZXJpYWxpemVyc1ttZXRob2RdKGVsZW1lbnQsIHZhbHVlKTsKICAgIHJl
dHVybiBlbGVtZW50OwogIH0sCgogIGNsZWFyOiBmdW5jdGlvbihlbGVtZW50KSB7
CiAgICAkKGVsZW1lbnQpLnZhbHVlID0gJyc7CiAgICByZXR1cm4gZWxlbWVudDsK
ICB9LAoKICBwcmVzZW50OiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICByZXR1cm4g
JChlbGVtZW50KS52YWx1ZSAhPSAnJzsKICB9LAoKICBhY3RpdmF0ZTogZnVuY3Rp
b24oZWxlbWVudCkgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CiAgICB0cnkg
ewogICAgICBlbGVtZW50LmZvY3VzKCk7CiAgICAgIGlmIChlbGVtZW50LnNlbGVj
dCAmJiAoZWxlbWVudC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgIT0gJ2lucHV0JyB8
fAogICAgICAgICAgIVsnYnV0dG9uJywgJ3Jlc2V0JywgJ3N1Ym1pdCddLmluY2x1
ZGUoZWxlbWVudC50eXBlKSkpCiAgICAgICAgZWxlbWVudC5zZWxlY3QoKTsKICAg
IH0gY2F0Y2ggKGUpIHsgfQogICAgcmV0dXJuIGVsZW1lbnQ7CiAgfSwKCiAgZGlz
YWJsZTogZnVuY3Rpb24oZWxlbWVudCkgewogICAgZWxlbWVudCA9ICQoZWxlbWVu
dCk7CiAgICBlbGVtZW50LmRpc2FibGVkID0gdHJ1ZTsKICAgIHJldHVybiBlbGVt
ZW50OwogIH0sCgogIGVuYWJsZTogZnVuY3Rpb24oZWxlbWVudCkgewogICAgZWxl
bWVudCA9ICQoZWxlbWVudCk7CiAgICBlbGVtZW50LmRpc2FibGVkID0gZmFsc2U7
CiAgICByZXR1cm4gZWxlbWVudDsKICB9Cn07CgovKi0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tKi8KCnZhciBGaWVsZCA9IEZvcm0uRWxlbWVudDsKdmFyICRGID0g
Rm9ybS5FbGVtZW50Lk1ldGhvZHMuZ2V0VmFsdWU7CgovKi0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tKi8KCkZvcm0uRWxlbWVudC5TZXJpYWxpemVycyA9IHsKICBp
bnB1dDogZnVuY3Rpb24oZWxlbWVudCwgdmFsdWUpIHsKICAgIHN3aXRjaCAoZWxl
bWVudC50eXBlLnRvTG93ZXJDYXNlKCkpIHsKICAgICAgY2FzZSAnY2hlY2tib3gn
OgogICAgICBjYXNlICdyYWRpbyc6CiAgICAgICAgcmV0dXJuIEZvcm0uRWxlbWVu
dC5TZXJpYWxpemVycy5pbnB1dFNlbGVjdG9yKGVsZW1lbnQsIHZhbHVlKTsKICAg
ICAgZGVmYXVsdDoKICAgICAgICByZXR1cm4gRm9ybS5FbGVtZW50LlNlcmlhbGl6
ZXJzLnRleHRhcmVhKGVsZW1lbnQsIHZhbHVlKTsKICAgIH0KICB9LAoKICBpbnB1
dFNlbGVjdG9yOiBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZSkgewogICAgaWYgKE9i
amVjdC5pc1VuZGVmaW5lZCh2YWx1ZSkpIHJldHVybiBlbGVtZW50LmNoZWNrZWQg
PyBlbGVtZW50LnZhbHVlIDogbnVsbDsKICAgIGVsc2UgZWxlbWVudC5jaGVja2Vk
ID0gISF2YWx1ZTsKICB9LAoKICB0ZXh0YXJlYTogZnVuY3Rpb24oZWxlbWVudCwg
dmFsdWUpIHsKICAgIGlmIChPYmplY3QuaXNVbmRlZmluZWQodmFsdWUpKSByZXR1
cm4gZWxlbWVudC52YWx1ZTsKICAgIGVsc2UgZWxlbWVudC52YWx1ZSA9IHZhbHVl
OwogIH0sCgogIHNlbGVjdDogZnVuY3Rpb24oZWxlbWVudCwgdmFsdWUpIHsKICAg
IGlmIChPYmplY3QuaXNVbmRlZmluZWQodmFsdWUpKQogICAgICByZXR1cm4gdGhp
c1tlbGVtZW50LnR5cGUgPT0gJ3NlbGVjdC1vbmUnID8KICAgICAgICAnc2VsZWN0
T25lJyA6ICdzZWxlY3RNYW55J10oZWxlbWVudCk7CiAgICBlbHNlIHsKICAgICAg
dmFyIG9wdCwgY3VycmVudFZhbHVlLCBzaW5nbGUgPSAhT2JqZWN0LmlzQXJyYXko
dmFsdWUpOwogICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gZWxlbWVudC5s
ZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICAgIG9wdCA9IGVsZW1lbnQu
b3B0aW9uc1tpXTsKICAgICAgICBjdXJyZW50VmFsdWUgPSB0aGlzLm9wdGlvblZh
bHVlKG9wdCk7CiAgICAgICAgaWYgKHNpbmdsZSkgewogICAgICAgICAgaWYgKGN1
cnJlbnRWYWx1ZSA9PSB2YWx1ZSkgewogICAgICAgICAgICBvcHQuc2VsZWN0ZWQg
PSB0cnVlOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CiAgICAgICAg
fQogICAgICAgIGVsc2Ugb3B0LnNlbGVjdGVkID0gdmFsdWUuaW5jbHVkZShjdXJy
ZW50VmFsdWUpOwogICAgICB9CiAgICB9CiAgfSwKCiAgc2VsZWN0T25lOiBmdW5j
dGlvbihlbGVtZW50KSB7CiAgICB2YXIgaW5kZXggPSBlbGVtZW50LnNlbGVjdGVk
SW5kZXg7CiAgICByZXR1cm4gaW5kZXggPj0gMCA/IHRoaXMub3B0aW9uVmFsdWUo
ZWxlbWVudC5vcHRpb25zW2luZGV4XSkgOiBudWxsOwogIH0sCgogIHNlbGVjdE1h
bnk6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgIHZhciB2YWx1ZXMsIGxlbmd0aCA9
IGVsZW1lbnQubGVuZ3RoOwogICAgaWYgKCFsZW5ndGgpIHJldHVybiBudWxsOwoK
ICAgIGZvciAodmFyIGkgPSAwLCB2YWx1ZXMgPSBbXTsgaSA8IGxlbmd0aDsgaSsr
KSB7CiAgICAgIHZhciBvcHQgPSBlbGVtZW50Lm9wdGlvbnNbaV07CiAgICAgIGlm
IChvcHQuc2VsZWN0ZWQpIHZhbHVlcy5wdXNoKHRoaXMub3B0aW9uVmFsdWUob3B0
KSk7CiAgICB9CiAgICByZXR1cm4gdmFsdWVzOwogIH0sCgogIG9wdGlvblZhbHVl
OiBmdW5jdGlvbihvcHQpIHsKICAgIC8vIGV4dGVuZCBlbGVtZW50IGJlY2F1c2Ug
aGFzQXR0cmlidXRlIG1heSBub3QgYmUgbmF0aXZlCiAgICByZXR1cm4gRWxlbWVu
dC5leHRlbmQob3B0KS5oYXNBdHRyaWJ1dGUoJ3ZhbHVlJykgPyBvcHQudmFsdWUg
OiBvcHQudGV4dDsKICB9Cn07CgovKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
Ki8KCkFic3RyYWN0LlRpbWVkT2JzZXJ2ZXIgPSBDbGFzcy5jcmVhdGUoUGVyaW9k
aWNhbEV4ZWN1dGVyLCB7CiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oJHN1cGVyLCBl
bGVtZW50LCBmcmVxdWVuY3ksIGNhbGxiYWNrKSB7CiAgICAkc3VwZXIoY2FsbGJh
Y2ssIGZyZXF1ZW5jeSk7CiAgICB0aGlzLmVsZW1lbnQgICA9ICQoZWxlbWVudCk7
CiAgICB0aGlzLmxhc3RWYWx1ZSA9IHRoaXMuZ2V0VmFsdWUoKTsKICB9LAoKICBl
eGVjdXRlOiBmdW5jdGlvbigpIHsKICAgIHZhciB2YWx1ZSA9IHRoaXMuZ2V0VmFs
dWUoKTsKICAgIGlmIChPYmplY3QuaXNTdHJpbmcodGhpcy5sYXN0VmFsdWUpICYm
IE9iamVjdC5pc1N0cmluZyh2YWx1ZSkgPwogICAgICAgIHRoaXMubGFzdFZhbHVl
ICE9IHZhbHVlIDogU3RyaW5nKHRoaXMubGFzdFZhbHVlKSAhPSBTdHJpbmcodmFs
dWUpKSB7CiAgICAgIHRoaXMuY2FsbGJhY2sodGhpcy5lbGVtZW50LCB2YWx1ZSk7
CiAgICAgIHRoaXMubGFzdFZhbHVlID0gdmFsdWU7CiAgICB9CiAgfQp9KTsKCkZv
cm0uRWxlbWVudC5PYnNlcnZlciA9IENsYXNzLmNyZWF0ZShBYnN0cmFjdC5UaW1l
ZE9ic2VydmVyLCB7CiAgZ2V0VmFsdWU6IGZ1bmN0aW9uKCkgewogICAgcmV0dXJu
IEZvcm0uRWxlbWVudC5nZXRWYWx1ZSh0aGlzLmVsZW1lbnQpOwogIH0KfSk7CgpG
b3JtLk9ic2VydmVyID0gQ2xhc3MuY3JlYXRlKEFic3RyYWN0LlRpbWVkT2JzZXJ2
ZXIsIHsKICBnZXRWYWx1ZTogZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gRm9ybS5z
ZXJpYWxpemUodGhpcy5lbGVtZW50KTsKICB9Cn0pOwoKLyotLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLSovCgpBYnN0cmFjdC5FdmVudE9ic2VydmVyID0gQ2xhc3Mu
Y3JlYXRlKHsKICBpbml0aWFsaXplOiBmdW5jdGlvbihlbGVtZW50LCBjYWxsYmFj
aykgewogICAgdGhpcy5lbGVtZW50ICA9ICQoZWxlbWVudCk7CiAgICB0aGlzLmNh
bGxiYWNrID0gY2FsbGJhY2s7CgogICAgdGhpcy5sYXN0VmFsdWUgPSB0aGlzLmdl
dFZhbHVlKCk7CiAgICBpZiAodGhpcy5lbGVtZW50LnRhZ05hbWUudG9Mb3dlckNh
c2UoKSA9PSAnZm9ybScpCiAgICAgIHRoaXMucmVnaXN0ZXJGb3JtQ2FsbGJhY2tz
KCk7CiAgICBlbHNlCiAgICAgIHRoaXMucmVnaXN0ZXJDYWxsYmFjayh0aGlzLmVs
ZW1lbnQpOwogIH0sCgogIG9uRWxlbWVudEV2ZW50OiBmdW5jdGlvbigpIHsKICAg
IHZhciB2YWx1ZSA9IHRoaXMuZ2V0VmFsdWUoKTsKICAgIGlmICh0aGlzLmxhc3RW
YWx1ZSAhPSB2YWx1ZSkgewogICAgICB0aGlzLmNhbGxiYWNrKHRoaXMuZWxlbWVu
dCwgdmFsdWUpOwogICAgICB0aGlzLmxhc3RWYWx1ZSA9IHZhbHVlOwogICAgfQog
IH0sCgogIHJlZ2lzdGVyRm9ybUNhbGxiYWNrczogZnVuY3Rpb24oKSB7CiAgICBG
b3JtLmdldEVsZW1lbnRzKHRoaXMuZWxlbWVudCkuZWFjaCh0aGlzLnJlZ2lzdGVy
Q2FsbGJhY2ssIHRoaXMpOwogIH0sCgogIHJlZ2lzdGVyQ2FsbGJhY2s6IGZ1bmN0
aW9uKGVsZW1lbnQpIHsKICAgIGlmIChlbGVtZW50LnR5cGUpIHsKICAgICAgc3dp
dGNoIChlbGVtZW50LnR5cGUudG9Mb3dlckNhc2UoKSkgewogICAgICAgIGNhc2Ug
J2NoZWNrYm94JzoKICAgICAgICBjYXNlICdyYWRpbyc6CiAgICAgICAgICBFdmVu
dC5vYnNlcnZlKGVsZW1lbnQsICdjbGljaycsIHRoaXMub25FbGVtZW50RXZlbnQu
YmluZCh0aGlzKSk7CiAgICAgICAgICBicmVhazsKICAgICAgICBkZWZhdWx0Ogog
ICAgICAgICAgRXZlbnQub2JzZXJ2ZShlbGVtZW50LCAnY2hhbmdlJywgdGhpcy5v
bkVsZW1lbnRFdmVudC5iaW5kKHRoaXMpKTsKICAgICAgICAgIGJyZWFrOwogICAg
ICB9CiAgICB9CiAgfQp9KTsKCkZvcm0uRWxlbWVudC5FdmVudE9ic2VydmVyID0g
Q2xhc3MuY3JlYXRlKEFic3RyYWN0LkV2ZW50T2JzZXJ2ZXIsIHsKICBnZXRWYWx1
ZTogZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gRm9ybS5FbGVtZW50LmdldFZhbHVl
KHRoaXMuZWxlbWVudCk7CiAgfQp9KTsKCkZvcm0uRXZlbnRPYnNlcnZlciA9IENs
YXNzLmNyZWF0ZShBYnN0cmFjdC5FdmVudE9ic2VydmVyLCB7CiAgZ2V0VmFsdWU6
IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIEZvcm0uc2VyaWFsaXplKHRoaXMuZWxl
bWVudCk7CiAgfQp9KTsKaWYgKCF3aW5kb3cuRXZlbnQpIHZhciBFdmVudCA9IHsg
fTsKCk9iamVjdC5leHRlbmQoRXZlbnQsIHsKICBLRVlfQkFDS1NQQUNFOiA4LAog
IEtFWV9UQUI6ICAgICAgIDksCiAgS0VZX1JFVFVSTjogICAxMywKICBLRVlfRVND
OiAgICAgIDI3LAogIEtFWV9MRUZUOiAgICAgMzcsCiAgS0VZX1VQOiAgICAgICAz
OCwKICBLRVlfUklHSFQ6ICAgIDM5LAogIEtFWV9ET1dOOiAgICAgNDAsCiAgS0VZ
X0RFTEVURTogICA0NiwKICBLRVlfSE9NRTogICAgIDM2LAogIEtFWV9FTkQ6ICAg
ICAgMzUsCiAgS0VZX1BBR0VVUDogICAzMywKICBLRVlfUEFHRURPV046IDM0LAog
IEtFWV9JTlNFUlQ6ICAgNDUsCgogIGNhY2hlOiB7IH0sCgogIHJlbGF0ZWRUYXJn
ZXQ6IGZ1bmN0aW9uKGV2ZW50KSB7CiAgICB2YXIgZWxlbWVudDsKICAgIHN3aXRj
aChldmVudC50eXBlKSB7CiAgICAgIGNhc2UgJ21vdXNlb3Zlcic6IGVsZW1lbnQg
PSBldmVudC5mcm9tRWxlbWVudDsgYnJlYWs7CiAgICAgIGNhc2UgJ21vdXNlb3V0
JzogIGVsZW1lbnQgPSBldmVudC50b0VsZW1lbnQ7ICAgYnJlYWs7CiAgICAgIGRl
ZmF1bHQ6IHJldHVybiBudWxsOwogICAgfQogICAgcmV0dXJuIEVsZW1lbnQuZXh0
ZW5kKGVsZW1lbnQpOwogIH0KfSk7CgpFdmVudC5NZXRob2RzID0gKGZ1bmN0aW9u
KCkgewogIHZhciBpc0J1dHRvbjsKCiAgaWYgKFByb3RvdHlwZS5Ccm93c2VyLklF
KSB7CiAgICB2YXIgYnV0dG9uTWFwID0geyAwOiAxLCAxOiA0LCAyOiAyIH07CiAg
ICBpc0J1dHRvbiA9IGZ1bmN0aW9uKGV2ZW50LCBjb2RlKSB7CiAgICAgIHJldHVy
biBldmVudC5idXR0b24gPT0gYnV0dG9uTWFwW2NvZGVdOwogICAgfTsKCiAgfSBl
bHNlIGlmIChQcm90b3R5cGUuQnJvd3Nlci5XZWJLaXQpIHsKICAgIGlzQnV0dG9u
ID0gZnVuY3Rpb24oZXZlbnQsIGNvZGUpIHsKICAgICAgc3dpdGNoIChjb2RlKSB7
CiAgICAgICAgY2FzZSAwOiByZXR1cm4gZXZlbnQud2hpY2ggPT0gMSAmJiAhZXZl
bnQubWV0YUtleTsKICAgICAgICBjYXNlIDE6IHJldHVybiBldmVudC53aGljaCA9
PSAxICYmIGV2ZW50Lm1ldGFLZXk7CiAgICAgICAgZGVmYXVsdDogcmV0dXJuIGZh
bHNlOwogICAgICB9CiAgICB9OwoKICB9IGVsc2UgewogICAgaXNCdXR0b24gPSBm
dW5jdGlvbihldmVudCwgY29kZSkgewogICAgICByZXR1cm4gZXZlbnQud2hpY2gg
PyAoZXZlbnQud2hpY2ggPT09IGNvZGUgKyAxKSA6IChldmVudC5idXR0b24gPT09
IGNvZGUpOwogICAgfTsKICB9CgogIHJldHVybiB7CiAgICBpc0xlZnRDbGljazog
ICBmdW5jdGlvbihldmVudCkgeyByZXR1cm4gaXNCdXR0b24oZXZlbnQsIDApIH0s
CiAgICBpc01pZGRsZUNsaWNrOiBmdW5jdGlvbihldmVudCkgeyByZXR1cm4gaXNC
dXR0b24oZXZlbnQsIDEpIH0sCiAgICBpc1JpZ2h0Q2xpY2s6ICBmdW5jdGlvbihl
dmVudCkgeyByZXR1cm4gaXNCdXR0b24oZXZlbnQsIDIpIH0sCgogICAgZWxlbWVu
dDogZnVuY3Rpb24oZXZlbnQpIHsKICAgICAgZXZlbnQgPSBFdmVudC5leHRlbmQo
ZXZlbnQpOwoKICAgICAgdmFyIG5vZGUgICAgICAgICAgPSBldmVudC50YXJnZXQs
CiAgICAgICAgICB0eXBlICAgICAgICAgID0gZXZlbnQudHlwZSwKICAgICAgICAg
IGN1cnJlbnRUYXJnZXQgPSBldmVudC5jdXJyZW50VGFyZ2V0OwoKICAgICAgaWYg
KGN1cnJlbnRUYXJnZXQgJiYgY3VycmVudFRhcmdldC50YWdOYW1lKSB7CiAgICAg
ICAgLy8gRmlyZWZveCBzY3Jld3MgdXAgdGhlICJjbGljayIgZXZlbnQgd2hlbiBt
b3ZpbmcgYmV0d2VlbiByYWRpbyBidXR0b25zCiAgICAgICAgLy8gdmlhIGFycm93
IGtleXMuIEl0IGFsc28gc2NyZXdzIHVwIHRoZSAibG9hZCIgYW5kICJlcnJvciIg
ZXZlbnRzIG9uIGltYWdlcywKICAgICAgICAvLyByZXBvcnRpbmcgdGhlIGRvY3Vt
ZW50IGFzIHRoZSB0YXJnZXQgaW5zdGVhZCBvZiB0aGUgb3JpZ2luYWwgaW1hZ2Uu
CiAgICAgICAgaWYgKHR5cGUgPT09ICdsb2FkJyB8fCB0eXBlID09PSAnZXJyb3In
IHx8CiAgICAgICAgICAodHlwZSA9PT0gJ2NsaWNrJyAmJiBjdXJyZW50VGFyZ2V0
LnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ2lucHV0JwogICAgICAgICAgICAm
JiBjdXJyZW50VGFyZ2V0LnR5cGUgPT09ICdyYWRpbycpKQogICAgICAgICAgICAg
IG5vZGUgPSBjdXJyZW50VGFyZ2V0OwogICAgICB9CiAgICAgIGlmIChub2RlLm5v
ZGVUeXBlID09IE5vZGUuVEVYVF9OT0RFKSBub2RlID0gbm9kZS5wYXJlbnROb2Rl
OwogICAgICByZXR1cm4gRWxlbWVudC5leHRlbmQobm9kZSk7CiAgICB9LAoKICAg
IGZpbmRFbGVtZW50OiBmdW5jdGlvbihldmVudCwgZXhwcmVzc2lvbikgewogICAg
ICB2YXIgZWxlbWVudCA9IEV2ZW50LmVsZW1lbnQoZXZlbnQpOwogICAgICBpZiAo
IWV4cHJlc3Npb24pIHJldHVybiBlbGVtZW50OwogICAgICB2YXIgZWxlbWVudHMg
PSBbZWxlbWVudF0uY29uY2F0KGVsZW1lbnQuYW5jZXN0b3JzKCkpOwogICAgICBy
ZXR1cm4gU2VsZWN0b3IuZmluZEVsZW1lbnQoZWxlbWVudHMsIGV4cHJlc3Npb24s
IDApOwogICAgfSwKCiAgICBwb2ludGVyOiBmdW5jdGlvbihldmVudCkgewogICAg
ICB2YXIgZG9jRWxlbWVudCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwKICAg
ICAgYm9keSA9IGRvY3VtZW50LmJvZHkgfHwgeyBzY3JvbGxMZWZ0OiAwLCBzY3Jv
bGxUb3A6IDAgfTsKICAgICAgcmV0dXJuIHsKICAgICAgICB4OiBldmVudC5wYWdl
WCB8fCAoZXZlbnQuY2xpZW50WCArCiAgICAgICAgICAoZG9jRWxlbWVudC5zY3Jv
bGxMZWZ0IHx8IGJvZHkuc2Nyb2xsTGVmdCkgLQogICAgICAgICAgKGRvY0VsZW1l
bnQuY2xpZW50TGVmdCB8fCAwKSksCiAgICAgICAgeTogZXZlbnQucGFnZVkgfHwg
KGV2ZW50LmNsaWVudFkgKwogICAgICAgICAgKGRvY0VsZW1lbnQuc2Nyb2xsVG9w
IHx8IGJvZHkuc2Nyb2xsVG9wKSAtCiAgICAgICAgICAoZG9jRWxlbWVudC5jbGll
bnRUb3AgfHwgMCkpCiAgICAgIH07CiAgICB9LAoKICAgIHBvaW50ZXJYOiBmdW5j
dGlvbihldmVudCkgeyByZXR1cm4gRXZlbnQucG9pbnRlcihldmVudCkueCB9LAog
ICAgcG9pbnRlclk6IGZ1bmN0aW9uKGV2ZW50KSB7IHJldHVybiBFdmVudC5wb2lu
dGVyKGV2ZW50KS55IH0sCgogICAgc3RvcDogZnVuY3Rpb24oZXZlbnQpIHsKICAg
ICAgRXZlbnQuZXh0ZW5kKGV2ZW50KTsKICAgICAgZXZlbnQucHJldmVudERlZmF1
bHQoKTsKICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgIGV2ZW50
LnN0b3BwZWQgPSB0cnVlOwogICAgfQogIH07Cn0pKCk7CgpFdmVudC5leHRlbmQg
PSAoZnVuY3Rpb24oKSB7CiAgdmFyIG1ldGhvZHMgPSBPYmplY3Qua2V5cyhFdmVu
dC5NZXRob2RzKS5pbmplY3QoeyB9LCBmdW5jdGlvbihtLCBuYW1lKSB7CiAgICBt
W25hbWVdID0gRXZlbnQuTWV0aG9kc1tuYW1lXS5tZXRob2RpemUoKTsKICAgIHJl
dHVybiBtOwogIH0pOwoKICBpZiAoUHJvdG90eXBlLkJyb3dzZXIuSUUpIHsKICAg
IE9iamVjdC5leHRlbmQobWV0aG9kcywgewogICAgICBzdG9wUHJvcGFnYXRpb246
IGZ1bmN0aW9uKCkgeyB0aGlzLmNhbmNlbEJ1YmJsZSA9IHRydWUgfSwKICAgICAg
cHJldmVudERlZmF1bHQ6ICBmdW5jdGlvbigpIHsgdGhpcy5yZXR1cm5WYWx1ZSA9
IGZhbHNlIH0sCiAgICAgIGluc3BlY3Q6IGZ1bmN0aW9uKCkgeyByZXR1cm4gIltv
YmplY3QgRXZlbnRdIiB9CiAgICB9KTsKCiAgICByZXR1cm4gZnVuY3Rpb24oZXZl
bnQpIHsKICAgICAgaWYgKCFldmVudCkgcmV0dXJuIGZhbHNlOwogICAgICBpZiAo
ZXZlbnQuX2V4dGVuZGVkQnlQcm90b3R5cGUpIHJldHVybiBldmVudDsKCiAgICAg
IGV2ZW50Ll9leHRlbmRlZEJ5UHJvdG90eXBlID0gUHJvdG90eXBlLmVtcHR5RnVu
Y3Rpb247CiAgICAgIHZhciBwb2ludGVyID0gRXZlbnQucG9pbnRlcihldmVudCk7
CiAgICAgIE9iamVjdC5leHRlbmQoZXZlbnQsIHsKICAgICAgICB0YXJnZXQ6IGV2
ZW50LnNyY0VsZW1lbnQsCiAgICAgICAgcmVsYXRlZFRhcmdldDogRXZlbnQucmVs
YXRlZFRhcmdldChldmVudCksCiAgICAgICAgcGFnZVg6ICBwb2ludGVyLngsCiAg
ICAgICAgcGFnZVk6ICBwb2ludGVyLnkKICAgICAgfSk7CiAgICAgIHJldHVybiBP
YmplY3QuZXh0ZW5kKGV2ZW50LCBtZXRob2RzKTsKICAgIH07CgogIH0gZWxzZSB7
CiAgICBFdmVudC5wcm90b3R5cGUgPSBFdmVudC5wcm90b3R5cGUgfHwgZG9jdW1l
bnQuY3JlYXRlRXZlbnQoIkhUTUxFdmVudHMiKVsnX19wcm90b19fJ107CiAgICBP
YmplY3QuZXh0ZW5kKEV2ZW50LnByb3RvdHlwZSwgbWV0aG9kcyk7CiAgICByZXR1
cm4gUHJvdG90eXBlLks7CiAgfQp9KSgpOwoKT2JqZWN0LmV4dGVuZChFdmVudCwg
KGZ1bmN0aW9uKCkgewogIHZhciBjYWNoZSA9IEV2ZW50LmNhY2hlOwoKICBmdW5j
dGlvbiBnZXRFdmVudElEKGVsZW1lbnQpIHsKICAgIGlmIChlbGVtZW50Ll9wcm90
b3R5cGVFdmVudElEKSByZXR1cm4gZWxlbWVudC5fcHJvdG90eXBlRXZlbnRJRFsw
XTsKICAgIGFyZ3VtZW50cy5jYWxsZWUuaWQgPSBhcmd1bWVudHMuY2FsbGVlLmlk
IHx8IDE7CiAgICByZXR1cm4gZWxlbWVudC5fcHJvdG90eXBlRXZlbnRJRCA9IFsr
K2FyZ3VtZW50cy5jYWxsZWUuaWRdOwogIH0KCiAgZnVuY3Rpb24gZ2V0RE9NRXZl
bnROYW1lKGV2ZW50TmFtZSkgewogICAgaWYgKGV2ZW50TmFtZSAmJiBldmVudE5h
bWUuaW5jbHVkZSgnOicpKSByZXR1cm4gImRhdGFhdmFpbGFibGUiOwogICAgcmV0
dXJuIGV2ZW50TmFtZTsKICB9CgogIGZ1bmN0aW9uIGdldENhY2hlRm9ySUQoaWQp
IHsKICAgIHJldHVybiBjYWNoZVtpZF0gPSBjYWNoZVtpZF0gfHwgeyB9OwogIH0K
CiAgZnVuY3Rpb24gZ2V0V3JhcHBlcnNGb3JFdmVudE5hbWUoaWQsIGV2ZW50TmFt
ZSkgewogICAgdmFyIGMgPSBnZXRDYWNoZUZvcklEKGlkKTsKICAgIHJldHVybiBj
W2V2ZW50TmFtZV0gPSBjW2V2ZW50TmFtZV0gfHwgW107CiAgfQoKICBmdW5jdGlv
biBjcmVhdGVXcmFwcGVyKGVsZW1lbnQsIGV2ZW50TmFtZSwgaGFuZGxlcikgewog
ICAgdmFyIGlkID0gZ2V0RXZlbnRJRChlbGVtZW50KTsKICAgIHZhciBjID0gZ2V0
V3JhcHBlcnNGb3JFdmVudE5hbWUoaWQsIGV2ZW50TmFtZSk7CiAgICBpZiAoYy5w
bHVjaygiaGFuZGxlciIpLmluY2x1ZGUoaGFuZGxlcikpIHJldHVybiBmYWxzZTsK
CiAgICB2YXIgd3JhcHBlciA9IGZ1bmN0aW9uKGV2ZW50KSB7CiAgICAgIGlmICgh
RXZlbnQgfHwgIUV2ZW50LmV4dGVuZCB8fAogICAgICAgIChldmVudC5ldmVudE5h
bWUgJiYgZXZlbnQuZXZlbnROYW1lICE9IGV2ZW50TmFtZSkpCiAgICAgICAgICBy
ZXR1cm4gZmFsc2U7CgogICAgICBFdmVudC5leHRlbmQoZXZlbnQpOwogICAgICBo
YW5kbGVyLmNhbGwoZWxlbWVudCwgZXZlbnQpOwogICAgfTsKCiAgICB3cmFwcGVy
LmhhbmRsZXIgPSBoYW5kbGVyOwogICAgYy5wdXNoKHdyYXBwZXIpOwogICAgcmV0
dXJuIHdyYXBwZXI7CiAgfQoKICBmdW5jdGlvbiBmaW5kV3JhcHBlcihpZCwgZXZl
bnROYW1lLCBoYW5kbGVyKSB7CiAgICB2YXIgYyA9IGdldFdyYXBwZXJzRm9yRXZl
bnROYW1lKGlkLCBldmVudE5hbWUpOwogICAgcmV0dXJuIGMuZmluZChmdW5jdGlv
bih3cmFwcGVyKSB7IHJldHVybiB3cmFwcGVyLmhhbmRsZXIgPT0gaGFuZGxlciB9
KTsKICB9CgogIGZ1bmN0aW9uIGRlc3Ryb3lXcmFwcGVyKGlkLCBldmVudE5hbWUs
IGhhbmRsZXIpIHsKICAgIHZhciBjID0gZ2V0Q2FjaGVGb3JJRChpZCk7CiAgICBp
ZiAoIWNbZXZlbnROYW1lXSkgcmV0dXJuIGZhbHNlOwogICAgY1tldmVudE5hbWVd
ID0gY1tldmVudE5hbWVdLndpdGhvdXQoZmluZFdyYXBwZXIoaWQsIGV2ZW50TmFt
ZSwgaGFuZGxlcikpOwogIH0KCiAgZnVuY3Rpb24gZGVzdHJveUNhY2hlKCkgewog
ICAgZm9yICh2YXIgaWQgaW4gY2FjaGUpCiAgICAgIGZvciAodmFyIGV2ZW50TmFt
ZSBpbiBjYWNoZVtpZF0pCiAgICAgICAgY2FjaGVbaWRdW2V2ZW50TmFtZV0gPSBu
dWxsOwogIH0KCgogIC8vIEludGVybmV0IEV4cGxvcmVyIG5lZWRzIHRvIHJlbW92
ZSBldmVudCBoYW5kbGVycyBvbiBwYWdlIHVubG9hZAogIC8vIGluIG9yZGVyIHRv
IGF2b2lkIG1lbW9yeSBsZWFrcy4KICBpZiAod2luZG93LmF0dGFjaEV2ZW50KSB7
CiAgICB3aW5kb3cuYXR0YWNoRXZlbnQoIm9udW5sb2FkIiwgZGVzdHJveUNhY2hl
KTsKICB9CgogIC8vIFNhZmFyaSBoYXMgYSBkdW1teSBldmVudCBoYW5kbGVyIG9u
IHBhZ2UgdW5sb2FkIHNvIHRoYXQgaXQgd29uJ3QKICAvLyB1c2UgaXRzIGJmY2Fj
aGUuIFNhZmFyaSA8PSAzLjEgaGFzIGFuIGlzc3VlIHdpdGggcmVzdG9yaW5nIHRo
ZSAiZG9jdW1lbnQiCiAgLy8gb2JqZWN0IHdoZW4gcGFnZSBpcyByZXR1cm5lZCB0
byB2aWEgdGhlIGJhY2sgYnV0dG9uIHVzaW5nIGl0cyBiZmNhY2hlLgogIGlmIChQ
cm90b3R5cGUuQnJvd3Nlci5XZWJLaXQpIHsKICAgIHdpbmRvdy5hZGRFdmVudExp
c3RlbmVyKCd1bmxvYWQnLCBQcm90b3R5cGUuZW1wdHlGdW5jdGlvbiwgZmFsc2Up
OwogIH0KCiAgcmV0dXJuIHsKICAgIG9ic2VydmU6IGZ1bmN0aW9uKGVsZW1lbnQs
IGV2ZW50TmFtZSwgaGFuZGxlcikgewogICAgICBlbGVtZW50ID0gJChlbGVtZW50
KTsKICAgICAgdmFyIG5hbWUgPSBnZXRET01FdmVudE5hbWUoZXZlbnROYW1lKTsK
CiAgICAgIHZhciB3cmFwcGVyID0gY3JlYXRlV3JhcHBlcihlbGVtZW50LCBldmVu
dE5hbWUsIGhhbmRsZXIpOwogICAgICBpZiAoIXdyYXBwZXIpIHJldHVybiBlbGVt
ZW50OwoKICAgICAgaWYgKGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcikgewogICAg
ICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihuYW1lLCB3cmFwcGVyLCBmYWxz
ZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZWxlbWVudC5hdHRhY2hFdmVudCgi
b24iICsgbmFtZSwgd3JhcHBlcik7CiAgICAgIH0KCiAgICAgIHJldHVybiBlbGVt
ZW50OwogICAgfSwKCiAgICBzdG9wT2JzZXJ2aW5nOiBmdW5jdGlvbihlbGVtZW50
LCBldmVudE5hbWUsIGhhbmRsZXIpIHsKICAgICAgZWxlbWVudCA9ICQoZWxlbWVu
dCk7CiAgICAgIHZhciBpZCA9IGdldEV2ZW50SUQoZWxlbWVudCksIG5hbWUgPSBn
ZXRET01FdmVudE5hbWUoZXZlbnROYW1lKTsKCiAgICAgIGlmICghaGFuZGxlciAm
JiBldmVudE5hbWUpIHsKICAgICAgICBnZXRXcmFwcGVyc0ZvckV2ZW50TmFtZShp
ZCwgZXZlbnROYW1lKS5lYWNoKGZ1bmN0aW9uKHdyYXBwZXIpIHsKICAgICAgICAg
IGVsZW1lbnQuc3RvcE9ic2VydmluZyhldmVudE5hbWUsIHdyYXBwZXIuaGFuZGxl
cik7CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7CgogICAgICB9
IGVsc2UgaWYgKCFldmVudE5hbWUpIHsKICAgICAgICBPYmplY3Qua2V5cyhnZXRD
YWNoZUZvcklEKGlkKSkuZWFjaChmdW5jdGlvbihldmVudE5hbWUpIHsKICAgICAg
ICAgIGVsZW1lbnQuc3RvcE9ic2VydmluZyhldmVudE5hbWUpOwogICAgICAgIH0p
OwogICAgICAgIHJldHVybiBlbGVtZW50OwogICAgICB9CgogICAgICB2YXIgd3Jh
cHBlciA9IGZpbmRXcmFwcGVyKGlkLCBldmVudE5hbWUsIGhhbmRsZXIpOwogICAg
ICBpZiAoIXdyYXBwZXIpIHJldHVybiBlbGVtZW50OwoKICAgICAgaWYgKGVsZW1l
bnQucmVtb3ZlRXZlbnRMaXN0ZW5lcikgewogICAgICAgIGVsZW1lbnQucmVtb3Zl
RXZlbnRMaXN0ZW5lcihuYW1lLCB3cmFwcGVyLCBmYWxzZSk7CiAgICAgIH0gZWxz
ZSB7CiAgICAgICAgZWxlbWVudC5kZXRhY2hFdmVudCgib24iICsgbmFtZSwgd3Jh
cHBlcik7CiAgICAgIH0KCiAgICAgIGRlc3Ryb3lXcmFwcGVyKGlkLCBldmVudE5h
bWUsIGhhbmRsZXIpOwoKICAgICAgcmV0dXJuIGVsZW1lbnQ7CiAgICB9LAoKICAg
IGZpcmU6IGZ1bmN0aW9uKGVsZW1lbnQsIGV2ZW50TmFtZSwgbWVtbykgewogICAg
ICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgICAgaWYgKGVsZW1lbnQgPT0gZG9j
dW1lbnQgJiYgZG9jdW1lbnQuY3JlYXRlRXZlbnQgJiYgIWVsZW1lbnQuZGlzcGF0
Y2hFdmVudCkKICAgICAgICBlbGVtZW50ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVt
ZW50OwoKICAgICAgdmFyIGV2ZW50OwogICAgICBpZiAoZG9jdW1lbnQuY3JlYXRl
RXZlbnQpIHsKICAgICAgICBldmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCJI
VE1MRXZlbnRzIik7CiAgICAgICAgZXZlbnQuaW5pdEV2ZW50KCJkYXRhYXZhaWxh
YmxlIiwgdHJ1ZSwgdHJ1ZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZXZlbnQg
PSBkb2N1bWVudC5jcmVhdGVFdmVudE9iamVjdCgpOwogICAgICAgIGV2ZW50LmV2
ZW50VHlwZSA9ICJvbmRhdGFhdmFpbGFibGUiOwogICAgICB9CgogICAgICBldmVu
dC5ldmVudE5hbWUgPSBldmVudE5hbWU7CiAgICAgIGV2ZW50Lm1lbW8gPSBtZW1v
IHx8IHsgfTsKCiAgICAgIGlmIChkb2N1bWVudC5jcmVhdGVFdmVudCkgewogICAg
ICAgIGVsZW1lbnQuZGlzcGF0Y2hFdmVudChldmVudCk7CiAgICAgIH0gZWxzZSB7
CiAgICAgICAgZWxlbWVudC5maXJlRXZlbnQoZXZlbnQuZXZlbnRUeXBlLCBldmVu
dCk7CiAgICAgIH0KCiAgICAgIHJldHVybiBFdmVudC5leHRlbmQoZXZlbnQpOwog
ICAgfQogIH07Cn0pKCkpOwoKT2JqZWN0LmV4dGVuZChFdmVudCwgRXZlbnQuTWV0
aG9kcyk7CgpFbGVtZW50LmFkZE1ldGhvZHMoewogIGZpcmU6ICAgICAgICAgIEV2
ZW50LmZpcmUsCiAgb2JzZXJ2ZTogICAgICAgRXZlbnQub2JzZXJ2ZSwKICBzdG9w
T2JzZXJ2aW5nOiBFdmVudC5zdG9wT2JzZXJ2aW5nCn0pOwoKT2JqZWN0LmV4dGVu
ZChkb2N1bWVudCwgewogIGZpcmU6ICAgICAgICAgIEVsZW1lbnQuTWV0aG9kcy5m
aXJlLm1ldGhvZGl6ZSgpLAogIG9ic2VydmU6ICAgICAgIEVsZW1lbnQuTWV0aG9k
cy5vYnNlcnZlLm1ldGhvZGl6ZSgpLAogIHN0b3BPYnNlcnZpbmc6IEVsZW1lbnQu
TWV0aG9kcy5zdG9wT2JzZXJ2aW5nLm1ldGhvZGl6ZSgpLAogIGxvYWRlZDogICAg
ICAgIGZhbHNlCn0pOwoKKGZ1bmN0aW9uKCkgewogIC8qIFN1cHBvcnQgZm9yIHRo
ZSBET01Db250ZW50TG9hZGVkIGV2ZW50IGlzIGJhc2VkIG9uIHdvcmsgYnkgRGFu
IFdlYmIsCiAgICAgTWF0dGhpYXMgTWlsbGVyLCBEZWFuIEVkd2FyZHMgYW5kIEpv
aG4gUmVzaWcuICovCgogIHZhciB0aW1lcjsKCiAgZnVuY3Rpb24gZmlyZUNvbnRl
bnRMb2FkZWRFdmVudCgpIHsKICAgIGlmIChkb2N1bWVudC5sb2FkZWQpIHJldHVy
bjsKICAgIGlmICh0aW1lcikgd2luZG93LmNsZWFySW50ZXJ2YWwodGltZXIpOwog
ICAgZG9jdW1lbnQuZmlyZSgiZG9tOmxvYWRlZCIpOwogICAgZG9jdW1lbnQubG9h
ZGVkID0gdHJ1ZTsKICB9CgogIGlmIChkb2N1bWVudC5hZGRFdmVudExpc3RlbmVy
KSB7CiAgICBpZiAoUHJvdG90eXBlLkJyb3dzZXIuV2ViS2l0KSB7CiAgICAgIHRp
bWVyID0gd2luZG93LnNldEludGVydmFsKGZ1bmN0aW9uKCkgewogICAgICAgIGlm
ICgvbG9hZGVkfGNvbXBsZXRlLy50ZXN0KGRvY3VtZW50LnJlYWR5U3RhdGUpKQog
ICAgICAgICAgZmlyZUNvbnRlbnRMb2FkZWRFdmVudCgpOwogICAgICB9LCAwKTsK
CiAgICAgIEV2ZW50Lm9ic2VydmUod2luZG93LCAibG9hZCIsIGZpcmVDb250ZW50
TG9hZGVkRXZlbnQpOwoKICAgIH0gZWxzZSB7CiAgICAgIGRvY3VtZW50LmFkZEV2
ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLAogICAgICAgIGZpcmVDb250
ZW50TG9hZGVkRXZlbnQsIGZhbHNlKTsKICAgIH0KCiAgfSBlbHNlIHsKICAgIGRv
Y3VtZW50LndyaXRlKCI8c2NyaXB0IGlkPV9fb25ET01Db250ZW50TG9hZGVkIGRl
ZmVyIHNyYz0vLzo+PFwvc2NyaXB0PiIpOwogICAgJCgiX19vbkRPTUNvbnRlbnRM
b2FkZWQiKS5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHsKICAgICAg
aWYgKHRoaXMucmVhZHlTdGF0ZSA9PSAiY29tcGxldGUiKSB7CiAgICAgICAgdGhp
cy5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBudWxsOwogICAgICAgIGZpcmVDb250ZW50
TG9hZGVkRXZlbnQoKTsKICAgICAgfQogICAgfTsKICB9Cn0pKCk7Ci8qLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBERVBSRUNBVEVEIC0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0qLwoKSGFzaC50b1F1ZXJ5U3RyaW5nID0gT2Jq
ZWN0LnRvUXVlcnlTdHJpbmc7Cgp2YXIgVG9nZ2xlID0geyBkaXNwbGF5OiBFbGVt
ZW50LnRvZ2dsZSB9OwoKRWxlbWVudC5NZXRob2RzLmNoaWxkT2YgPSBFbGVtZW50
Lk1ldGhvZHMuZGVzY2VuZGFudE9mOwoKdmFyIEluc2VydGlvbiA9IHsKICBCZWZv
cmU6IGZ1bmN0aW9uKGVsZW1lbnQsIGNvbnRlbnQpIHsKICAgIHJldHVybiBFbGVt
ZW50Lmluc2VydChlbGVtZW50LCB7YmVmb3JlOmNvbnRlbnR9KTsKICB9LAoKICBU
b3A6IGZ1bmN0aW9uKGVsZW1lbnQsIGNvbnRlbnQpIHsKICAgIHJldHVybiBFbGVt
ZW50Lmluc2VydChlbGVtZW50LCB7dG9wOmNvbnRlbnR9KTsKICB9LAoKICBCb3R0
b206IGZ1bmN0aW9uKGVsZW1lbnQsIGNvbnRlbnQpIHsKICAgIHJldHVybiBFbGVt
ZW50Lmluc2VydChlbGVtZW50LCB7Ym90dG9tOmNvbnRlbnR9KTsKICB9LAoKICBB
ZnRlcjogZnVuY3Rpb24oZWxlbWVudCwgY29udGVudCkgewogICAgcmV0dXJuIEVs
ZW1lbnQuaW5zZXJ0KGVsZW1lbnQsIHthZnRlcjpjb250ZW50fSk7CiAgfQp9OwoK
dmFyICRjb250aW51ZSA9IG5ldyBFcnJvcignInRocm93ICRjb250aW51ZSIgaXMg
ZGVwcmVjYXRlZCwgdXNlICJyZXR1cm4iIGluc3RlYWQnKTsKCi8vIFRoaXMgc2hv
dWxkIGJlIG1vdmVkIHRvIHNjcmlwdC5hY3Vsby51czsgbm90aWNlIHRoZSBkZXBy
ZWNhdGVkIG1ldGhvZHMKLy8gZnVydGhlciBiZWxvdywgdGhhdCBtYXAgdG8gdGhl
IG5ld2VyIEVsZW1lbnQgbWV0aG9kcy4KdmFyIFBvc2l0aW9uID0gewogIC8vIHNl
dCB0byB0cnVlIGlmIG5lZWRlZCwgd2FybmluZzogZmlyZWZveCBwZXJmb3JtYW5j
ZSBwcm9ibGVtcwogIC8vIE5PVCBuZWVlZGVkIGZvciBwYWdlIHNjcm9sbGluZywg
b25seSBpZiBkcmFnZ2FibGUgY29udGFpbmVkIGluCiAgLy8gc2Nyb2xsYWJsZSBl
bGVtZW50cwogIGluY2x1ZGVTY3JvbGxPZmZzZXRzOiBmYWxzZSwKCiAgLy8gbXVz
dCBiZSBjYWxsZWQgYmVmb3JlIGNhbGxpbmcgd2l0aGluSW5jbHVkaW5nU2Nyb2xs
b2Zmc2V0LCBldmVyeSB0aW1lIHRoZQogIC8vIHBhZ2UgaXMgc2Nyb2xsZWQKICBw
cmVwYXJlOiBmdW5jdGlvbigpIHsKICAgIHRoaXMuZGVsdGFYID0gIHdpbmRvdy5w
YWdlWE9mZnNldAogICAgICAgICAgICAgICAgfHwgZG9jdW1lbnQuZG9jdW1lbnRF
bGVtZW50LnNjcm9sbExlZnQKICAgICAgICAgICAgICAgIHx8IGRvY3VtZW50LmJv
ZHkuc2Nyb2xsTGVmdAogICAgICAgICAgICAgICAgfHwgMDsKICAgIHRoaXMuZGVs
dGFZID0gIHdpbmRvdy5wYWdlWU9mZnNldAogICAgICAgICAgICAgICAgfHwgZG9j
dW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcAogICAgICAgICAgICAgICAg
fHwgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AKICAgICAgICAgICAgICAgIHx8IDA7
CiAgfSwKCiAgLy8gY2FjaGVzIHgveSBjb29yZGluYXRlIHBhaXIgdG8gdXNlIHdp
dGggb3ZlcmxhcAogIHdpdGhpbjogZnVuY3Rpb24oZWxlbWVudCwgeCwgeSkgewog
ICAgaWYgKHRoaXMuaW5jbHVkZVNjcm9sbE9mZnNldHMpCiAgICAgIHJldHVybiB0
aGlzLndpdGhpbkluY2x1ZGluZ1Njcm9sbG9mZnNldHMoZWxlbWVudCwgeCwgeSk7
CiAgICB0aGlzLnhjb21wID0geDsKICAgIHRoaXMueWNvbXAgPSB5OwogICAgdGhp
cy5vZmZzZXQgPSBFbGVtZW50LmN1bXVsYXRpdmVPZmZzZXQoZWxlbWVudCk7Cgog
ICAgcmV0dXJuICh5ID49IHRoaXMub2Zmc2V0WzFdICYmCiAgICAgICAgICAgIHkg
PCAgdGhpcy5vZmZzZXRbMV0gKyBlbGVtZW50Lm9mZnNldEhlaWdodCAmJgogICAg
ICAgICAgICB4ID49IHRoaXMub2Zmc2V0WzBdICYmCiAgICAgICAgICAgIHggPCAg
dGhpcy5vZmZzZXRbMF0gKyBlbGVtZW50Lm9mZnNldFdpZHRoKTsKICB9LAoKICB3
aXRoaW5JbmNsdWRpbmdTY3JvbGxvZmZzZXRzOiBmdW5jdGlvbihlbGVtZW50LCB4
LCB5KSB7CiAgICB2YXIgb2Zmc2V0Y2FjaGUgPSBFbGVtZW50LmN1bXVsYXRpdmVT
Y3JvbGxPZmZzZXQoZWxlbWVudCk7CgogICAgdGhpcy54Y29tcCA9IHggKyBvZmZz
ZXRjYWNoZVswXSAtIHRoaXMuZGVsdGFYOwogICAgdGhpcy55Y29tcCA9IHkgKyBv
ZmZzZXRjYWNoZVsxXSAtIHRoaXMuZGVsdGFZOwogICAgdGhpcy5vZmZzZXQgPSBF
bGVtZW50LmN1bXVsYXRpdmVPZmZzZXQoZWxlbWVudCk7CgogICAgcmV0dXJuICh0
aGlzLnljb21wID49IHRoaXMub2Zmc2V0WzFdICYmCiAgICAgICAgICAgIHRoaXMu
eWNvbXAgPCAgdGhpcy5vZmZzZXRbMV0gKyBlbGVtZW50Lm9mZnNldEhlaWdodCAm
JgogICAgICAgICAgICB0aGlzLnhjb21wID49IHRoaXMub2Zmc2V0WzBdICYmCiAg
ICAgICAgICAgIHRoaXMueGNvbXAgPCAgdGhpcy5vZmZzZXRbMF0gKyBlbGVtZW50
Lm9mZnNldFdpZHRoKTsKICB9LAoKICAvLyB3aXRoaW4gbXVzdCBiZSBjYWxsZWQg
ZGlyZWN0bHkgYmVmb3JlCiAgb3ZlcmxhcDogZnVuY3Rpb24obW9kZSwgZWxlbWVu
dCkgewogICAgaWYgKCFtb2RlKSByZXR1cm4gMDsKICAgIGlmIChtb2RlID09ICd2
ZXJ0aWNhbCcpCiAgICAgIHJldHVybiAoKHRoaXMub2Zmc2V0WzFdICsgZWxlbWVu
dC5vZmZzZXRIZWlnaHQpIC0gdGhpcy55Y29tcCkgLwogICAgICAgIGVsZW1lbnQu
b2Zmc2V0SGVpZ2h0OwogICAgaWYgKG1vZGUgPT0gJ2hvcml6b250YWwnKQogICAg
ICByZXR1cm4gKCh0aGlzLm9mZnNldFswXSArIGVsZW1lbnQub2Zmc2V0V2lkdGgp
IC0gdGhpcy54Y29tcCkgLwogICAgICAgIGVsZW1lbnQub2Zmc2V0V2lkdGg7CiAg
fSwKCiAgLy8gRGVwcmVjYXRpb24gbGF5ZXIgLS0gdXNlIG5ld2VyIEVsZW1lbnQg
bWV0aG9kcyBub3cgKDEuNS4yKS4KCiAgY3VtdWxhdGl2ZU9mZnNldDogRWxlbWVu
dC5NZXRob2RzLmN1bXVsYXRpdmVPZmZzZXQsCgogIHBvc2l0aW9uZWRPZmZzZXQ6
IEVsZW1lbnQuTWV0aG9kcy5wb3NpdGlvbmVkT2Zmc2V0LAoKICBhYnNvbHV0aXpl
OiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICBQb3NpdGlvbi5wcmVwYXJlKCk7CiAg
ICByZXR1cm4gRWxlbWVudC5hYnNvbHV0aXplKGVsZW1lbnQpOwogIH0sCgogIHJl
bGF0aXZpemU6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgIFBvc2l0aW9uLnByZXBh
cmUoKTsKICAgIHJldHVybiBFbGVtZW50LnJlbGF0aXZpemUoZWxlbWVudCk7CiAg
fSwKCiAgcmVhbE9mZnNldDogRWxlbWVudC5NZXRob2RzLmN1bXVsYXRpdmVTY3Jv
bGxPZmZzZXQsCgogIG9mZnNldFBhcmVudDogRWxlbWVudC5NZXRob2RzLmdldE9m
ZnNldFBhcmVudCwKCiAgcGFnZTogRWxlbWVudC5NZXRob2RzLnZpZXdwb3J0T2Zm
c2V0LAoKICBjbG9uZTogZnVuY3Rpb24oc291cmNlLCB0YXJnZXQsIG9wdGlvbnMp
IHsKICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgfTsKICAgIHJldHVybiBFbGVt
ZW50LmNsb25lUG9zaXRpb24odGFyZ2V0LCBzb3VyY2UsIG9wdGlvbnMpOwogIH0K
fTsKCi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLwoKaWYgKCFkb2N1bWVu
dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKSBkb2N1bWVudC5nZXRFbGVtZW50c0J5
Q2xhc3NOYW1lID0gZnVuY3Rpb24oaW5zdGFuY2VNZXRob2RzKXsKICBmdW5jdGlv
biBpdGVyKG5hbWUpIHsKICAgIHJldHVybiBuYW1lLmJsYW5rKCkgPyBudWxsIDog
Iltjb250YWlucyhjb25jYXQoJyAnLCBAY2xhc3MsICcgJyksICcgIiArIG5hbWUg
KyAiICcpXSI7CiAgfQoKICBpbnN0YW5jZU1ldGhvZHMuZ2V0RWxlbWVudHNCeUNs
YXNzTmFtZSA9IFByb3RvdHlwZS5Ccm93c2VyRmVhdHVyZXMuWFBhdGggPwogIGZ1
bmN0aW9uKGVsZW1lbnQsIGNsYXNzTmFtZSkgewogICAgY2xhc3NOYW1lID0gY2xh
c3NOYW1lLnRvU3RyaW5nKCkuc3RyaXAoKTsKICAgIHZhciBjb25kID0gL1xzLy50
ZXN0KGNsYXNzTmFtZSkgPyAkdyhjbGFzc05hbWUpLm1hcChpdGVyKS5qb2luKCcn
KSA6IGl0ZXIoY2xhc3NOYW1lKTsKICAgIHJldHVybiBjb25kID8gZG9jdW1lbnQu
X2dldEVsZW1lbnRzQnlYUGF0aCgnLi8vKicgKyBjb25kLCBlbGVtZW50KSA6IFtd
OwogIH0gOiBmdW5jdGlvbihlbGVtZW50LCBjbGFzc05hbWUpIHsKICAgIGNsYXNz
TmFtZSA9IGNsYXNzTmFtZS50b1N0cmluZygpLnN0cmlwKCk7CiAgICB2YXIgZWxl
bWVudHMgPSBbXSwgY2xhc3NOYW1lcyA9ICgvXHMvLnRlc3QoY2xhc3NOYW1lKSA/
ICR3KGNsYXNzTmFtZSkgOiBudWxsKTsKICAgIGlmICghY2xhc3NOYW1lcyAmJiAh
Y2xhc3NOYW1lKSByZXR1cm4gZWxlbWVudHM7CgogICAgdmFyIG5vZGVzID0gJChl
bGVtZW50KS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnKicpOwogICAgY2xhc3NOYW1l
ID0gJyAnICsgY2xhc3NOYW1lICsgJyAnOwoKICAgIGZvciAodmFyIGkgPSAwLCBj
aGlsZCwgY247IGNoaWxkID0gbm9kZXNbaV07IGkrKykgewogICAgICBpZiAoY2hp
bGQuY2xhc3NOYW1lICYmIChjbiA9ICcgJyArIGNoaWxkLmNsYXNzTmFtZSArICcg
JykgJiYgKGNuLmluY2x1ZGUoY2xhc3NOYW1lKSB8fAogICAgICAgICAgKGNsYXNz
TmFtZXMgJiYgY2xhc3NOYW1lcy5hbGwoZnVuY3Rpb24obmFtZSkgewogICAgICAg
ICAgICByZXR1cm4gIW5hbWUudG9TdHJpbmcoKS5ibGFuaygpICYmIGNuLmluY2x1
ZGUoJyAnICsgbmFtZSArICcgJyk7CiAgICAgICAgICB9KSkpKQogICAgICAgIGVs
ZW1lbnRzLnB1c2goRWxlbWVudC5leHRlbmQoY2hpbGQpKTsKICAgIH0KICAgIHJl
dHVybiBlbGVtZW50czsKICB9OwoKICByZXR1cm4gZnVuY3Rpb24oY2xhc3NOYW1l
LCBwYXJlbnRFbGVtZW50KSB7CiAgICByZXR1cm4gJChwYXJlbnRFbGVtZW50IHx8
IGRvY3VtZW50LmJvZHkpLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoY2xhc3NOYW1l
KTsKICB9Owp9KEVsZW1lbnQuTWV0aG9kcyk7CgovKi0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tKi8KCkVsZW1lbnQuQ2xhc3NOYW1lcyA9IENsYXNzLmNyZWF0ZSgp
OwpFbGVtZW50LkNsYXNzTmFtZXMucHJvdG90eXBlID0gewogIGluaXRpYWxpemU6
IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgIHRoaXMuZWxlbWVudCA9ICQoZWxlbWVu
dCk7CiAgfSwKCiAgX2VhY2g6IGZ1bmN0aW9uKGl0ZXJhdG9yKSB7CiAgICB0aGlz
LmVsZW1lbnQuY2xhc3NOYW1lLnNwbGl0KC9ccysvKS5zZWxlY3QoZnVuY3Rpb24o
bmFtZSkgewogICAgICByZXR1cm4gbmFtZS5sZW5ndGggPiAwOwogICAgfSkuX2Vh
Y2goaXRlcmF0b3IpOwogIH0sCgogIHNldDogZnVuY3Rpb24oY2xhc3NOYW1lKSB7
CiAgICB0aGlzLmVsZW1lbnQuY2xhc3NOYW1lID0gY2xhc3NOYW1lOwogIH0sCgog
IGFkZDogZnVuY3Rpb24oY2xhc3NOYW1lVG9BZGQpIHsKICAgIGlmICh0aGlzLmlu
Y2x1ZGUoY2xhc3NOYW1lVG9BZGQpKSByZXR1cm47CiAgICB0aGlzLnNldCgkQSh0
aGlzKS5jb25jYXQoY2xhc3NOYW1lVG9BZGQpLmpvaW4oJyAnKSk7CiAgfSwKCiAg
cmVtb3ZlOiBmdW5jdGlvbihjbGFzc05hbWVUb1JlbW92ZSkgewogICAgaWYgKCF0
aGlzLmluY2x1ZGUoY2xhc3NOYW1lVG9SZW1vdmUpKSByZXR1cm47CiAgICB0aGlz
LnNldCgkQSh0aGlzKS53aXRob3V0KGNsYXNzTmFtZVRvUmVtb3ZlKS5qb2luKCcg
JykpOwogIH0sCgogIHRvU3RyaW5nOiBmdW5jdGlvbigpIHsKICAgIHJldHVybiAk
QSh0aGlzKS5qb2luKCcgJyk7CiAgfQp9OwoKT2JqZWN0LmV4dGVuZChFbGVtZW50
LkNsYXNzTmFtZXMucHJvdG90eXBlLCBFbnVtZXJhYmxlKTsKCi8qLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0qLwoKRWxlbWVudC5hZGRNZXRob2RzKCk7Ly8gQ29w
eXJpZ2h0IChjKSAyMDA1LTIwMDggVGhvbWFzIEZ1Y2hzIChodHRwOi8vc2NyaXB0
LmFjdWxvLnVzLCBodHRwOi8vbWlyLmFjdWxvLnVzKQovLyBDb250cmlidXRvcnM6
Ci8vICBKdXN0aW4gUGFsbWVyIChodHRwOi8vZW5jeXRlbWVkaWEuY29tLykKLy8g
IE1hcmsgUGlsZ3JpbSAoaHR0cDovL2RpdmVpbnRvbWFyay5vcmcvKQovLyAgTWFy
dGluIEJpYWxhc2lua2kKLy8KLy8gc2NyaXB0LmFjdWxvLnVzIGlzIGZyZWVseSBk
aXN0cmlidXRhYmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiBhbiBNSVQtc3R5bGUgbGlj
ZW5zZS4KLy8gRm9yIGRldGFpbHMsIHNlZSB0aGUgc2NyaXB0LmFjdWxvLnVzIHdl
YiBzaXRlOiBodHRwOi8vc2NyaXB0LmFjdWxvLnVzLwoKLy8gY29udmVydHMgcmdi
KCkgYW5kICN4eHggdG8gI3h4eHh4eCBmb3JtYXQsCi8vIHJldHVybnMgc2VsZiAo
b3IgZmlyc3QgYXJndW1lbnQpIGlmIG5vdCBjb252ZXJ0YWJsZQpTdHJpbmcucHJv
dG90eXBlLnBhcnNlQ29sb3IgPSBmdW5jdGlvbigpIHsKICB2YXIgY29sb3IgPSAn
Iyc7CiAgaWYgKHRoaXMuc2xpY2UoMCw0KSA9PSAncmdiKCcpIHsKICAgIHZhciBj
b2xzID0gdGhpcy5zbGljZSg0LHRoaXMubGVuZ3RoLTEpLnNwbGl0KCcsJyk7CiAg
ICB2YXIgaT0wOyBkbyB7IGNvbG9yICs9IHBhcnNlSW50KGNvbHNbaV0pLnRvQ29s
b3JQYXJ0KCkgfSB3aGlsZSAoKytpPDMpOwogIH0gZWxzZSB7CiAgICBpZiAodGhp
cy5zbGljZSgwLDEpID09ICcjJykgewogICAgICBpZiAodGhpcy5sZW5ndGg9PTQp
IGZvcih2YXIgaT0xO2k8NDtpKyspIGNvbG9yICs9ICh0aGlzLmNoYXJBdChpKSAr
IHRoaXMuY2hhckF0KGkpKS50b0xvd2VyQ2FzZSgpOwogICAgICBpZiAodGhpcy5s
ZW5ndGg9PTcpIGNvbG9yID0gdGhpcy50b0xvd2VyQ2FzZSgpOwogICAgfQogIH0K
ICByZXR1cm4gKGNvbG9yLmxlbmd0aD09NyA/IGNvbG9yIDogKGFyZ3VtZW50c1sw
XSB8fCB0aGlzKSk7Cn07CgovKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8K
CkVsZW1lbnQuY29sbGVjdFRleHROb2RlcyA9IGZ1bmN0aW9uKGVsZW1lbnQpIHsK
ICByZXR1cm4gJEEoJChlbGVtZW50KS5jaGlsZE5vZGVzKS5jb2xsZWN0KCBmdW5j
dGlvbihub2RlKSB7CiAgICByZXR1cm4gKG5vZGUubm9kZVR5cGU9PTMgPyBub2Rl
Lm5vZGVWYWx1ZSA6CiAgICAgIChub2RlLmhhc0NoaWxkTm9kZXMoKSA/IEVsZW1l
bnQuY29sbGVjdFRleHROb2Rlcyhub2RlKSA6ICcnKSk7CiAgfSkuZmxhdHRlbigp
LmpvaW4oJycpOwp9OwoKRWxlbWVudC5jb2xsZWN0VGV4dE5vZGVzSWdub3JlQ2xh
c3MgPSBmdW5jdGlvbihlbGVtZW50LCBjbGFzc05hbWUpIHsKICByZXR1cm4gJEEo
JChlbGVtZW50KS5jaGlsZE5vZGVzKS5jb2xsZWN0KCBmdW5jdGlvbihub2RlKSB7
CiAgICByZXR1cm4gKG5vZGUubm9kZVR5cGU9PTMgPyBub2RlLm5vZGVWYWx1ZSA6
CiAgICAgICgobm9kZS5oYXNDaGlsZE5vZGVzKCkgJiYgIUVsZW1lbnQuaGFzQ2xh
c3NOYW1lKG5vZGUsY2xhc3NOYW1lKSkgPwogICAgICAgIEVsZW1lbnQuY29sbGVj
dFRleHROb2Rlc0lnbm9yZUNsYXNzKG5vZGUsIGNsYXNzTmFtZSkgOiAnJykpOwog
IH0pLmZsYXR0ZW4oKS5qb2luKCcnKTsKfTsKCkVsZW1lbnQuc2V0Q29udGVudFpv
b20gPSBmdW5jdGlvbihlbGVtZW50LCBwZXJjZW50KSB7CiAgZWxlbWVudCA9ICQo
ZWxlbWVudCk7CiAgZWxlbWVudC5zZXRTdHlsZSh7Zm9udFNpemU6IChwZXJjZW50
LzEwMCkgKyAnZW0nfSk7CiAgaWYgKFByb3RvdHlwZS5Ccm93c2VyLldlYktpdCkg
d2luZG93LnNjcm9sbEJ5KDAsMCk7CiAgcmV0dXJuIGVsZW1lbnQ7Cn07CgpFbGVt
ZW50LmdldElubGluZU9wYWNpdHkgPSBmdW5jdGlvbihlbGVtZW50KXsKICByZXR1
cm4gJChlbGVtZW50KS5zdHlsZS5vcGFjaXR5IHx8ICcnOwp9OwoKRWxlbWVudC5m
b3JjZVJlcmVuZGVyaW5nID0gZnVuY3Rpb24oZWxlbWVudCkgewogIHRyeSB7CiAg
ICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgIHZhciBuID0gZG9jdW1lbnQuY3Jl
YXRlVGV4dE5vZGUoJyAnKTsKICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQobik7CiAg
ICBlbGVtZW50LnJlbW92ZUNoaWxkKG4pOwogIH0gY2F0Y2goZSkgeyB9Cn07Cgov
Ki0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KCnZhciBFZmZlY3QgPSB7CiAg
X2VsZW1lbnREb2VzTm90RXhpc3RFcnJvcjogewogICAgbmFtZTogJ0VsZW1lbnRE
b2VzTm90RXhpc3RFcnJvcicsCiAgICBtZXNzYWdlOiAnVGhlIHNwZWNpZmllZCBE
T00gZWxlbWVudCBkb2VzIG5vdCBleGlzdCwgYnV0IGlzIHJlcXVpcmVkIGZvciB0
aGlzIGVmZmVjdCB0byBvcGVyYXRlJwogIH0sCiAgVHJhbnNpdGlvbnM6IHsKICAg
IGxpbmVhcjogUHJvdG90eXBlLkssCiAgICBzaW5vaWRhbDogZnVuY3Rpb24ocG9z
KSB7CiAgICAgIHJldHVybiAoLU1hdGguY29zKHBvcypNYXRoLlBJKS8yKSArIC41
OwogICAgfSwKICAgIHJldmVyc2U6IGZ1bmN0aW9uKHBvcykgewogICAgICByZXR1
cm4gMS1wb3M7CiAgICB9LAogICAgZmxpY2tlcjogZnVuY3Rpb24ocG9zKSB7CiAg
ICAgIHZhciBwb3MgPSAoKC1NYXRoLmNvcyhwb3MqTWF0aC5QSSkvNCkgKyAuNzUp
ICsgTWF0aC5yYW5kb20oKS80OwogICAgICByZXR1cm4gcG9zID4gMSA/IDEgOiBw
b3M7CiAgICB9LAogICAgd29iYmxlOiBmdW5jdGlvbihwb3MpIHsKICAgICAgcmV0
dXJuICgtTWF0aC5jb3MocG9zKk1hdGguUEkqKDkqcG9zKSkvMikgKyAuNTsKICAg
IH0sCiAgICBwdWxzZTogZnVuY3Rpb24ocG9zLCBwdWxzZXMpIHsKICAgICAgcmV0
dXJuICgtTWF0aC5jb3MoKHBvcyooKHB1bHNlc3x8NSktLjUpKjIpKk1hdGguUEkp
LzIpICsgLjU7CiAgICB9LAogICAgc3ByaW5nOiBmdW5jdGlvbihwb3MpIHsKICAg
ICAgcmV0dXJuIDEgLSAoTWF0aC5jb3MocG9zICogNC41ICogTWF0aC5QSSkgKiBN
YXRoLmV4cCgtcG9zICogNikpOwogICAgfSwKICAgIG5vbmU6IGZ1bmN0aW9uKHBv
cykgewogICAgICByZXR1cm4gMDsKICAgIH0sCiAgICBmdWxsOiBmdW5jdGlvbihw
b3MpIHsKICAgICAgcmV0dXJuIDE7CiAgICB9CiAgfSwKICBEZWZhdWx0T3B0aW9u
czogewogICAgZHVyYXRpb246ICAgMS4wLCAgIC8vIHNlY29uZHMKICAgIGZwczog
ICAgICAgIDEwMCwgICAvLyAxMDA9IGFzc3VtZSA2NmZwcyBtYXguCiAgICBzeW5j
OiAgICAgICBmYWxzZSwgLy8gdHJ1ZSBmb3IgY29tYmluaW5nCiAgICBmcm9tOiAg
ICAgICAwLjAsCiAgICB0bzogICAgICAgICAxLjAsCiAgICBkZWxheTogICAgICAw
LjAsCiAgICBxdWV1ZTogICAgICAncGFyYWxsZWwnCiAgfSwKICB0YWdpZnlUZXh0
OiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICB2YXIgdGFnaWZ5U3R5bGUgPSAncG9z
aXRpb246cmVsYXRpdmUnOwogICAgaWYgKFByb3RvdHlwZS5Ccm93c2VyLklFKSB0
YWdpZnlTdHlsZSArPSAnO3pvb206MSc7CgogICAgZWxlbWVudCA9ICQoZWxlbWVu
dCk7CiAgICAkQShlbGVtZW50LmNoaWxkTm9kZXMpLmVhY2goIGZ1bmN0aW9uKGNo
aWxkKSB7CiAgICAgIGlmIChjaGlsZC5ub2RlVHlwZT09MykgewogICAgICAgIGNo
aWxkLm5vZGVWYWx1ZS50b0FycmF5KCkuZWFjaCggZnVuY3Rpb24oY2hhcmFjdGVy
KSB7CiAgICAgICAgICBlbGVtZW50Lmluc2VydEJlZm9yZSgKICAgICAgICAgICAg
bmV3IEVsZW1lbnQoJ3NwYW4nLCB7c3R5bGU6IHRhZ2lmeVN0eWxlfSkudXBkYXRl
KAogICAgICAgICAgICAgIGNoYXJhY3RlciA9PSAnICcgPyBTdHJpbmcuZnJvbUNo
YXJDb2RlKDE2MCkgOiBjaGFyYWN0ZXIpLAogICAgICAgICAgICAgIGNoaWxkKTsK
ICAgICAgICB9KTsKICAgICAgICBFbGVtZW50LnJlbW92ZShjaGlsZCk7CiAgICAg
IH0KICAgIH0pOwogIH0sCiAgbXVsdGlwbGU6IGZ1bmN0aW9uKGVsZW1lbnQsIGVm
ZmVjdCkgewogICAgdmFyIGVsZW1lbnRzOwogICAgaWYgKCgodHlwZW9mIGVsZW1l
bnQgPT0gJ29iamVjdCcpIHx8CiAgICAgICAgT2JqZWN0LmlzRnVuY3Rpb24oZWxl
bWVudCkpICYmCiAgICAgICAoZWxlbWVudC5sZW5ndGgpKQogICAgICBlbGVtZW50
cyA9IGVsZW1lbnQ7CiAgICBlbHNlCiAgICAgIGVsZW1lbnRzID0gJChlbGVtZW50
KS5jaGlsZE5vZGVzOwoKICAgIHZhciBvcHRpb25zID0gT2JqZWN0LmV4dGVuZCh7
CiAgICAgIHNwZWVkOiAwLjEsCiAgICAgIGRlbGF5OiAwLjAKICAgIH0sIGFyZ3Vt
ZW50c1syXSB8fCB7IH0pOwogICAgdmFyIG1hc3RlckRlbGF5ID0gb3B0aW9ucy5k
ZWxheTsKCiAgICAkQShlbGVtZW50cykuZWFjaCggZnVuY3Rpb24oZWxlbWVudCwg
aW5kZXgpIHsKICAgICAgbmV3IGVmZmVjdChlbGVtZW50LCBPYmplY3QuZXh0ZW5k
KG9wdGlvbnMsIHsgZGVsYXk6IGluZGV4ICogb3B0aW9ucy5zcGVlZCArIG1hc3Rl
ckRlbGF5IH0pKTsKICAgIH0pOwogIH0sCiAgUEFJUlM6IHsKICAgICdzbGlkZSc6
ICBbJ1NsaWRlRG93bicsJ1NsaWRlVXAnXSwKICAgICdibGluZCc6ICBbJ0JsaW5k
RG93bicsJ0JsaW5kVXAnXSwKICAgICdhcHBlYXInOiBbJ0FwcGVhcicsJ0ZhZGUn
XQogIH0sCiAgdG9nZ2xlOiBmdW5jdGlvbihlbGVtZW50LCBlZmZlY3QpIHsKICAg
IGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgZWZmZWN0ID0gKGVmZmVjdCB8fCAn
YXBwZWFyJykudG9Mb3dlckNhc2UoKTsKICAgIHZhciBvcHRpb25zID0gT2JqZWN0
LmV4dGVuZCh7CiAgICAgIHF1ZXVlOiB7IHBvc2l0aW9uOidlbmQnLCBzY29wZToo
ZWxlbWVudC5pZCB8fCAnZ2xvYmFsJyksIGxpbWl0OiAxIH0KICAgIH0sIGFyZ3Vt
ZW50c1syXSB8fCB7IH0pOwogICAgRWZmZWN0W2VsZW1lbnQudmlzaWJsZSgpID8K
ICAgICAgRWZmZWN0LlBBSVJTW2VmZmVjdF1bMV0gOiBFZmZlY3QuUEFJUlNbZWZm
ZWN0XVswXV0oZWxlbWVudCwgb3B0aW9ucyk7CiAgfQp9OwoKRWZmZWN0LkRlZmF1
bHRPcHRpb25zLnRyYW5zaXRpb24gPSBFZmZlY3QuVHJhbnNpdGlvbnMuc2lub2lk
YWw7CgovKiAtLS0tLS0tLS0tLS0tIGNvcmUgZWZmZWN0cyAtLS0tLS0tLS0tLS0t
ICovCgpFZmZlY3QuU2NvcGVkUXVldWUgPSBDbGFzcy5jcmVhdGUoRW51bWVyYWJs
ZSwgewogIGluaXRpYWxpemU6IGZ1bmN0aW9uKCkgewogICAgdGhpcy5lZmZlY3Rz
ICA9IFtdOwogICAgdGhpcy5pbnRlcnZhbCA9IG51bGw7CiAgfSwKICBfZWFjaDog
ZnVuY3Rpb24oaXRlcmF0b3IpIHsKICAgIHRoaXMuZWZmZWN0cy5fZWFjaChpdGVy
YXRvcik7CiAgfSwKICBhZGQ6IGZ1bmN0aW9uKGVmZmVjdCkgewogICAgdmFyIHRp
bWVzdGFtcCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpOwoKICAgIHZhciBwb3NpdGlv
biA9IE9iamVjdC5pc1N0cmluZyhlZmZlY3Qub3B0aW9ucy5xdWV1ZSkgPwogICAg
ICBlZmZlY3Qub3B0aW9ucy5xdWV1ZSA6IGVmZmVjdC5vcHRpb25zLnF1ZXVlLnBv
c2l0aW9uOwoKICAgIHN3aXRjaChwb3NpdGlvbikgewogICAgICBjYXNlICdmcm9u
dCc6CiAgICAgICAgLy8gbW92ZSB1bnN0YXJ0ZWQgZWZmZWN0cyBhZnRlciB0aGlz
IGVmZmVjdAogICAgICAgIHRoaXMuZWZmZWN0cy5maW5kQWxsKGZ1bmN0aW9uKGUp
eyByZXR1cm4gZS5zdGF0ZT09J2lkbGUnIH0pLmVhY2goIGZ1bmN0aW9uKGUpIHsK
ICAgICAgICAgICAgZS5zdGFydE9uICArPSBlZmZlY3QuZmluaXNoT247CiAgICAg
ICAgICAgIGUuZmluaXNoT24gKz0gZWZmZWN0LmZpbmlzaE9uOwogICAgICAgICAg
fSk7CiAgICAgICAgYnJlYWs7CiAgICAgIGNhc2UgJ3dpdGgtbGFzdCc6CiAgICAg
ICAgdGltZXN0YW1wID0gdGhpcy5lZmZlY3RzLnBsdWNrKCdzdGFydE9uJykubWF4
KCkgfHwgdGltZXN0YW1wOwogICAgICAgIGJyZWFrOwogICAgICBjYXNlICdlbmQn
OgogICAgICAgIC8vIHN0YXJ0IGVmZmVjdCBhZnRlciBsYXN0IHF1ZXVlZCBlZmZl
Y3QgaGFzIGZpbmlzaGVkCiAgICAgICAgdGltZXN0YW1wID0gdGhpcy5lZmZlY3Rz
LnBsdWNrKCdmaW5pc2hPbicpLm1heCgpIHx8IHRpbWVzdGFtcDsKICAgICAgICBi
cmVhazsKICAgIH0KCiAgICBlZmZlY3Quc3RhcnRPbiAgKz0gdGltZXN0YW1wOwog
ICAgZWZmZWN0LmZpbmlzaE9uICs9IHRpbWVzdGFtcDsKCiAgICBpZiAoIWVmZmVj
dC5vcHRpb25zLnF1ZXVlLmxpbWl0IHx8ICh0aGlzLmVmZmVjdHMubGVuZ3RoIDwg
ZWZmZWN0Lm9wdGlvbnMucXVldWUubGltaXQpKQogICAgICB0aGlzLmVmZmVjdHMu
cHVzaChlZmZlY3QpOwoKICAgIGlmICghdGhpcy5pbnRlcnZhbCkKICAgICAgdGhp
cy5pbnRlcnZhbCA9IHNldEludGVydmFsKHRoaXMubG9vcC5iaW5kKHRoaXMpLCAx
NSk7CiAgfSwKICByZW1vdmU6IGZ1bmN0aW9uKGVmZmVjdCkgewogICAgdGhpcy5l
ZmZlY3RzID0gdGhpcy5lZmZlY3RzLnJlamVjdChmdW5jdGlvbihlKSB7IHJldHVy
biBlPT1lZmZlY3QgfSk7CiAgICBpZiAodGhpcy5lZmZlY3RzLmxlbmd0aCA9PSAw
KSB7CiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbCk7CiAgICAgIHRo
aXMuaW50ZXJ2YWwgPSBudWxsOwogICAgfQogIH0sCiAgbG9vcDogZnVuY3Rpb24o
KSB7CiAgICB2YXIgdGltZVBvcyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpOwogICAg
Zm9yKHZhciBpPTAsIGxlbj10aGlzLmVmZmVjdHMubGVuZ3RoO2k8bGVuO2krKykK
ICAgICAgdGhpcy5lZmZlY3RzW2ldICYmIHRoaXMuZWZmZWN0c1tpXS5sb29wKHRp
bWVQb3MpOwogIH0KfSk7CgpFZmZlY3QuUXVldWVzID0gewogIGluc3RhbmNlczog
JEgoKSwKICBnZXQ6IGZ1bmN0aW9uKHF1ZXVlTmFtZSkgewogICAgaWYgKCFPYmpl
Y3QuaXNTdHJpbmcocXVldWVOYW1lKSkgcmV0dXJuIHF1ZXVlTmFtZTsKCiAgICBy
ZXR1cm4gdGhpcy5pbnN0YW5jZXMuZ2V0KHF1ZXVlTmFtZSkgfHwKICAgICAgdGhp
cy5pbnN0YW5jZXMuc2V0KHF1ZXVlTmFtZSwgbmV3IEVmZmVjdC5TY29wZWRRdWV1
ZSgpKTsKICB9Cn07CkVmZmVjdC5RdWV1ZSA9IEVmZmVjdC5RdWV1ZXMuZ2V0KCdn
bG9iYWwnKTsKCkVmZmVjdC5CYXNlID0gQ2xhc3MuY3JlYXRlKHsKICBwb3NpdGlv
bjogbnVsbCwKICBzdGFydDogZnVuY3Rpb24ob3B0aW9ucykgewogICAgZnVuY3Rp
b24gY29kZUZvckV2ZW50KG9wdGlvbnMsZXZlbnROYW1lKXsKICAgICAgcmV0dXJu
ICgKICAgICAgICAob3B0aW9uc1tldmVudE5hbWUrJ0ludGVybmFsJ10gPyAndGhp
cy5vcHRpb25zLicrZXZlbnROYW1lKydJbnRlcm5hbCh0aGlzKTsnIDogJycpICsK
ICAgICAgICAob3B0aW9uc1tldmVudE5hbWVdID8gJ3RoaXMub3B0aW9ucy4nK2V2
ZW50TmFtZSsnKHRoaXMpOycgOiAnJykKICAgICAgKTsKICAgIH0KICAgIGlmIChv
cHRpb25zICYmIG9wdGlvbnMudHJhbnNpdGlvbiA9PT0gZmFsc2UpIG9wdGlvbnMu
dHJhbnNpdGlvbiA9IEVmZmVjdC5UcmFuc2l0aW9ucy5saW5lYXI7CiAgICB0aGlz
Lm9wdGlvbnMgICAgICA9IE9iamVjdC5leHRlbmQoT2JqZWN0LmV4dGVuZCh7IH0s
RWZmZWN0LkRlZmF1bHRPcHRpb25zKSwgb3B0aW9ucyB8fCB7IH0pOwogICAgdGhp
cy5jdXJyZW50RnJhbWUgPSAwOwogICAgdGhpcy5zdGF0ZSAgICAgICAgPSAnaWRs
ZSc7CiAgICB0aGlzLnN0YXJ0T24gICAgICA9IHRoaXMub3B0aW9ucy5kZWxheSox
MDAwOwogICAgdGhpcy5maW5pc2hPbiAgICAgPSB0aGlzLnN0YXJ0T24rKHRoaXMu
b3B0aW9ucy5kdXJhdGlvbioxMDAwKTsKICAgIHRoaXMuZnJvbVRvRGVsdGEgID0g
dGhpcy5vcHRpb25zLnRvLXRoaXMub3B0aW9ucy5mcm9tOwogICAgdGhpcy50b3Rh
bFRpbWUgICAgPSB0aGlzLmZpbmlzaE9uLXRoaXMuc3RhcnRPbjsKICAgIHRoaXMu
dG90YWxGcmFtZXMgID0gdGhpcy5vcHRpb25zLmZwcyp0aGlzLm9wdGlvbnMuZHVy
YXRpb247CgogICAgdGhpcy5yZW5kZXIgPSAoZnVuY3Rpb24oKSB7CiAgICAgIGZ1
bmN0aW9uIGRpc3BhdGNoKGVmZmVjdCwgZXZlbnROYW1lKSB7CiAgICAgICAgaWYg
KGVmZmVjdC5vcHRpb25zW2V2ZW50TmFtZSArICdJbnRlcm5hbCddKQogICAgICAg
ICAgZWZmZWN0Lm9wdGlvbnNbZXZlbnROYW1lICsgJ0ludGVybmFsJ10oZWZmZWN0
KTsKICAgICAgICBpZiAoZWZmZWN0Lm9wdGlvbnNbZXZlbnROYW1lXSkKICAgICAg
ICAgIGVmZmVjdC5vcHRpb25zW2V2ZW50TmFtZV0oZWZmZWN0KTsKICAgICAgfQoK
ICAgICAgcmV0dXJuIGZ1bmN0aW9uKHBvcykgewogICAgICAgIGlmICh0aGlzLnN0
YXRlID09PSAiaWRsZSIpIHsKICAgICAgICAgIHRoaXMuc3RhdGUgPSAicnVubmlu
ZyI7CiAgICAgICAgICBkaXNwYXRjaCh0aGlzLCAnYmVmb3JlU2V0dXAnKTsKICAg
ICAgICAgIGlmICh0aGlzLnNldHVwKSB0aGlzLnNldHVwKCk7CiAgICAgICAgICBk
aXNwYXRjaCh0aGlzLCAnYWZ0ZXJTZXR1cCcpOwogICAgICAgIH0KICAgICAgICBp
ZiAodGhpcy5zdGF0ZSA9PT0gInJ1bm5pbmciKSB7CiAgICAgICAgICBwb3MgPSAo
dGhpcy5vcHRpb25zLnRyYW5zaXRpb24ocG9zKSAqIHRoaXMuZnJvbVRvRGVsdGEp
ICsgdGhpcy5vcHRpb25zLmZyb207CiAgICAgICAgICB0aGlzLnBvc2l0aW9uID0g
cG9zOwogICAgICAgICAgZGlzcGF0Y2godGhpcywgJ2JlZm9yZVVwZGF0ZScpOwog
ICAgICAgICAgaWYgKHRoaXMudXBkYXRlKSB0aGlzLnVwZGF0ZShwb3MpOwogICAg
ICAgICAgZGlzcGF0Y2godGhpcywgJ2FmdGVyVXBkYXRlJyk7CiAgICAgICAgfQog
ICAgICB9OwogICAgfSkoKTsKCiAgICB0aGlzLmV2ZW50KCdiZWZvcmVTdGFydCcp
OwogICAgaWYgKCF0aGlzLm9wdGlvbnMuc3luYykKICAgICAgRWZmZWN0LlF1ZXVl
cy5nZXQoT2JqZWN0LmlzU3RyaW5nKHRoaXMub3B0aW9ucy5xdWV1ZSkgPwogICAg
ICAgICdnbG9iYWwnIDogdGhpcy5vcHRpb25zLnF1ZXVlLnNjb3BlKS5hZGQodGhp
cyk7CiAgfSwKICBsb29wOiBmdW5jdGlvbih0aW1lUG9zKSB7CiAgICBpZiAodGlt
ZVBvcyA+PSB0aGlzLnN0YXJ0T24pIHsKICAgICAgaWYgKHRpbWVQb3MgPj0gdGhp
cy5maW5pc2hPbikgewogICAgICAgIHRoaXMucmVuZGVyKDEuMCk7CiAgICAgICAg
dGhpcy5jYW5jZWwoKTsKICAgICAgICB0aGlzLmV2ZW50KCdiZWZvcmVGaW5pc2gn
KTsKICAgICAgICBpZiAodGhpcy5maW5pc2gpIHRoaXMuZmluaXNoKCk7CiAgICAg
ICAgdGhpcy5ldmVudCgnYWZ0ZXJGaW5pc2gnKTsKICAgICAgICByZXR1cm47CiAg
ICAgIH0KICAgICAgdmFyIHBvcyAgID0gKHRpbWVQb3MgLSB0aGlzLnN0YXJ0T24p
IC8gdGhpcy50b3RhbFRpbWUsCiAgICAgICAgICBmcmFtZSA9IChwb3MgKiB0aGlz
LnRvdGFsRnJhbWVzKS5yb3VuZCgpOwogICAgICBpZiAoZnJhbWUgPiB0aGlzLmN1
cnJlbnRGcmFtZSkgewogICAgICAgIHRoaXMucmVuZGVyKHBvcyk7CiAgICAgICAg
dGhpcy5jdXJyZW50RnJhbWUgPSBmcmFtZTsKICAgICAgfQogICAgfQogIH0sCiAg
Y2FuY2VsOiBmdW5jdGlvbigpIHsKICAgIGlmICghdGhpcy5vcHRpb25zLnN5bmMp
CiAgICAgIEVmZmVjdC5RdWV1ZXMuZ2V0KE9iamVjdC5pc1N0cmluZyh0aGlzLm9w
dGlvbnMucXVldWUpID8KICAgICAgICAnZ2xvYmFsJyA6IHRoaXMub3B0aW9ucy5x
dWV1ZS5zY29wZSkucmVtb3ZlKHRoaXMpOwogICAgdGhpcy5zdGF0ZSA9ICdmaW5p
c2hlZCc7CiAgfSwKICBldmVudDogZnVuY3Rpb24oZXZlbnROYW1lKSB7CiAgICBp
ZiAodGhpcy5vcHRpb25zW2V2ZW50TmFtZSArICdJbnRlcm5hbCddKSB0aGlzLm9w
dGlvbnNbZXZlbnROYW1lICsgJ0ludGVybmFsJ10odGhpcyk7CiAgICBpZiAodGhp
cy5vcHRpb25zW2V2ZW50TmFtZV0pIHRoaXMub3B0aW9uc1tldmVudE5hbWVdKHRo
aXMpOwogIH0sCiAgaW5zcGVjdDogZnVuY3Rpb24oKSB7CiAgICB2YXIgZGF0YSA9
ICRIKCk7CiAgICBmb3IocHJvcGVydHkgaW4gdGhpcykKICAgICAgaWYgKCFPYmpl
Y3QuaXNGdW5jdGlvbih0aGlzW3Byb3BlcnR5XSkpIGRhdGEuc2V0KHByb3BlcnR5
LCB0aGlzW3Byb3BlcnR5XSk7CiAgICByZXR1cm4gJyM8RWZmZWN0OicgKyBkYXRh
Lmluc3BlY3QoKSArICcsb3B0aW9uczonICsgJEgodGhpcy5vcHRpb25zKS5pbnNw
ZWN0KCkgKyAnPic7CiAgfQp9KTsKCkVmZmVjdC5QYXJhbGxlbCA9IENsYXNzLmNy
ZWF0ZShFZmZlY3QuQmFzZSwgewogIGluaXRpYWxpemU6IGZ1bmN0aW9uKGVmZmVj
dHMpIHsKICAgIHRoaXMuZWZmZWN0cyA9IGVmZmVjdHMgfHwgW107CiAgICB0aGlz
LnN0YXJ0KGFyZ3VtZW50c1sxXSk7CiAgfSwKICB1cGRhdGU6IGZ1bmN0aW9uKHBv
c2l0aW9uKSB7CiAgICB0aGlzLmVmZmVjdHMuaW52b2tlKCdyZW5kZXInLCBwb3Np
dGlvbik7CiAgfSwKICBmaW5pc2g6IGZ1bmN0aW9uKHBvc2l0aW9uKSB7CiAgICB0
aGlzLmVmZmVjdHMuZWFjaCggZnVuY3Rpb24oZWZmZWN0KSB7CiAgICAgIGVmZmVj
dC5yZW5kZXIoMS4wKTsKICAgICAgZWZmZWN0LmNhbmNlbCgpOwogICAgICBlZmZl
Y3QuZXZlbnQoJ2JlZm9yZUZpbmlzaCcpOwogICAgICBpZiAoZWZmZWN0LmZpbmlz
aCkgZWZmZWN0LmZpbmlzaChwb3NpdGlvbik7CiAgICAgIGVmZmVjdC5ldmVudCgn
YWZ0ZXJGaW5pc2gnKTsKICAgIH0pOwogIH0KfSk7CgpFZmZlY3QuVHdlZW4gPSBD
bGFzcy5jcmVhdGUoRWZmZWN0LkJhc2UsIHsKICBpbml0aWFsaXplOiBmdW5jdGlv
bihvYmplY3QsIGZyb20sIHRvKSB7CiAgICBvYmplY3QgPSBPYmplY3QuaXNTdHJp
bmcob2JqZWN0KSA/ICQob2JqZWN0KSA6IG9iamVjdDsKICAgIHZhciBhcmdzID0g
JEEoYXJndW1lbnRzKSwgbWV0aG9kID0gYXJncy5sYXN0KCksCiAgICAgIG9wdGlv
bnMgPSBhcmdzLmxlbmd0aCA9PSA1ID8gYXJnc1szXSA6IG51bGw7CiAgICB0aGlz
Lm1ldGhvZCA9IE9iamVjdC5pc0Z1bmN0aW9uKG1ldGhvZCkgPyBtZXRob2QuYmlu
ZChvYmplY3QpIDoKICAgICAgT2JqZWN0LmlzRnVuY3Rpb24ob2JqZWN0W21ldGhv
ZF0pID8gb2JqZWN0W21ldGhvZF0uYmluZChvYmplY3QpIDoKICAgICAgZnVuY3Rp
b24odmFsdWUpIHsgb2JqZWN0W21ldGhvZF0gPSB2YWx1ZSB9OwogICAgdGhpcy5z
dGFydChPYmplY3QuZXh0ZW5kKHsgZnJvbTogZnJvbSwgdG86IHRvIH0sIG9wdGlv
bnMgfHwgeyB9KSk7CiAgfSwKICB1cGRhdGU6IGZ1bmN0aW9uKHBvc2l0aW9uKSB7
CiAgICB0aGlzLm1ldGhvZChwb3NpdGlvbik7CiAgfQp9KTsKCkVmZmVjdC5FdmVu
dCA9IENsYXNzLmNyZWF0ZShFZmZlY3QuQmFzZSwgewogIGluaXRpYWxpemU6IGZ1
bmN0aW9uKCkgewogICAgdGhpcy5zdGFydChPYmplY3QuZXh0ZW5kKHsgZHVyYXRp
b246IDAgfSwgYXJndW1lbnRzWzBdIHx8IHsgfSkpOwogIH0sCiAgdXBkYXRlOiBQ
cm90b3R5cGUuZW1wdHlGdW5jdGlvbgp9KTsKCkVmZmVjdC5PcGFjaXR5ID0gQ2xh
c3MuY3JlYXRlKEVmZmVjdC5CYXNlLCB7CiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24o
ZWxlbWVudCkgewogICAgdGhpcy5lbGVtZW50ID0gJChlbGVtZW50KTsKICAgIGlm
ICghdGhpcy5lbGVtZW50KSB0aHJvdyhFZmZlY3QuX2VsZW1lbnREb2VzTm90RXhp
c3RFcnJvcik7CiAgICAvLyBtYWtlIHRoaXMgd29yayBvbiBJRSBvbiBlbGVtZW50
cyB3aXRob3V0ICdsYXlvdXQnCiAgICBpZiAoUHJvdG90eXBlLkJyb3dzZXIuSUUg
JiYgKCF0aGlzLmVsZW1lbnQuY3VycmVudFN0eWxlLmhhc0xheW91dCkpCiAgICAg
IHRoaXMuZWxlbWVudC5zZXRTdHlsZSh7em9vbTogMX0pOwogICAgdmFyIG9wdGlv
bnMgPSBPYmplY3QuZXh0ZW5kKHsKICAgICAgZnJvbTogdGhpcy5lbGVtZW50Lmdl
dE9wYWNpdHkoKSB8fCAwLjAsCiAgICAgIHRvOiAgIDEuMAogICAgfSwgYXJndW1l
bnRzWzFdIHx8IHsgfSk7CiAgICB0aGlzLnN0YXJ0KG9wdGlvbnMpOwogIH0sCiAg
dXBkYXRlOiBmdW5jdGlvbihwb3NpdGlvbikgewogICAgdGhpcy5lbGVtZW50LnNl
dE9wYWNpdHkocG9zaXRpb24pOwogIH0KfSk7CgpFZmZlY3QuTW92ZSA9IENsYXNz
LmNyZWF0ZShFZmZlY3QuQmFzZSwgewogIGluaXRpYWxpemU6IGZ1bmN0aW9uKGVs
ZW1lbnQpIHsKICAgIHRoaXMuZWxlbWVudCA9ICQoZWxlbWVudCk7CiAgICBpZiAo
IXRoaXMuZWxlbWVudCkgdGhyb3coRWZmZWN0Ll9lbGVtZW50RG9lc05vdEV4aXN0
RXJyb3IpOwogICAgdmFyIG9wdGlvbnMgPSBPYmplY3QuZXh0ZW5kKHsKICAgICAg
eDogICAgMCwKICAgICAgeTogICAgMCwKICAgICAgbW9kZTogJ3JlbGF0aXZlJwog
ICAgfSwgYXJndW1lbnRzWzFdIHx8IHsgfSk7CiAgICB0aGlzLnN0YXJ0KG9wdGlv
bnMpOwogIH0sCiAgc2V0dXA6IGZ1bmN0aW9uKCkgewogICAgdGhpcy5lbGVtZW50
Lm1ha2VQb3NpdGlvbmVkKCk7CiAgICB0aGlzLm9yaWdpbmFsTGVmdCA9IHBhcnNl
RmxvYXQodGhpcy5lbGVtZW50LmdldFN0eWxlKCdsZWZ0JykgfHwgJzAnKTsKICAg
IHRoaXMub3JpZ2luYWxUb3AgID0gcGFyc2VGbG9hdCh0aGlzLmVsZW1lbnQuZ2V0
U3R5bGUoJ3RvcCcpICB8fCAnMCcpOwogICAgaWYgKHRoaXMub3B0aW9ucy5tb2Rl
ID09ICdhYnNvbHV0ZScpIHsKICAgICAgdGhpcy5vcHRpb25zLnggPSB0aGlzLm9w
dGlvbnMueCAtIHRoaXMub3JpZ2luYWxMZWZ0OwogICAgICB0aGlzLm9wdGlvbnMu
eSA9IHRoaXMub3B0aW9ucy55IC0gdGhpcy5vcmlnaW5hbFRvcDsKICAgIH0KICB9
LAogIHVwZGF0ZTogZnVuY3Rpb24ocG9zaXRpb24pIHsKICAgIHRoaXMuZWxlbWVu
dC5zZXRTdHlsZSh7CiAgICAgIGxlZnQ6ICh0aGlzLm9wdGlvbnMueCAgKiBwb3Np
dGlvbiArIHRoaXMub3JpZ2luYWxMZWZ0KS5yb3VuZCgpICsgJ3B4JywKICAgICAg
dG9wOiAgKHRoaXMub3B0aW9ucy55ICAqIHBvc2l0aW9uICsgdGhpcy5vcmlnaW5h
bFRvcCkucm91bmQoKSAgKyAncHgnCiAgICB9KTsKICB9Cn0pOwoKLy8gZm9yIGJh
Y2t3YXJkcyBjb21wYXRpYmlsaXR5CkVmZmVjdC5Nb3ZlQnkgPSBmdW5jdGlvbihl
bGVtZW50LCB0b1RvcCwgdG9MZWZ0KSB7CiAgcmV0dXJuIG5ldyBFZmZlY3QuTW92
ZShlbGVtZW50LAogICAgT2JqZWN0LmV4dGVuZCh7IHg6IHRvTGVmdCwgeTogdG9U
b3AgfSwgYXJndW1lbnRzWzNdIHx8IHsgfSkpOwp9OwoKRWZmZWN0LlNjYWxlID0g
Q2xhc3MuY3JlYXRlKEVmZmVjdC5CYXNlLCB7CiAgaW5pdGlhbGl6ZTogZnVuY3Rp
b24oZWxlbWVudCwgcGVyY2VudCkgewogICAgdGhpcy5lbGVtZW50ID0gJChlbGVt
ZW50KTsKICAgIGlmICghdGhpcy5lbGVtZW50KSB0aHJvdyhFZmZlY3QuX2VsZW1l
bnREb2VzTm90RXhpc3RFcnJvcik7CiAgICB2YXIgb3B0aW9ucyA9IE9iamVjdC5l
eHRlbmQoewogICAgICBzY2FsZVg6IHRydWUsCiAgICAgIHNjYWxlWTogdHJ1ZSwK
ICAgICAgc2NhbGVDb250ZW50OiB0cnVlLAogICAgICBzY2FsZUZyb21DZW50ZXI6
IGZhbHNlLAogICAgICBzY2FsZU1vZGU6ICdib3gnLCAgICAgICAgLy8gJ2JveCcg
b3IgJ2NvbnRlbnRzJyBvciB7IH0gd2l0aCBwcm92aWRlZCB2YWx1ZXMKICAgICAg
c2NhbGVGcm9tOiAxMDAuMCwKICAgICAgc2NhbGVUbzogICBwZXJjZW50CiAgICB9
LCBhcmd1bWVudHNbMl0gfHwgeyB9KTsKICAgIHRoaXMuc3RhcnQob3B0aW9ucyk7
CiAgfSwKICBzZXR1cDogZnVuY3Rpb24oKSB7CiAgICB0aGlzLnJlc3RvcmVBZnRl
ckZpbmlzaCA9IHRoaXMub3B0aW9ucy5yZXN0b3JlQWZ0ZXJGaW5pc2ggfHwgZmFs
c2U7CiAgICB0aGlzLmVsZW1lbnRQb3NpdGlvbmluZyA9IHRoaXMuZWxlbWVudC5n
ZXRTdHlsZSgncG9zaXRpb24nKTsKCiAgICB0aGlzLm9yaWdpbmFsU3R5bGUgPSB7
IH07CiAgICBbJ3RvcCcsJ2xlZnQnLCd3aWR0aCcsJ2hlaWdodCcsJ2ZvbnRTaXpl
J10uZWFjaCggZnVuY3Rpb24oaykgewogICAgICB0aGlzLm9yaWdpbmFsU3R5bGVb
a10gPSB0aGlzLmVsZW1lbnQuc3R5bGVba107CiAgICB9LmJpbmQodGhpcykpOwoK
ICAgIHRoaXMub3JpZ2luYWxUb3AgID0gdGhpcy5lbGVtZW50Lm9mZnNldFRvcDsK
ICAgIHRoaXMub3JpZ2luYWxMZWZ0ID0gdGhpcy5lbGVtZW50Lm9mZnNldExlZnQ7
CgogICAgdmFyIGZvbnRTaXplID0gdGhpcy5lbGVtZW50LmdldFN0eWxlKCdmb250
LXNpemUnKSB8fCAnMTAwJSc7CiAgICBbJ2VtJywncHgnLCclJywncHQnXS5lYWNo
KCBmdW5jdGlvbihmb250U2l6ZVR5cGUpIHsKICAgICAgaWYgKGZvbnRTaXplLmlu
ZGV4T2YoZm9udFNpemVUeXBlKT4wKSB7CiAgICAgICAgdGhpcy5mb250U2l6ZSAg
ICAgPSBwYXJzZUZsb2F0KGZvbnRTaXplKTsKICAgICAgICB0aGlzLmZvbnRTaXpl
VHlwZSA9IGZvbnRTaXplVHlwZTsKICAgICAgfQogICAgfS5iaW5kKHRoaXMpKTsK
CiAgICB0aGlzLmZhY3RvciA9ICh0aGlzLm9wdGlvbnMuc2NhbGVUbyAtIHRoaXMu
b3B0aW9ucy5zY2FsZUZyb20pLzEwMDsKCiAgICB0aGlzLmRpbXMgPSBudWxsOwog
ICAgaWYgKHRoaXMub3B0aW9ucy5zY2FsZU1vZGU9PSdib3gnKQogICAgICB0aGlz
LmRpbXMgPSBbdGhpcy5lbGVtZW50Lm9mZnNldEhlaWdodCwgdGhpcy5lbGVtZW50
Lm9mZnNldFdpZHRoXTsKICAgIGlmICgvXmNvbnRlbnQvLnRlc3QodGhpcy5vcHRp
b25zLnNjYWxlTW9kZSkpCiAgICAgIHRoaXMuZGltcyA9IFt0aGlzLmVsZW1lbnQu
c2Nyb2xsSGVpZ2h0LCB0aGlzLmVsZW1lbnQuc2Nyb2xsV2lkdGhdOwogICAgaWYg
KCF0aGlzLmRpbXMpCiAgICAgIHRoaXMuZGltcyA9IFt0aGlzLm9wdGlvbnMuc2Nh
bGVNb2RlLm9yaWdpbmFsSGVpZ2h0LAogICAgICAgICAgICAgICAgICAgdGhpcy5v
cHRpb25zLnNjYWxlTW9kZS5vcmlnaW5hbFdpZHRoXTsKICB9LAogIHVwZGF0ZTog
ZnVuY3Rpb24ocG9zaXRpb24pIHsKICAgIHZhciBjdXJyZW50U2NhbGUgPSAodGhp
cy5vcHRpb25zLnNjYWxlRnJvbS8xMDAuMCkgKyAodGhpcy5mYWN0b3IgKiBwb3Np
dGlvbik7CiAgICBpZiAodGhpcy5vcHRpb25zLnNjYWxlQ29udGVudCAmJiB0aGlz
LmZvbnRTaXplKQogICAgICB0aGlzLmVsZW1lbnQuc2V0U3R5bGUoe2ZvbnRTaXpl
OiB0aGlzLmZvbnRTaXplICogY3VycmVudFNjYWxlICsgdGhpcy5mb250U2l6ZVR5
cGUgfSk7CiAgICB0aGlzLnNldERpbWVuc2lvbnModGhpcy5kaW1zWzBdICogY3Vy
cmVudFNjYWxlLCB0aGlzLmRpbXNbMV0gKiBjdXJyZW50U2NhbGUpOwogIH0sCiAg
ZmluaXNoOiBmdW5jdGlvbihwb3NpdGlvbikgewogICAgaWYgKHRoaXMucmVzdG9y
ZUFmdGVyRmluaXNoKSB0aGlzLmVsZW1lbnQuc2V0U3R5bGUodGhpcy5vcmlnaW5h
bFN0eWxlKTsKICB9LAogIHNldERpbWVuc2lvbnM6IGZ1bmN0aW9uKGhlaWdodCwg
d2lkdGgpIHsKICAgIHZhciBkID0geyB9OwogICAgaWYgKHRoaXMub3B0aW9ucy5z
Y2FsZVgpIGQud2lkdGggPSB3aWR0aC5yb3VuZCgpICsgJ3B4JzsKICAgIGlmICh0
aGlzLm9wdGlvbnMuc2NhbGVZKSBkLmhlaWdodCA9IGhlaWdodC5yb3VuZCgpICsg
J3B4JzsKICAgIGlmICh0aGlzLm9wdGlvbnMuc2NhbGVGcm9tQ2VudGVyKSB7CiAg
ICAgIHZhciB0b3BkICA9IChoZWlnaHQgLSB0aGlzLmRpbXNbMF0pLzI7CiAgICAg
IHZhciBsZWZ0ZCA9ICh3aWR0aCAgLSB0aGlzLmRpbXNbMV0pLzI7CiAgICAgIGlm
ICh0aGlzLmVsZW1lbnRQb3NpdGlvbmluZyA9PSAnYWJzb2x1dGUnKSB7CiAgICAg
ICAgaWYgKHRoaXMub3B0aW9ucy5zY2FsZVkpIGQudG9wID0gdGhpcy5vcmlnaW5h
bFRvcC10b3BkICsgJ3B4JzsKICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNjYWxl
WCkgZC5sZWZ0ID0gdGhpcy5vcmlnaW5hbExlZnQtbGVmdGQgKyAncHgnOwogICAg
ICB9IGVsc2UgewogICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2NhbGVZKSBkLnRv
cCA9IC10b3BkICsgJ3B4JzsKICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNjYWxl
WCkgZC5sZWZ0ID0gLWxlZnRkICsgJ3B4JzsKICAgICAgfQogICAgfQogICAgdGhp
cy5lbGVtZW50LnNldFN0eWxlKGQpOwogIH0KfSk7CgpFZmZlY3QuSGlnaGxpZ2h0
ID0gQ2xhc3MuY3JlYXRlKEVmZmVjdC5CYXNlLCB7CiAgaW5pdGlhbGl6ZTogZnVu
Y3Rpb24oZWxlbWVudCkgewogICAgdGhpcy5lbGVtZW50ID0gJChlbGVtZW50KTsK
ICAgIGlmICghdGhpcy5lbGVtZW50KSB0aHJvdyhFZmZlY3QuX2VsZW1lbnREb2Vz
Tm90RXhpc3RFcnJvcik7CiAgICB2YXIgb3B0aW9ucyA9IE9iamVjdC5leHRlbmQo
eyBzdGFydGNvbG9yOiAnI2ZmZmY5OScgfSwgYXJndW1lbnRzWzFdIHx8IHsgfSk7
CiAgICB0aGlzLnN0YXJ0KG9wdGlvbnMpOwogIH0sCiAgc2V0dXA6IGZ1bmN0aW9u
KCkgewogICAgLy8gUHJldmVudCBleGVjdXRpbmcgb24gZWxlbWVudHMgbm90IGlu
IHRoZSBsYXlvdXQgZmxvdwogICAgaWYgKHRoaXMuZWxlbWVudC5nZXRTdHlsZSgn
ZGlzcGxheScpPT0nbm9uZScpIHsgdGhpcy5jYW5jZWwoKTsgcmV0dXJuOyB9CiAg
ICAvLyBEaXNhYmxlIGJhY2tncm91bmQgaW1hZ2UgZHVyaW5nIHRoZSBlZmZlY3QK
ICAgIHRoaXMub2xkU3R5bGUgPSB7IH07CiAgICBpZiAoIXRoaXMub3B0aW9ucy5r
ZWVwQmFja2dyb3VuZEltYWdlKSB7CiAgICAgIHRoaXMub2xkU3R5bGUuYmFja2dy
b3VuZEltYWdlID0gdGhpcy5lbGVtZW50LmdldFN0eWxlKCdiYWNrZ3JvdW5kLWlt
YWdlJyk7CiAgICAgIHRoaXMuZWxlbWVudC5zZXRTdHlsZSh7YmFja2dyb3VuZElt
YWdlOiAnbm9uZSd9KTsKICAgIH0KICAgIGlmICghdGhpcy5vcHRpb25zLmVuZGNv
bG9yKQogICAgICB0aGlzLm9wdGlvbnMuZW5kY29sb3IgPSB0aGlzLmVsZW1lbnQu
Z2V0U3R5bGUoJ2JhY2tncm91bmQtY29sb3InKS5wYXJzZUNvbG9yKCcjZmZmZmZm
Jyk7CiAgICBpZiAoIXRoaXMub3B0aW9ucy5yZXN0b3JlY29sb3IpCiAgICAgIHRo
aXMub3B0aW9ucy5yZXN0b3JlY29sb3IgPSB0aGlzLmVsZW1lbnQuZ2V0U3R5bGUo
J2JhY2tncm91bmQtY29sb3InKTsKICAgIC8vIGluaXQgY29sb3IgY2FsY3VsYXRp
b25zCiAgICB0aGlzLl9iYXNlICA9ICRSKDAsMikubWFwKGZ1bmN0aW9uKGkpeyBy
ZXR1cm4gcGFyc2VJbnQodGhpcy5vcHRpb25zLnN0YXJ0Y29sb3Iuc2xpY2UoaSoy
KzEsaSoyKzMpLDE2KSB9LmJpbmQodGhpcykpOwogICAgdGhpcy5fZGVsdGEgPSAk
UigwLDIpLm1hcChmdW5jdGlvbihpKXsgcmV0dXJuIHBhcnNlSW50KHRoaXMub3B0
aW9ucy5lbmRjb2xvci5zbGljZShpKjIrMSxpKjIrMyksMTYpLXRoaXMuX2Jhc2Vb
aV0gfS5iaW5kKHRoaXMpKTsKICB9LAogIHVwZGF0ZTogZnVuY3Rpb24ocG9zaXRp
b24pIHsKICAgIHRoaXMuZWxlbWVudC5zZXRTdHlsZSh7YmFja2dyb3VuZENvbG9y
OiAkUigwLDIpLmluamVjdCgnIycsZnVuY3Rpb24obSx2LGkpewogICAgICByZXR1
cm4gbSsoKHRoaXMuX2Jhc2VbaV0rKHRoaXMuX2RlbHRhW2ldKnBvc2l0aW9uKSku
cm91bmQoKS50b0NvbG9yUGFydCgpKTsgfS5iaW5kKHRoaXMpKSB9KTsKICB9LAog
IGZpbmlzaDogZnVuY3Rpb24oKSB7CiAgICB0aGlzLmVsZW1lbnQuc2V0U3R5bGUo
T2JqZWN0LmV4dGVuZCh0aGlzLm9sZFN0eWxlLCB7CiAgICAgIGJhY2tncm91bmRD
b2xvcjogdGhpcy5vcHRpb25zLnJlc3RvcmVjb2xvcgogICAgfSkpOwogIH0KfSk7
CgpFZmZlY3QuU2Nyb2xsVG8gPSBmdW5jdGlvbihlbGVtZW50KSB7CiAgdmFyIG9w
dGlvbnMgPSBhcmd1bWVudHNbMV0gfHwgeyB9LAogIHNjcm9sbE9mZnNldHMgPSBk
b2N1bWVudC52aWV3cG9ydC5nZXRTY3JvbGxPZmZzZXRzKCksCiAgZWxlbWVudE9m
ZnNldHMgPSAkKGVsZW1lbnQpLmN1bXVsYXRpdmVPZmZzZXQoKTsKCiAgaWYgKG9w
dGlvbnMub2Zmc2V0KSBlbGVtZW50T2Zmc2V0c1sxXSArPSBvcHRpb25zLm9mZnNl
dDsKCiAgcmV0dXJuIG5ldyBFZmZlY3QuVHdlZW4obnVsbCwKICAgIHNjcm9sbE9m
ZnNldHMudG9wLAogICAgZWxlbWVudE9mZnNldHNbMV0sCiAgICBvcHRpb25zLAog
ICAgZnVuY3Rpb24ocCl7IHNjcm9sbFRvKHNjcm9sbE9mZnNldHMubGVmdCwgcC5y
b3VuZCgpKTsgfQogICk7Cn07CgovKiAtLS0tLS0tLS0tLS0tIGNvbWJpbmF0aW9u
IGVmZmVjdHMgLS0tLS0tLS0tLS0tLSAqLwoKRWZmZWN0LkZhZGUgPSBmdW5jdGlv
bihlbGVtZW50KSB7CiAgZWxlbWVudCA9ICQoZWxlbWVudCk7CiAgdmFyIG9sZE9w
YWNpdHkgPSBlbGVtZW50LmdldElubGluZU9wYWNpdHkoKTsKICB2YXIgb3B0aW9u
cyA9IE9iamVjdC5leHRlbmQoewogICAgZnJvbTogZWxlbWVudC5nZXRPcGFjaXR5
KCkgfHwgMS4wLAogICAgdG86ICAgMC4wLAogICAgYWZ0ZXJGaW5pc2hJbnRlcm5h
bDogZnVuY3Rpb24oZWZmZWN0KSB7CiAgICAgIGlmIChlZmZlY3Qub3B0aW9ucy50
byE9MCkgcmV0dXJuOwogICAgICBlZmZlY3QuZWxlbWVudC5oaWRlKCkuc2V0U3R5
bGUoe29wYWNpdHk6IG9sZE9wYWNpdHl9KTsKICAgIH0KICB9LCBhcmd1bWVudHNb
MV0gfHwgeyB9KTsKICByZXR1cm4gbmV3IEVmZmVjdC5PcGFjaXR5KGVsZW1lbnQs
b3B0aW9ucyk7Cn07CgpFZmZlY3QuQXBwZWFyID0gZnVuY3Rpb24oZWxlbWVudCkg
ewogIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogIHZhciBvcHRpb25zID0gT2JqZWN0
LmV4dGVuZCh7CiAgZnJvbTogKGVsZW1lbnQuZ2V0U3R5bGUoJ2Rpc3BsYXknKSA9
PSAnbm9uZScgPyAwLjAgOiBlbGVtZW50LmdldE9wYWNpdHkoKSB8fCAwLjApLAog
IHRvOiAgIDEuMCwKICAvLyBmb3JjZSBTYWZhcmkgdG8gcmVuZGVyIGZsb2F0ZWQg
ZWxlbWVudHMgcHJvcGVybHkKICBhZnRlckZpbmlzaEludGVybmFsOiBmdW5jdGlv
bihlZmZlY3QpIHsKICAgIGVmZmVjdC5lbGVtZW50LmZvcmNlUmVyZW5kZXJpbmco
KTsKICB9LAogIGJlZm9yZVNldHVwOiBmdW5jdGlvbihlZmZlY3QpIHsKICAgIGVm
ZmVjdC5lbGVtZW50LnNldE9wYWNpdHkoZWZmZWN0Lm9wdGlvbnMuZnJvbSkuc2hv
dygpOwogIH19LCBhcmd1bWVudHNbMV0gfHwgeyB9KTsKICByZXR1cm4gbmV3IEVm
ZmVjdC5PcGFjaXR5KGVsZW1lbnQsb3B0aW9ucyk7Cn07CgpFZmZlY3QuUHVmZiA9
IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICBlbGVtZW50ID0gJChlbGVtZW50KTsKICB2
YXIgb2xkU3R5bGUgPSB7CiAgICBvcGFjaXR5OiBlbGVtZW50LmdldElubGluZU9w
YWNpdHkoKSwKICAgIHBvc2l0aW9uOiBlbGVtZW50LmdldFN0eWxlKCdwb3NpdGlv
bicpLAogICAgdG9wOiAgZWxlbWVudC5zdHlsZS50b3AsCiAgICBsZWZ0OiBlbGVt
ZW50LnN0eWxlLmxlZnQsCiAgICB3aWR0aDogZWxlbWVudC5zdHlsZS53aWR0aCwK
ICAgIGhlaWdodDogZWxlbWVudC5zdHlsZS5oZWlnaHQKICB9OwogIHJldHVybiBu
ZXcgRWZmZWN0LlBhcmFsbGVsKAogICBbIG5ldyBFZmZlY3QuU2NhbGUoZWxlbWVu
dCwgMjAwLAogICAgICB7IHN5bmM6IHRydWUsIHNjYWxlRnJvbUNlbnRlcjogdHJ1
ZSwgc2NhbGVDb250ZW50OiB0cnVlLCByZXN0b3JlQWZ0ZXJGaW5pc2g6IHRydWUg
fSksCiAgICAgbmV3IEVmZmVjdC5PcGFjaXR5KGVsZW1lbnQsIHsgc3luYzogdHJ1
ZSwgdG86IDAuMCB9ICkgXSwKICAgICBPYmplY3QuZXh0ZW5kKHsgZHVyYXRpb246
IDEuMCwKICAgICAgYmVmb3JlU2V0dXBJbnRlcm5hbDogZnVuY3Rpb24oZWZmZWN0
KSB7CiAgICAgICAgUG9zaXRpb24uYWJzb2x1dGl6ZShlZmZlY3QuZWZmZWN0c1sw
XS5lbGVtZW50KTsKICAgICAgfSwKICAgICAgYWZ0ZXJGaW5pc2hJbnRlcm5hbDog
ZnVuY3Rpb24oZWZmZWN0KSB7CiAgICAgICAgIGVmZmVjdC5lZmZlY3RzWzBdLmVs
ZW1lbnQuaGlkZSgpLnNldFN0eWxlKG9sZFN0eWxlKTsgfQogICAgIH0sIGFyZ3Vt
ZW50c1sxXSB8fCB7IH0pCiAgICk7Cn07CgpFZmZlY3QuQmxpbmRVcCA9IGZ1bmN0
aW9uKGVsZW1lbnQpIHsKICBlbGVtZW50ID0gJChlbGVtZW50KTsKICBlbGVtZW50
Lm1ha2VDbGlwcGluZygpOwogIHJldHVybiBuZXcgRWZmZWN0LlNjYWxlKGVsZW1l
bnQsIDAsCiAgICBPYmplY3QuZXh0ZW5kKHsgc2NhbGVDb250ZW50OiBmYWxzZSwK
ICAgICAgc2NhbGVYOiBmYWxzZSwKICAgICAgcmVzdG9yZUFmdGVyRmluaXNoOiB0
cnVlLAogICAgICBhZnRlckZpbmlzaEludGVybmFsOiBmdW5jdGlvbihlZmZlY3Qp
IHsKICAgICAgICBlZmZlY3QuZWxlbWVudC5oaWRlKCkudW5kb0NsaXBwaW5nKCk7
CiAgICAgIH0KICAgIH0sIGFyZ3VtZW50c1sxXSB8fCB7IH0pCiAgKTsKfTsKCkVm
ZmVjdC5CbGluZERvd24gPSBmdW5jdGlvbihlbGVtZW50KSB7CiAgZWxlbWVudCA9
ICQoZWxlbWVudCk7CiAgdmFyIGVsZW1lbnREaW1lbnNpb25zID0gZWxlbWVudC5n
ZXREaW1lbnNpb25zKCk7CiAgcmV0dXJuIG5ldyBFZmZlY3QuU2NhbGUoZWxlbWVu
dCwgMTAwLCBPYmplY3QuZXh0ZW5kKHsKICAgIHNjYWxlQ29udGVudDogZmFsc2Us
CiAgICBzY2FsZVg6IGZhbHNlLAogICAgc2NhbGVGcm9tOiAwLAogICAgc2NhbGVN
b2RlOiB7b3JpZ2luYWxIZWlnaHQ6IGVsZW1lbnREaW1lbnNpb25zLmhlaWdodCwg
b3JpZ2luYWxXaWR0aDogZWxlbWVudERpbWVuc2lvbnMud2lkdGh9LAogICAgcmVz
dG9yZUFmdGVyRmluaXNoOiB0cnVlLAogICAgYWZ0ZXJTZXR1cDogZnVuY3Rpb24o
ZWZmZWN0KSB7CiAgICAgIGVmZmVjdC5lbGVtZW50Lm1ha2VDbGlwcGluZygpLnNl
dFN0eWxlKHtoZWlnaHQ6ICcwcHgnfSkuc2hvdygpOwogICAgfSwKICAgIGFmdGVy
RmluaXNoSW50ZXJuYWw6IGZ1bmN0aW9uKGVmZmVjdCkgewogICAgICBlZmZlY3Qu
ZWxlbWVudC51bmRvQ2xpcHBpbmcoKTsKICAgIH0KICB9LCBhcmd1bWVudHNbMV0g
fHwgeyB9KSk7Cn07CgpFZmZlY3QuU3dpdGNoT2ZmID0gZnVuY3Rpb24oZWxlbWVu
dCkgewogIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogIHZhciBvbGRPcGFjaXR5ID0g
ZWxlbWVudC5nZXRJbmxpbmVPcGFjaXR5KCk7CiAgcmV0dXJuIG5ldyBFZmZlY3Qu
QXBwZWFyKGVsZW1lbnQsIE9iamVjdC5leHRlbmQoewogICAgZHVyYXRpb246IDAu
NCwKICAgIGZyb206IDAsCiAgICB0cmFuc2l0aW9uOiBFZmZlY3QuVHJhbnNpdGlv
bnMuZmxpY2tlciwKICAgIGFmdGVyRmluaXNoSW50ZXJuYWw6IGZ1bmN0aW9uKGVm
ZmVjdCkgewogICAgICBuZXcgRWZmZWN0LlNjYWxlKGVmZmVjdC5lbGVtZW50LCAx
LCB7CiAgICAgICAgZHVyYXRpb246IDAuMywgc2NhbGVGcm9tQ2VudGVyOiB0cnVl
LAogICAgICAgIHNjYWxlWDogZmFsc2UsIHNjYWxlQ29udGVudDogZmFsc2UsIHJl
c3RvcmVBZnRlckZpbmlzaDogdHJ1ZSwKICAgICAgICBiZWZvcmVTZXR1cDogZnVu
Y3Rpb24oZWZmZWN0KSB7CiAgICAgICAgICBlZmZlY3QuZWxlbWVudC5tYWtlUG9z
aXRpb25lZCgpLm1ha2VDbGlwcGluZygpOwogICAgICAgIH0sCiAgICAgICAgYWZ0
ZXJGaW5pc2hJbnRlcm5hbDogZnVuY3Rpb24oZWZmZWN0KSB7CiAgICAgICAgICBl
ZmZlY3QuZWxlbWVudC5oaWRlKCkudW5kb0NsaXBwaW5nKCkudW5kb1Bvc2l0aW9u
ZWQoKS5zZXRTdHlsZSh7b3BhY2l0eTogb2xkT3BhY2l0eX0pOwogICAgICAgIH0K
ICAgICAgfSk7CiAgICB9CiAgfSwgYXJndW1lbnRzWzFdIHx8IHsgfSkpOwp9OwoK
RWZmZWN0LkRyb3BPdXQgPSBmdW5jdGlvbihlbGVtZW50KSB7CiAgZWxlbWVudCA9
ICQoZWxlbWVudCk7CiAgdmFyIG9sZFN0eWxlID0gewogICAgdG9wOiBlbGVtZW50
LmdldFN0eWxlKCd0b3AnKSwKICAgIGxlZnQ6IGVsZW1lbnQuZ2V0U3R5bGUoJ2xl
ZnQnKSwKICAgIG9wYWNpdHk6IGVsZW1lbnQuZ2V0SW5saW5lT3BhY2l0eSgpIH07
CiAgcmV0dXJuIG5ldyBFZmZlY3QuUGFyYWxsZWwoCiAgICBbIG5ldyBFZmZlY3Qu
TW92ZShlbGVtZW50LCB7eDogMCwgeTogMTAwLCBzeW5jOiB0cnVlIH0pLAogICAg
ICBuZXcgRWZmZWN0Lk9wYWNpdHkoZWxlbWVudCwgeyBzeW5jOiB0cnVlLCB0bzog
MC4wIH0pIF0sCiAgICBPYmplY3QuZXh0ZW5kKAogICAgICB7IGR1cmF0aW9uOiAw
LjUsCiAgICAgICAgYmVmb3JlU2V0dXA6IGZ1bmN0aW9uKGVmZmVjdCkgewogICAg
ICAgICAgZWZmZWN0LmVmZmVjdHNbMF0uZWxlbWVudC5tYWtlUG9zaXRpb25lZCgp
OwogICAgICAgIH0sCiAgICAgICAgYWZ0ZXJGaW5pc2hJbnRlcm5hbDogZnVuY3Rp
b24oZWZmZWN0KSB7CiAgICAgICAgICBlZmZlY3QuZWZmZWN0c1swXS5lbGVtZW50
LmhpZGUoKS51bmRvUG9zaXRpb25lZCgpLnNldFN0eWxlKG9sZFN0eWxlKTsKICAg
ICAgICB9CiAgICAgIH0sIGFyZ3VtZW50c1sxXSB8fCB7IH0pKTsKfTsKCkVmZmVj
dC5TaGFrZSA9IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICBlbGVtZW50ID0gJChlbGVt
ZW50KTsKICB2YXIgb3B0aW9ucyA9IE9iamVjdC5leHRlbmQoewogICAgZGlzdGFu
Y2U6IDIwLAogICAgZHVyYXRpb246IDAuNQogIH0sIGFyZ3VtZW50c1sxXSB8fCB7
fSk7CiAgdmFyIGRpc3RhbmNlID0gcGFyc2VGbG9hdChvcHRpb25zLmRpc3RhbmNl
KTsKICB2YXIgc3BsaXQgPSBwYXJzZUZsb2F0KG9wdGlvbnMuZHVyYXRpb24pIC8g
MTAuMDsKICB2YXIgb2xkU3R5bGUgPSB7CiAgICB0b3A6IGVsZW1lbnQuZ2V0U3R5
bGUoJ3RvcCcpLAogICAgbGVmdDogZWxlbWVudC5nZXRTdHlsZSgnbGVmdCcpIH07
CiAgICByZXR1cm4gbmV3IEVmZmVjdC5Nb3ZlKGVsZW1lbnQsCiAgICAgIHsgeDog
IGRpc3RhbmNlLCB5OiAwLCBkdXJhdGlvbjogc3BsaXQsIGFmdGVyRmluaXNoSW50
ZXJuYWw6IGZ1bmN0aW9uKGVmZmVjdCkgewogICAgbmV3IEVmZmVjdC5Nb3ZlKGVm
ZmVjdC5lbGVtZW50LAogICAgICB7IHg6IC1kaXN0YW5jZSoyLCB5OiAwLCBkdXJh
dGlvbjogc3BsaXQqMiwgIGFmdGVyRmluaXNoSW50ZXJuYWw6IGZ1bmN0aW9uKGVm
ZmVjdCkgewogICAgbmV3IEVmZmVjdC5Nb3ZlKGVmZmVjdC5lbGVtZW50LAogICAg
ICB7IHg6ICBkaXN0YW5jZSoyLCB5OiAwLCBkdXJhdGlvbjogc3BsaXQqMiwgIGFm
dGVyRmluaXNoSW50ZXJuYWw6IGZ1bmN0aW9uKGVmZmVjdCkgewogICAgbmV3IEVm
ZmVjdC5Nb3ZlKGVmZmVjdC5lbGVtZW50LAogICAgICB7IHg6IC1kaXN0YW5jZSoy
LCB5OiAwLCBkdXJhdGlvbjogc3BsaXQqMiwgIGFmdGVyRmluaXNoSW50ZXJuYWw6
IGZ1bmN0aW9uKGVmZmVjdCkgewogICAgbmV3IEVmZmVjdC5Nb3ZlKGVmZmVjdC5l
bGVtZW50LAogICAgICB7IHg6ICBkaXN0YW5jZSoyLCB5OiAwLCBkdXJhdGlvbjog
c3BsaXQqMiwgIGFmdGVyRmluaXNoSW50ZXJuYWw6IGZ1bmN0aW9uKGVmZmVjdCkg
ewogICAgbmV3IEVmZmVjdC5Nb3ZlKGVmZmVjdC5lbGVtZW50LAogICAgICB7IHg6
IC1kaXN0YW5jZSwgeTogMCwgZHVyYXRpb246IHNwbGl0LCBhZnRlckZpbmlzaElu
dGVybmFsOiBmdW5jdGlvbihlZmZlY3QpIHsKICAgICAgICBlZmZlY3QuZWxlbWVu
dC51bmRvUG9zaXRpb25lZCgpLnNldFN0eWxlKG9sZFN0eWxlKTsKICB9fSk7IH19
KTsgfX0pOyB9fSk7IH19KTsgfX0pOwp9OwoKRWZmZWN0LlNsaWRlRG93biA9IGZ1
bmN0aW9uKGVsZW1lbnQpIHsKICBlbGVtZW50ID0gJChlbGVtZW50KS5jbGVhbldo
aXRlc3BhY2UoKTsKICAvLyBTbGlkZURvd24gbmVlZCB0byBoYXZlIHRoZSBjb250
ZW50IG9mIHRoZSBlbGVtZW50IHdyYXBwZWQgaW4gYSBjb250YWluZXIgZWxlbWVu
dCB3aXRoIGZpeGVkIGhlaWdodCEKICB2YXIgb2xkSW5uZXJCb3R0b20gPSBlbGVt
ZW50LmRvd24oKS5nZXRTdHlsZSgnYm90dG9tJyk7CiAgdmFyIGVsZW1lbnREaW1l
bnNpb25zID0gZWxlbWVudC5nZXREaW1lbnNpb25zKCk7CiAgcmV0dXJuIG5ldyBF
ZmZlY3QuU2NhbGUoZWxlbWVudCwgMTAwLCBPYmplY3QuZXh0ZW5kKHsKICAgIHNj
YWxlQ29udGVudDogZmFsc2UsCiAgICBzY2FsZVg6IGZhbHNlLAogICAgc2NhbGVG
cm9tOiB3aW5kb3cub3BlcmEgPyAwIDogMSwKICAgIHNjYWxlTW9kZToge29yaWdp
bmFsSGVpZ2h0OiBlbGVtZW50RGltZW5zaW9ucy5oZWlnaHQsIG9yaWdpbmFsV2lk
dGg6IGVsZW1lbnREaW1lbnNpb25zLndpZHRofSwKICAgIHJlc3RvcmVBZnRlckZp
bmlzaDogdHJ1ZSwKICAgIGFmdGVyU2V0dXA6IGZ1bmN0aW9uKGVmZmVjdCkgewog
ICAgICBlZmZlY3QuZWxlbWVudC5tYWtlUG9zaXRpb25lZCgpOwogICAgICBlZmZl
Y3QuZWxlbWVudC5kb3duKCkubWFrZVBvc2l0aW9uZWQoKTsKICAgICAgaWYgKHdp
bmRvdy5vcGVyYSkgZWZmZWN0LmVsZW1lbnQuc2V0U3R5bGUoe3RvcDogJyd9KTsK
ICAgICAgZWZmZWN0LmVsZW1lbnQubWFrZUNsaXBwaW5nKCkuc2V0U3R5bGUoe2hl
aWdodDogJzBweCd9KS5zaG93KCk7CiAgICB9LAogICAgYWZ0ZXJVcGRhdGVJbnRl
cm5hbDogZnVuY3Rpb24oZWZmZWN0KSB7CiAgICAgIGVmZmVjdC5lbGVtZW50LmRv
d24oKS5zZXRTdHlsZSh7Ym90dG9tOgogICAgICAgIChlZmZlY3QuZGltc1swXSAt
IGVmZmVjdC5lbGVtZW50LmNsaWVudEhlaWdodCkgKyAncHgnIH0pOwogICAgfSwK
ICAgIGFmdGVyRmluaXNoSW50ZXJuYWw6IGZ1bmN0aW9uKGVmZmVjdCkgewogICAg
ICBlZmZlY3QuZWxlbWVudC51bmRvQ2xpcHBpbmcoKS51bmRvUG9zaXRpb25lZCgp
OwogICAgICBlZmZlY3QuZWxlbWVudC5kb3duKCkudW5kb1Bvc2l0aW9uZWQoKS5z
ZXRTdHlsZSh7Ym90dG9tOiBvbGRJbm5lckJvdHRvbX0pOyB9CiAgICB9LCBhcmd1
bWVudHNbMV0gfHwgeyB9KQogICk7Cn07CgpFZmZlY3QuU2xpZGVVcCA9IGZ1bmN0
aW9uKGVsZW1lbnQpIHsKICBlbGVtZW50ID0gJChlbGVtZW50KS5jbGVhbldoaXRl
c3BhY2UoKTsKICB2YXIgb2xkSW5uZXJCb3R0b20gPSBlbGVtZW50LmRvd24oKS5n
ZXRTdHlsZSgnYm90dG9tJyk7CiAgdmFyIGVsZW1lbnREaW1lbnNpb25zID0gZWxl
bWVudC5nZXREaW1lbnNpb25zKCk7CiAgcmV0dXJuIG5ldyBFZmZlY3QuU2NhbGUo
ZWxlbWVudCwgd2luZG93Lm9wZXJhID8gMCA6IDEsCiAgIE9iamVjdC5leHRlbmQo
eyBzY2FsZUNvbnRlbnQ6IGZhbHNlLAogICAgc2NhbGVYOiBmYWxzZSwKICAgIHNj
YWxlTW9kZTogJ2JveCcsCiAgICBzY2FsZUZyb206IDEwMCwKICAgIHNjYWxlTW9k
ZToge29yaWdpbmFsSGVpZ2h0OiBlbGVtZW50RGltZW5zaW9ucy5oZWlnaHQsIG9y
aWdpbmFsV2lkdGg6IGVsZW1lbnREaW1lbnNpb25zLndpZHRofSwKICAgIHJlc3Rv
cmVBZnRlckZpbmlzaDogdHJ1ZSwKICAgIGFmdGVyU2V0dXA6IGZ1bmN0aW9uKGVm
ZmVjdCkgewogICAgICBlZmZlY3QuZWxlbWVudC5tYWtlUG9zaXRpb25lZCgpOwog
ICAgICBlZmZlY3QuZWxlbWVudC5kb3duKCkubWFrZVBvc2l0aW9uZWQoKTsKICAg
ICAgaWYgKHdpbmRvdy5vcGVyYSkgZWZmZWN0LmVsZW1lbnQuc2V0U3R5bGUoe3Rv
cDogJyd9KTsKICAgICAgZWZmZWN0LmVsZW1lbnQubWFrZUNsaXBwaW5nKCkuc2hv
dygpOwogICAgfSwKICAgIGFmdGVyVXBkYXRlSW50ZXJuYWw6IGZ1bmN0aW9uKGVm
ZmVjdCkgewogICAgICBlZmZlY3QuZWxlbWVudC5kb3duKCkuc2V0U3R5bGUoe2Jv
dHRvbToKICAgICAgICAoZWZmZWN0LmRpbXNbMF0gLSBlZmZlY3QuZWxlbWVudC5j
bGllbnRIZWlnaHQpICsgJ3B4JyB9KTsKICAgIH0sCiAgICBhZnRlckZpbmlzaElu
dGVybmFsOiBmdW5jdGlvbihlZmZlY3QpIHsKICAgICAgZWZmZWN0LmVsZW1lbnQu
aGlkZSgpLnVuZG9DbGlwcGluZygpLnVuZG9Qb3NpdGlvbmVkKCk7CiAgICAgIGVm
ZmVjdC5lbGVtZW50LmRvd24oKS51bmRvUG9zaXRpb25lZCgpLnNldFN0eWxlKHti
b3R0b206IG9sZElubmVyQm90dG9tfSk7CiAgICB9CiAgIH0sIGFyZ3VtZW50c1sx
XSB8fCB7IH0pCiAgKTsKfTsKCi8vIEJ1ZyBpbiBvcGVyYSBtYWtlcyB0aGUgVEQg
Y29udGFpbmluZyB0aGlzIGVsZW1lbnQgZXhwYW5kIGZvciBhIGluc3RhbmNlIGFm
dGVyIGZpbmlzaApFZmZlY3QuU3F1aXNoID0gZnVuY3Rpb24oZWxlbWVudCkgewog
IHJldHVybiBuZXcgRWZmZWN0LlNjYWxlKGVsZW1lbnQsIHdpbmRvdy5vcGVyYSA/
IDEgOiAwLCB7CiAgICByZXN0b3JlQWZ0ZXJGaW5pc2g6IHRydWUsCiAgICBiZWZv
cmVTZXR1cDogZnVuY3Rpb24oZWZmZWN0KSB7CiAgICAgIGVmZmVjdC5lbGVtZW50
Lm1ha2VDbGlwcGluZygpOwogICAgfSwKICAgIGFmdGVyRmluaXNoSW50ZXJuYWw6
IGZ1bmN0aW9uKGVmZmVjdCkgewogICAgICBlZmZlY3QuZWxlbWVudC5oaWRlKCku
dW5kb0NsaXBwaW5nKCk7CiAgICB9CiAgfSk7Cn07CgpFZmZlY3QuR3JvdyA9IGZ1
bmN0aW9uKGVsZW1lbnQpIHsKICBlbGVtZW50ID0gJChlbGVtZW50KTsKICB2YXIg
b3B0aW9ucyA9IE9iamVjdC5leHRlbmQoewogICAgZGlyZWN0aW9uOiAnY2VudGVy
JywKICAgIG1vdmVUcmFuc2l0aW9uOiBFZmZlY3QuVHJhbnNpdGlvbnMuc2lub2lk
YWwsCiAgICBzY2FsZVRyYW5zaXRpb246IEVmZmVjdC5UcmFuc2l0aW9ucy5zaW5v
aWRhbCwKICAgIG9wYWNpdHlUcmFuc2l0aW9uOiBFZmZlY3QuVHJhbnNpdGlvbnMu
ZnVsbAogIH0sIGFyZ3VtZW50c1sxXSB8fCB7IH0pOwogIHZhciBvbGRTdHlsZSA9
IHsKICAgIHRvcDogZWxlbWVudC5zdHlsZS50b3AsCiAgICBsZWZ0OiBlbGVtZW50
LnN0eWxlLmxlZnQsCiAgICBoZWlnaHQ6IGVsZW1lbnQuc3R5bGUuaGVpZ2h0LAog
ICAgd2lkdGg6IGVsZW1lbnQuc3R5bGUud2lkdGgsCiAgICBvcGFjaXR5OiBlbGVt
ZW50LmdldElubGluZU9wYWNpdHkoKSB9OwoKICB2YXIgZGltcyA9IGVsZW1lbnQu
Z2V0RGltZW5zaW9ucygpOwogIHZhciBpbml0aWFsTW92ZVgsIGluaXRpYWxNb3Zl
WTsKICB2YXIgbW92ZVgsIG1vdmVZOwoKICBzd2l0Y2ggKG9wdGlvbnMuZGlyZWN0
aW9uKSB7CiAgICBjYXNlICd0b3AtbGVmdCc6CiAgICAgIGluaXRpYWxNb3ZlWCA9
IGluaXRpYWxNb3ZlWSA9IG1vdmVYID0gbW92ZVkgPSAwOwogICAgICBicmVhazsK
ICAgIGNhc2UgJ3RvcC1yaWdodCc6CiAgICAgIGluaXRpYWxNb3ZlWCA9IGRpbXMu
d2lkdGg7CiAgICAgIGluaXRpYWxNb3ZlWSA9IG1vdmVZID0gMDsKICAgICAgbW92
ZVggPSAtZGltcy53aWR0aDsKICAgICAgYnJlYWs7CiAgICBjYXNlICdib3R0b20t
bGVmdCc6CiAgICAgIGluaXRpYWxNb3ZlWCA9IG1vdmVYID0gMDsKICAgICAgaW5p
dGlhbE1vdmVZID0gZGltcy5oZWlnaHQ7CiAgICAgIG1vdmVZID0gLWRpbXMuaGVp
Z2h0OwogICAgICBicmVhazsKICAgIGNhc2UgJ2JvdHRvbS1yaWdodCc6CiAgICAg
IGluaXRpYWxNb3ZlWCA9IGRpbXMud2lkdGg7CiAgICAgIGluaXRpYWxNb3ZlWSA9
IGRpbXMuaGVpZ2h0OwogICAgICBtb3ZlWCA9IC1kaW1zLndpZHRoOwogICAgICBt
b3ZlWSA9IC1kaW1zLmhlaWdodDsKICAgICAgYnJlYWs7CiAgICBjYXNlICdjZW50
ZXInOgogICAgICBpbml0aWFsTW92ZVggPSBkaW1zLndpZHRoIC8gMjsKICAgICAg
aW5pdGlhbE1vdmVZID0gZGltcy5oZWlnaHQgLyAyOwogICAgICBtb3ZlWCA9IC1k
aW1zLndpZHRoIC8gMjsKICAgICAgbW92ZVkgPSAtZGltcy5oZWlnaHQgLyAyOwog
ICAgICBicmVhazsKICB9CgogIHJldHVybiBuZXcgRWZmZWN0Lk1vdmUoZWxlbWVu
dCwgewogICAgeDogaW5pdGlhbE1vdmVYLAogICAgeTogaW5pdGlhbE1vdmVZLAog
ICAgZHVyYXRpb246IDAuMDEsCiAgICBiZWZvcmVTZXR1cDogZnVuY3Rpb24oZWZm
ZWN0KSB7CiAgICAgIGVmZmVjdC5lbGVtZW50LmhpZGUoKS5tYWtlQ2xpcHBpbmco
KS5tYWtlUG9zaXRpb25lZCgpOwogICAgfSwKICAgIGFmdGVyRmluaXNoSW50ZXJu
YWw6IGZ1bmN0aW9uKGVmZmVjdCkgewogICAgICBuZXcgRWZmZWN0LlBhcmFsbGVs
KAogICAgICAgIFsgbmV3IEVmZmVjdC5PcGFjaXR5KGVmZmVjdC5lbGVtZW50LCB7
IHN5bmM6IHRydWUsIHRvOiAxLjAsIGZyb206IDAuMCwgdHJhbnNpdGlvbjogb3B0
aW9ucy5vcGFjaXR5VHJhbnNpdGlvbiB9KSwKICAgICAgICAgIG5ldyBFZmZlY3Qu
TW92ZShlZmZlY3QuZWxlbWVudCwgeyB4OiBtb3ZlWCwgeTogbW92ZVksIHN5bmM6
IHRydWUsIHRyYW5zaXRpb246IG9wdGlvbnMubW92ZVRyYW5zaXRpb24gfSksCiAg
ICAgICAgICBuZXcgRWZmZWN0LlNjYWxlKGVmZmVjdC5lbGVtZW50LCAxMDAsIHsK
ICAgICAgICAgICAgc2NhbGVNb2RlOiB7IG9yaWdpbmFsSGVpZ2h0OiBkaW1zLmhl
aWdodCwgb3JpZ2luYWxXaWR0aDogZGltcy53aWR0aCB9LAogICAgICAgICAgICBz
eW5jOiB0cnVlLCBzY2FsZUZyb206IHdpbmRvdy5vcGVyYSA/IDEgOiAwLCB0cmFu
c2l0aW9uOiBvcHRpb25zLnNjYWxlVHJhbnNpdGlvbiwgcmVzdG9yZUFmdGVyRmlu
aXNoOiB0cnVlfSkKICAgICAgICBdLCBPYmplY3QuZXh0ZW5kKHsKICAgICAgICAg
ICAgIGJlZm9yZVNldHVwOiBmdW5jdGlvbihlZmZlY3QpIHsKICAgICAgICAgICAg
ICAgZWZmZWN0LmVmZmVjdHNbMF0uZWxlbWVudC5zZXRTdHlsZSh7aGVpZ2h0OiAn
MHB4J30pLnNob3coKTsKICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICBhZnRl
ckZpbmlzaEludGVybmFsOiBmdW5jdGlvbihlZmZlY3QpIHsKICAgICAgICAgICAg
ICAgZWZmZWN0LmVmZmVjdHNbMF0uZWxlbWVudC51bmRvQ2xpcHBpbmcoKS51bmRv
UG9zaXRpb25lZCgpLnNldFN0eWxlKG9sZFN0eWxlKTsKICAgICAgICAgICAgIH0K
ICAgICAgICAgICB9LCBvcHRpb25zKQogICAgICApOwogICAgfQogIH0pOwp9OwoK
RWZmZWN0LlNocmluayA9IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICBlbGVtZW50ID0g
JChlbGVtZW50KTsKICB2YXIgb3B0aW9ucyA9IE9iamVjdC5leHRlbmQoewogICAg
ZGlyZWN0aW9uOiAnY2VudGVyJywKICAgIG1vdmVUcmFuc2l0aW9uOiBFZmZlY3Qu
VHJhbnNpdGlvbnMuc2lub2lkYWwsCiAgICBzY2FsZVRyYW5zaXRpb246IEVmZmVj
dC5UcmFuc2l0aW9ucy5zaW5vaWRhbCwKICAgIG9wYWNpdHlUcmFuc2l0aW9uOiBF
ZmZlY3QuVHJhbnNpdGlvbnMubm9uZQogIH0sIGFyZ3VtZW50c1sxXSB8fCB7IH0p
OwogIHZhciBvbGRTdHlsZSA9IHsKICAgIHRvcDogZWxlbWVudC5zdHlsZS50b3As
CiAgICBsZWZ0OiBlbGVtZW50LnN0eWxlLmxlZnQsCiAgICBoZWlnaHQ6IGVsZW1l
bnQuc3R5bGUuaGVpZ2h0LAogICAgd2lkdGg6IGVsZW1lbnQuc3R5bGUud2lkdGgs
CiAgICBvcGFjaXR5OiBlbGVtZW50LmdldElubGluZU9wYWNpdHkoKSB9OwoKICB2
YXIgZGltcyA9IGVsZW1lbnQuZ2V0RGltZW5zaW9ucygpOwogIHZhciBtb3ZlWCwg
bW92ZVk7CgogIHN3aXRjaCAob3B0aW9ucy5kaXJlY3Rpb24pIHsKICAgIGNhc2Ug
J3RvcC1sZWZ0JzoKICAgICAgbW92ZVggPSBtb3ZlWSA9IDA7CiAgICAgIGJyZWFr
OwogICAgY2FzZSAndG9wLXJpZ2h0JzoKICAgICAgbW92ZVggPSBkaW1zLndpZHRo
OwogICAgICBtb3ZlWSA9IDA7CiAgICAgIGJyZWFrOwogICAgY2FzZSAnYm90dG9t
LWxlZnQnOgogICAgICBtb3ZlWCA9IDA7CiAgICAgIG1vdmVZID0gZGltcy5oZWln
aHQ7CiAgICAgIGJyZWFrOwogICAgY2FzZSAnYm90dG9tLXJpZ2h0JzoKICAgICAg
bW92ZVggPSBkaW1zLndpZHRoOwogICAgICBtb3ZlWSA9IGRpbXMuaGVpZ2h0Owog
ICAgICBicmVhazsKICAgIGNhc2UgJ2NlbnRlcic6CiAgICAgIG1vdmVYID0gZGlt
cy53aWR0aCAvIDI7CiAgICAgIG1vdmVZID0gZGltcy5oZWlnaHQgLyAyOwogICAg
ICBicmVhazsKICB9CgogIHJldHVybiBuZXcgRWZmZWN0LlBhcmFsbGVsKAogICAg
WyBuZXcgRWZmZWN0Lk9wYWNpdHkoZWxlbWVudCwgeyBzeW5jOiB0cnVlLCB0bzog
MC4wLCBmcm9tOiAxLjAsIHRyYW5zaXRpb246IG9wdGlvbnMub3BhY2l0eVRyYW5z
aXRpb24gfSksCiAgICAgIG5ldyBFZmZlY3QuU2NhbGUoZWxlbWVudCwgd2luZG93
Lm9wZXJhID8gMSA6IDAsIHsgc3luYzogdHJ1ZSwgdHJhbnNpdGlvbjogb3B0aW9u
cy5zY2FsZVRyYW5zaXRpb24sIHJlc3RvcmVBZnRlckZpbmlzaDogdHJ1ZX0pLAog
ICAgICBuZXcgRWZmZWN0Lk1vdmUoZWxlbWVudCwgeyB4OiBtb3ZlWCwgeTogbW92
ZVksIHN5bmM6IHRydWUsIHRyYW5zaXRpb246IG9wdGlvbnMubW92ZVRyYW5zaXRp
b24gfSkKICAgIF0sIE9iamVjdC5leHRlbmQoewogICAgICAgICBiZWZvcmVTdGFy
dEludGVybmFsOiBmdW5jdGlvbihlZmZlY3QpIHsKICAgICAgICAgICBlZmZlY3Qu
ZWZmZWN0c1swXS5lbGVtZW50Lm1ha2VQb3NpdGlvbmVkKCkubWFrZUNsaXBwaW5n
KCk7CiAgICAgICAgIH0sCiAgICAgICAgIGFmdGVyRmluaXNoSW50ZXJuYWw6IGZ1
bmN0aW9uKGVmZmVjdCkgewogICAgICAgICAgIGVmZmVjdC5lZmZlY3RzWzBdLmVs
ZW1lbnQuaGlkZSgpLnVuZG9DbGlwcGluZygpLnVuZG9Qb3NpdGlvbmVkKCkuc2V0
U3R5bGUob2xkU3R5bGUpOyB9CiAgICAgICB9LCBvcHRpb25zKQogICk7Cn07CgpF
ZmZlY3QuUHVsc2F0ZSA9IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICBlbGVtZW50ID0g
JChlbGVtZW50KTsKICB2YXIgb3B0aW9ucyAgICA9IGFyZ3VtZW50c1sxXSB8fCB7
IH0sCiAgICBvbGRPcGFjaXR5ID0gZWxlbWVudC5nZXRJbmxpbmVPcGFjaXR5KCks
CiAgICB0cmFuc2l0aW9uID0gb3B0aW9ucy50cmFuc2l0aW9uIHx8IEVmZmVjdC5U
cmFuc2l0aW9ucy5saW5lYXIsCiAgICByZXZlcnNlciAgID0gZnVuY3Rpb24ocG9z
KXsKICAgICAgcmV0dXJuIDEgLSB0cmFuc2l0aW9uKCgtTWF0aC5jb3MoKHBvcyoo
b3B0aW9ucy5wdWxzZXN8fDUpKjIpKk1hdGguUEkpLzIpICsgLjUpOwogICAgfTsK
CiAgcmV0dXJuIG5ldyBFZmZlY3QuT3BhY2l0eShlbGVtZW50LAogICAgT2JqZWN0
LmV4dGVuZChPYmplY3QuZXh0ZW5kKHsgIGR1cmF0aW9uOiAyLjAsIGZyb206IDAs
CiAgICAgIGFmdGVyRmluaXNoSW50ZXJuYWw6IGZ1bmN0aW9uKGVmZmVjdCkgeyBl
ZmZlY3QuZWxlbWVudC5zZXRTdHlsZSh7b3BhY2l0eTogb2xkT3BhY2l0eX0pOyB9
CiAgICB9LCBvcHRpb25zKSwge3RyYW5zaXRpb246IHJldmVyc2VyfSkpOwp9OwoK
RWZmZWN0LkZvbGQgPSBmdW5jdGlvbihlbGVtZW50KSB7CiAgZWxlbWVudCA9ICQo
ZWxlbWVudCk7CiAgdmFyIG9sZFN0eWxlID0gewogICAgdG9wOiBlbGVtZW50LnN0
eWxlLnRvcCwKICAgIGxlZnQ6IGVsZW1lbnQuc3R5bGUubGVmdCwKICAgIHdpZHRo
OiBlbGVtZW50LnN0eWxlLndpZHRoLAogICAgaGVpZ2h0OiBlbGVtZW50LnN0eWxl
LmhlaWdodCB9OwogIGVsZW1lbnQubWFrZUNsaXBwaW5nKCk7CiAgcmV0dXJuIG5l
dyBFZmZlY3QuU2NhbGUoZWxlbWVudCwgNSwgT2JqZWN0LmV4dGVuZCh7CiAgICBz
Y2FsZUNvbnRlbnQ6IGZhbHNlLAogICAgc2NhbGVYOiBmYWxzZSwKICAgIGFmdGVy
RmluaXNoSW50ZXJuYWw6IGZ1bmN0aW9uKGVmZmVjdCkgewogICAgbmV3IEVmZmVj
dC5TY2FsZShlbGVtZW50LCAxLCB7CiAgICAgIHNjYWxlQ29udGVudDogZmFsc2Us
CiAgICAgIHNjYWxlWTogZmFsc2UsCiAgICAgIGFmdGVyRmluaXNoSW50ZXJuYWw6
IGZ1bmN0aW9uKGVmZmVjdCkgewogICAgICAgIGVmZmVjdC5lbGVtZW50LmhpZGUo
KS51bmRvQ2xpcHBpbmcoKS5zZXRTdHlsZShvbGRTdHlsZSk7CiAgICAgIH0gfSk7
CiAgfX0sIGFyZ3VtZW50c1sxXSB8fCB7IH0pKTsKfTsKCkVmZmVjdC5Nb3JwaCA9
IENsYXNzLmNyZWF0ZShFZmZlY3QuQmFzZSwgewogIGluaXRpYWxpemU6IGZ1bmN0
aW9uKGVsZW1lbnQpIHsKICAgIHRoaXMuZWxlbWVudCA9ICQoZWxlbWVudCk7CiAg
ICBpZiAoIXRoaXMuZWxlbWVudCkgdGhyb3coRWZmZWN0Ll9lbGVtZW50RG9lc05v
dEV4aXN0RXJyb3IpOwogICAgdmFyIG9wdGlvbnMgPSBPYmplY3QuZXh0ZW5kKHsK
ICAgICAgc3R5bGU6IHsgfQogICAgfSwgYXJndW1lbnRzWzFdIHx8IHsgfSk7Cgog
ICAgaWYgKCFPYmplY3QuaXNTdHJpbmcob3B0aW9ucy5zdHlsZSkpIHRoaXMuc3R5
bGUgPSAkSChvcHRpb25zLnN0eWxlKTsKICAgIGVsc2UgewogICAgICBpZiAob3B0
aW9ucy5zdHlsZS5pbmNsdWRlKCc6JykpCiAgICAgICAgdGhpcy5zdHlsZSA9IG9w
dGlvbnMuc3R5bGUucGFyc2VTdHlsZSgpOwogICAgICBlbHNlIHsKICAgICAgICB0
aGlzLmVsZW1lbnQuYWRkQ2xhc3NOYW1lKG9wdGlvbnMuc3R5bGUpOwogICAgICAg
IHRoaXMuc3R5bGUgPSAkSCh0aGlzLmVsZW1lbnQuZ2V0U3R5bGVzKCkpOwogICAg
ICAgIHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzc05hbWUob3B0aW9ucy5zdHlsZSk7
CiAgICAgICAgdmFyIGNzcyA9IHRoaXMuZWxlbWVudC5nZXRTdHlsZXMoKTsKICAg
ICAgICB0aGlzLnN0eWxlID0gdGhpcy5zdHlsZS5yZWplY3QoZnVuY3Rpb24oc3R5
bGUpIHsKICAgICAgICAgIHJldHVybiBzdHlsZS52YWx1ZSA9PSBjc3Nbc3R5bGUu
a2V5XTsKICAgICAgICB9KTsKICAgICAgICBvcHRpb25zLmFmdGVyRmluaXNoSW50
ZXJuYWwgPSBmdW5jdGlvbihlZmZlY3QpIHsKICAgICAgICAgIGVmZmVjdC5lbGVt
ZW50LmFkZENsYXNzTmFtZShlZmZlY3Qub3B0aW9ucy5zdHlsZSk7CiAgICAgICAg
ICBlZmZlY3QudHJhbnNmb3Jtcy5lYWNoKGZ1bmN0aW9uKHRyYW5zZm9ybSkgewog
ICAgICAgICAgICBlZmZlY3QuZWxlbWVudC5zdHlsZVt0cmFuc2Zvcm0uc3R5bGVd
ID0gJyc7CiAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICB9CiAgICB9CiAg
ICB0aGlzLnN0YXJ0KG9wdGlvbnMpOwogIH0sCgogIHNldHVwOiBmdW5jdGlvbigp
ewogICAgZnVuY3Rpb24gcGFyc2VDb2xvcihjb2xvcil7CiAgICAgIGlmICghY29s
b3IgfHwgWydyZ2JhKDAsIDAsIDAsIDApJywndHJhbnNwYXJlbnQnXS5pbmNsdWRl
KGNvbG9yKSkgY29sb3IgPSAnI2ZmZmZmZic7CiAgICAgIGNvbG9yID0gY29sb3Iu
cGFyc2VDb2xvcigpOwogICAgICByZXR1cm4gJFIoMCwyKS5tYXAoZnVuY3Rpb24o
aSl7CiAgICAgICAgcmV0dXJuIHBhcnNlSW50KCBjb2xvci5zbGljZShpKjIrMSxp
KjIrMyksIDE2ICk7CiAgICAgIH0pOwogICAgfQogICAgdGhpcy50cmFuc2Zvcm1z
ID0gdGhpcy5zdHlsZS5tYXAoZnVuY3Rpb24ocGFpcil7CiAgICAgIHZhciBwcm9w
ZXJ0eSA9IHBhaXJbMF0sIHZhbHVlID0gcGFpclsxXSwgdW5pdCA9IG51bGw7Cgog
ICAgICBpZiAodmFsdWUucGFyc2VDb2xvcignI3p6enp6eicpICE9ICcjenp6enp6
JykgewogICAgICAgIHZhbHVlID0gdmFsdWUucGFyc2VDb2xvcigpOwogICAgICAg
IHVuaXQgID0gJ2NvbG9yJzsKICAgICAgfSBlbHNlIGlmIChwcm9wZXJ0eSA9PSAn
b3BhY2l0eScpIHsKICAgICAgICB2YWx1ZSA9IHBhcnNlRmxvYXQodmFsdWUpOwog
ICAgICAgIGlmIChQcm90b3R5cGUuQnJvd3Nlci5JRSAmJiAoIXRoaXMuZWxlbWVu
dC5jdXJyZW50U3R5bGUuaGFzTGF5b3V0KSkKICAgICAgICAgIHRoaXMuZWxlbWVu
dC5zZXRTdHlsZSh7em9vbTogMX0pOwogICAgICB9IGVsc2UgaWYgKEVsZW1lbnQu
Q1NTX0xFTkdUSC50ZXN0KHZhbHVlKSkgewogICAgICAgICAgdmFyIGNvbXBvbmVu
dHMgPSB2YWx1ZS5tYXRjaCgvXihbXCtcLV0/WzAtOVwuXSspKC4qKSQvKTsKICAg
ICAgICAgIHZhbHVlID0gcGFyc2VGbG9hdChjb21wb25lbnRzWzFdKTsKICAgICAg
ICAgIHVuaXQgPSAoY29tcG9uZW50cy5sZW5ndGggPT0gMykgPyBjb21wb25lbnRz
WzJdIDogbnVsbDsKICAgICAgfQoKICAgICAgdmFyIG9yaWdpbmFsVmFsdWUgPSB0
aGlzLmVsZW1lbnQuZ2V0U3R5bGUocHJvcGVydHkpOwogICAgICByZXR1cm4gewog
ICAgICAgIHN0eWxlOiBwcm9wZXJ0eS5jYW1lbGl6ZSgpLAogICAgICAgIG9yaWdp
bmFsVmFsdWU6IHVuaXQ9PSdjb2xvcicgPyBwYXJzZUNvbG9yKG9yaWdpbmFsVmFs
dWUpIDogcGFyc2VGbG9hdChvcmlnaW5hbFZhbHVlIHx8IDApLAogICAgICAgIHRh
cmdldFZhbHVlOiB1bml0PT0nY29sb3InID8gcGFyc2VDb2xvcih2YWx1ZSkgOiB2
YWx1ZSwKICAgICAgICB1bml0OiB1bml0CiAgICAgIH07CiAgICB9LmJpbmQodGhp
cykpLnJlamVjdChmdW5jdGlvbih0cmFuc2Zvcm0pewogICAgICByZXR1cm4gKAog
ICAgICAgICh0cmFuc2Zvcm0ub3JpZ2luYWxWYWx1ZSA9PSB0cmFuc2Zvcm0udGFy
Z2V0VmFsdWUpIHx8CiAgICAgICAgKAogICAgICAgICAgdHJhbnNmb3JtLnVuaXQg
IT0gJ2NvbG9yJyAmJgogICAgICAgICAgKGlzTmFOKHRyYW5zZm9ybS5vcmlnaW5h
bFZhbHVlKSB8fCBpc05hTih0cmFuc2Zvcm0udGFyZ2V0VmFsdWUpKQogICAgICAg
ICkKICAgICAgKTsKICAgIH0pOwogIH0sCiAgdXBkYXRlOiBmdW5jdGlvbihwb3Np
dGlvbikgewogICAgdmFyIHN0eWxlID0geyB9LCB0cmFuc2Zvcm0sIGkgPSB0aGlz
LnRyYW5zZm9ybXMubGVuZ3RoOwogICAgd2hpbGUoaS0tKQogICAgICBzdHlsZVso
dHJhbnNmb3JtID0gdGhpcy50cmFuc2Zvcm1zW2ldKS5zdHlsZV0gPQogICAgICAg
IHRyYW5zZm9ybS51bml0PT0nY29sb3InID8gJyMnKwogICAgICAgICAgKE1hdGgu
cm91bmQodHJhbnNmb3JtLm9yaWdpbmFsVmFsdWVbMF0rCiAgICAgICAgICAgICh0
cmFuc2Zvcm0udGFyZ2V0VmFsdWVbMF0tdHJhbnNmb3JtLm9yaWdpbmFsVmFsdWVb
MF0pKnBvc2l0aW9uKSkudG9Db2xvclBhcnQoKSArCiAgICAgICAgICAoTWF0aC5y
b3VuZCh0cmFuc2Zvcm0ub3JpZ2luYWxWYWx1ZVsxXSsKICAgICAgICAgICAgKHRy
YW5zZm9ybS50YXJnZXRWYWx1ZVsxXS10cmFuc2Zvcm0ub3JpZ2luYWxWYWx1ZVsx
XSkqcG9zaXRpb24pKS50b0NvbG9yUGFydCgpICsKICAgICAgICAgIChNYXRoLnJv
dW5kKHRyYW5zZm9ybS5vcmlnaW5hbFZhbHVlWzJdKwogICAgICAgICAgICAodHJh
bnNmb3JtLnRhcmdldFZhbHVlWzJdLXRyYW5zZm9ybS5vcmlnaW5hbFZhbHVlWzJd
KSpwb3NpdGlvbikpLnRvQ29sb3JQYXJ0KCkgOgogICAgICAgICh0cmFuc2Zvcm0u
b3JpZ2luYWxWYWx1ZSArCiAgICAgICAgICAodHJhbnNmb3JtLnRhcmdldFZhbHVl
IC0gdHJhbnNmb3JtLm9yaWdpbmFsVmFsdWUpICogcG9zaXRpb24pLnRvRml4ZWQo
MykgKwogICAgICAgICAgICAodHJhbnNmb3JtLnVuaXQgPT09IG51bGwgPyAnJyA6
IHRyYW5zZm9ybS51bml0KTsKICAgIHRoaXMuZWxlbWVudC5zZXRTdHlsZShzdHls
ZSwgdHJ1ZSk7CiAgfQp9KTsKCkVmZmVjdC5UcmFuc2Zvcm0gPSBDbGFzcy5jcmVh
dGUoewogIGluaXRpYWxpemU6IGZ1bmN0aW9uKHRyYWNrcyl7CiAgICB0aGlzLnRy
YWNrcyAgPSBbXTsKICAgIHRoaXMub3B0aW9ucyA9IGFyZ3VtZW50c1sxXSB8fCB7
IH07CiAgICB0aGlzLmFkZFRyYWNrcyh0cmFja3MpOwogIH0sCiAgYWRkVHJhY2tz
OiBmdW5jdGlvbih0cmFja3MpewogICAgdHJhY2tzLmVhY2goZnVuY3Rpb24odHJh
Y2spewogICAgICB0cmFjayA9ICRIKHRyYWNrKTsKICAgICAgdmFyIGRhdGEgPSB0
cmFjay52YWx1ZXMoKS5maXJzdCgpOwogICAgICB0aGlzLnRyYWNrcy5wdXNoKCRI
KHsKICAgICAgICBpZHM6ICAgICB0cmFjay5rZXlzKCkuZmlyc3QoKSwKICAgICAg
ICBlZmZlY3Q6ICBFZmZlY3QuTW9ycGgsCiAgICAgICAgb3B0aW9uczogeyBzdHls
ZTogZGF0YSB9CiAgICAgIH0pKTsKICAgIH0uYmluZCh0aGlzKSk7CiAgICByZXR1
cm4gdGhpczsKICB9LAogIHBsYXk6IGZ1bmN0aW9uKCl7CiAgICByZXR1cm4gbmV3
IEVmZmVjdC5QYXJhbGxlbCgKICAgICAgdGhpcy50cmFja3MubWFwKGZ1bmN0aW9u
KHRyYWNrKXsKICAgICAgICB2YXIgaWRzID0gdHJhY2suZ2V0KCdpZHMnKSwgZWZm
ZWN0ID0gdHJhY2suZ2V0KCdlZmZlY3QnKSwgb3B0aW9ucyA9IHRyYWNrLmdldCgn
b3B0aW9ucycpOwogICAgICAgIHZhciBlbGVtZW50cyA9IFskKGlkcykgfHwgJCQo
aWRzKV0uZmxhdHRlbigpOwogICAgICAgIHJldHVybiBlbGVtZW50cy5tYXAoZnVu
Y3Rpb24oZSl7IHJldHVybiBuZXcgZWZmZWN0KGUsIE9iamVjdC5leHRlbmQoeyBz
eW5jOnRydWUgfSwgb3B0aW9ucykpIH0pOwogICAgICB9KS5mbGF0dGVuKCksCiAg
ICAgIHRoaXMub3B0aW9ucwogICAgKTsKICB9Cn0pOwoKRWxlbWVudC5DU1NfUFJP
UEVSVElFUyA9ICR3KAogICdiYWNrZ3JvdW5kQ29sb3IgYmFja2dyb3VuZFBvc2l0
aW9uIGJvcmRlckJvdHRvbUNvbG9yIGJvcmRlckJvdHRvbVN0eWxlICcgKwogICdi
b3JkZXJCb3R0b21XaWR0aCBib3JkZXJMZWZ0Q29sb3IgYm9yZGVyTGVmdFN0eWxl
IGJvcmRlckxlZnRXaWR0aCAnICsKICAnYm9yZGVyUmlnaHRDb2xvciBib3JkZXJS
aWdodFN0eWxlIGJvcmRlclJpZ2h0V2lkdGggYm9yZGVyU3BhY2luZyAnICsKICAn
Ym9yZGVyVG9wQ29sb3IgYm9yZGVyVG9wU3R5bGUgYm9yZGVyVG9wV2lkdGggYm90
dG9tIGNsaXAgY29sb3IgJyArCiAgJ2ZvbnRTaXplIGZvbnRXZWlnaHQgaGVpZ2h0
IGxlZnQgbGV0dGVyU3BhY2luZyBsaW5lSGVpZ2h0ICcgKwogICdtYXJnaW5Cb3R0
b20gbWFyZ2luTGVmdCBtYXJnaW5SaWdodCBtYXJnaW5Ub3AgbWFya2VyT2Zmc2V0
IG1heEhlaWdodCAnKwogICdtYXhXaWR0aCBtaW5IZWlnaHQgbWluV2lkdGggb3Bh
Y2l0eSBvdXRsaW5lQ29sb3Igb3V0bGluZU9mZnNldCAnICsKICAnb3V0bGluZVdp
ZHRoIHBhZGRpbmdCb3R0b20gcGFkZGluZ0xlZnQgcGFkZGluZ1JpZ2h0IHBhZGRp
bmdUb3AgJyArCiAgJ3JpZ2h0IHRleHRJbmRlbnQgdG9wIHdpZHRoIHdvcmRTcGFj
aW5nIHpJbmRleCcpOwoKRWxlbWVudC5DU1NfTEVOR1RIID0gL14oKFtcK1wtXT9b
MC05XC5dKykoZW18ZXh8cHh8aW58Y218bW18cHR8cGN8XCUpKXwwJC87CgpTdHJp
bmcuX19wYXJzZVN0eWxlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQo
J2RpdicpOwpTdHJpbmcucHJvdG90eXBlLnBhcnNlU3R5bGUgPSBmdW5jdGlvbigp
ewogIHZhciBzdHlsZSwgc3R5bGVSdWxlcyA9ICRIKCk7CiAgaWYgKFByb3RvdHlw
ZS5Ccm93c2VyLldlYktpdCkKICAgIHN0eWxlID0gbmV3IEVsZW1lbnQoJ2Rpdics
e3N0eWxlOnRoaXN9KS5zdHlsZTsKICBlbHNlIHsKICAgIFN0cmluZy5fX3BhcnNl
U3R5bGVFbGVtZW50LmlubmVySFRNTCA9ICc8ZGl2IHN0eWxlPSInICsgdGhpcyAr
ICciPjwvZGl2Pic7CiAgICBzdHlsZSA9IFN0cmluZy5fX3BhcnNlU3R5bGVFbGVt
ZW50LmNoaWxkTm9kZXNbMF0uc3R5bGU7CiAgfQoKICBFbGVtZW50LkNTU19QUk9Q
RVJUSUVTLmVhY2goZnVuY3Rpb24ocHJvcGVydHkpewogICAgaWYgKHN0eWxlW3By
b3BlcnR5XSkgc3R5bGVSdWxlcy5zZXQocHJvcGVydHksIHN0eWxlW3Byb3BlcnR5
XSk7CiAgfSk7CgogIGlmIChQcm90b3R5cGUuQnJvd3Nlci5JRSAmJiB0aGlzLmlu
Y2x1ZGUoJ29wYWNpdHknKSkKICAgIHN0eWxlUnVsZXMuc2V0KCdvcGFjaXR5Jywg
dGhpcy5tYXRjaCgvb3BhY2l0eTpccyooKD86MHwxKT8oPzpcLlxkKik/KS8pWzFd
KTsKCiAgcmV0dXJuIHN0eWxlUnVsZXM7Cn07CgppZiAoZG9jdW1lbnQuZGVmYXVs
dFZpZXcgJiYgZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSkg
ewogIEVsZW1lbnQuZ2V0U3R5bGVzID0gZnVuY3Rpb24oZWxlbWVudCkgewogICAg
dmFyIGNzcyA9IGRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUo
JChlbGVtZW50KSwgbnVsbCk7CiAgICByZXR1cm4gRWxlbWVudC5DU1NfUFJPUEVS
VElFUy5pbmplY3QoeyB9LCBmdW5jdGlvbihzdHlsZXMsIHByb3BlcnR5KSB7CiAg
ICAgIHN0eWxlc1twcm9wZXJ0eV0gPSBjc3NbcHJvcGVydHldOwogICAgICByZXR1
cm4gc3R5bGVzOwogICAgfSk7CiAgfTsKfSBlbHNlIHsKICBFbGVtZW50LmdldFN0
eWxlcyA9IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1l
bnQpOwogICAgdmFyIGNzcyA9IGVsZW1lbnQuY3VycmVudFN0eWxlLCBzdHlsZXM7
CiAgICBzdHlsZXMgPSBFbGVtZW50LkNTU19QUk9QRVJUSUVTLmluamVjdCh7IH0s
IGZ1bmN0aW9uKHJlc3VsdHMsIHByb3BlcnR5KSB7CiAgICAgIHJlc3VsdHNbcHJv
cGVydHldID0gY3NzW3Byb3BlcnR5XTsKICAgICAgcmV0dXJuIHJlc3VsdHM7CiAg
ICB9KTsKICAgIGlmICghc3R5bGVzLm9wYWNpdHkpIHN0eWxlcy5vcGFjaXR5ID0g
ZWxlbWVudC5nZXRPcGFjaXR5KCk7CiAgICByZXR1cm4gc3R5bGVzOwogIH07Cn0K
CkVmZmVjdC5NZXRob2RzID0gewogIG1vcnBoOiBmdW5jdGlvbihlbGVtZW50LCBz
dHlsZSkgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CiAgICBuZXcgRWZmZWN0
Lk1vcnBoKGVsZW1lbnQsIE9iamVjdC5leHRlbmQoeyBzdHlsZTogc3R5bGUgfSwg
YXJndW1lbnRzWzJdIHx8IHsgfSkpOwogICAgcmV0dXJuIGVsZW1lbnQ7CiAgfSwK
ICB2aXN1YWxFZmZlY3Q6IGZ1bmN0aW9uKGVsZW1lbnQsIGVmZmVjdCwgb3B0aW9u
cykgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CiAgICB2YXIgcyA9IGVmZmVj
dC5kYXNoZXJpemUoKS5jYW1lbGl6ZSgpLCBrbGFzcyA9IHMuY2hhckF0KDApLnRv
VXBwZXJDYXNlKCkgKyBzLnN1YnN0cmluZygxKTsKICAgIG5ldyBFZmZlY3Rba2xh
c3NdKGVsZW1lbnQsIG9wdGlvbnMpOwogICAgcmV0dXJuIGVsZW1lbnQ7CiAgfSwK
ICBoaWdobGlnaHQ6IGZ1bmN0aW9uKGVsZW1lbnQsIG9wdGlvbnMpIHsKICAgIGVs
ZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgbmV3IEVmZmVjdC5IaWdobGlnaHQoZWxl
bWVudCwgb3B0aW9ucyk7CiAgICByZXR1cm4gZWxlbWVudDsKICB9Cn07Cgokdygn
ZmFkZSBhcHBlYXIgZ3JvdyBzaHJpbmsgZm9sZCBibGluZFVwIGJsaW5kRG93biBz
bGlkZVVwIHNsaWRlRG93biAnKwogICdwdWxzYXRlIHNoYWtlIHB1ZmYgc3F1aXNo
IHN3aXRjaE9mZiBkcm9wT3V0JykuZWFjaCgKICBmdW5jdGlvbihlZmZlY3QpIHsK
ICAgIEVmZmVjdC5NZXRob2RzW2VmZmVjdF0gPSBmdW5jdGlvbihlbGVtZW50LCBv
cHRpb25zKXsKICAgICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CiAgICAgIEVmZmVj
dFtlZmZlY3QuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBlZmZlY3Quc3Vic3Ry
aW5nKDEpXShlbGVtZW50LCBvcHRpb25zKTsKICAgICAgcmV0dXJuIGVsZW1lbnQ7
CiAgICB9OwogIH0KKTsKCiR3KCdnZXRJbmxpbmVPcGFjaXR5IGZvcmNlUmVyZW5k
ZXJpbmcgc2V0Q29udGVudFpvb20gY29sbGVjdFRleHROb2RlcyBjb2xsZWN0VGV4
dE5vZGVzSWdub3JlQ2xhc3MgZ2V0U3R5bGVzJykuZWFjaCgKICBmdW5jdGlvbihm
KSB7IEVmZmVjdC5NZXRob2RzW2ZdID0gRWxlbWVudFtmXTsgfQopOwoKRWxlbWVu
dC5hZGRNZXRob2RzKEVmZmVjdC5NZXRob2RzKTsvLyBzY3JpcHQuYWN1bG8udXMg
YnVpbGRlci5qcyB2MS44LjAsIFR1ZSBOb3YgMDYgMTU6MDE6NDAgKzAzMDAgMjAw
NwoKLy8gQ29weXJpZ2h0IChjKSAyMDA1LTIwMDcgVGhvbWFzIEZ1Y2hzIChodHRw
Oi8vc2NyaXB0LmFjdWxvLnVzLCBodHRwOi8vbWlyLmFjdWxvLnVzKQovLwovLyBz
Y3JpcHQuYWN1bG8udXMgaXMgZnJlZWx5IGRpc3RyaWJ1dGFibGUgdW5kZXIgdGhl
IHRlcm1zIG9mIGFuIE1JVC1zdHlsZSBsaWNlbnNlLgovLyBGb3IgZGV0YWlscywg
c2VlIHRoZSBzY3JpcHQuYWN1bG8udXMgd2ViIHNpdGU6IGh0dHA6Ly9zY3JpcHQu
YWN1bG8udXMvCgp2YXIgQnVpbGRlciA9IHsKICBOT0RFTUFQOiB7CiAgICBBUkVB
OiAnbWFwJywKICAgIENBUFRJT046ICd0YWJsZScsCiAgICBDT0w6ICd0YWJsZScs
CiAgICBDT0xHUk9VUDogJ3RhYmxlJywKICAgIExFR0VORDogJ2ZpZWxkc2V0JywK
ICAgIE9QVEdST1VQOiAnc2VsZWN0JywKICAgIE9QVElPTjogJ3NlbGVjdCcsCiAg
ICBQQVJBTTogJ29iamVjdCcsCiAgICBUQk9EWTogJ3RhYmxlJywKICAgIFREOiAn
dGFibGUnLAogICAgVEZPT1Q6ICd0YWJsZScsCiAgICBUSDogJ3RhYmxlJywKICAg
IFRIRUFEOiAndGFibGUnLAogICAgVFI6ICd0YWJsZScKICB9LAogIC8vIG5vdGU6
IEZvciBGaXJlZm94IDwgMS41LCBPUFRJT04gYW5kIE9QVEdST1VQIHRhZ3MgYXJl
IGN1cnJlbnRseSBicm9rZW4sCiAgLy8gICAgICAgZHVlIHRvIGEgRmlyZWZveCBi
dWcKICBub2RlOiBmdW5jdGlvbihlbGVtZW50TmFtZSkgewogICAgZWxlbWVudE5h
bWUgPSBlbGVtZW50TmFtZS50b1VwcGVyQ2FzZSgpOwogICAgCiAgICAvLyB0cnkg
aW5uZXJIVE1MIGFwcHJvYWNoCiAgICB2YXIgcGFyZW50VGFnID0gdGhpcy5OT0RF
TUFQW2VsZW1lbnROYW1lXSB8fCAnZGl2JzsKICAgIHZhciBwYXJlbnRFbGVtZW50
ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChwYXJlbnRUYWcpOwogICAgdHJ5IHsg
Ly8gcHJldmVudCBJRSAiZmVhdHVyZSI6IGh0dHA6Ly9kZXYucnVieW9ucmFpbHMu
b3JnL3RpY2tldC8yNzA3CiAgICAgIHBhcmVudEVsZW1lbnQuaW5uZXJIVE1MID0g
IjwiICsgZWxlbWVudE5hbWUgKyAiPjwvIiArIGVsZW1lbnROYW1lICsgIj4iOwog
ICAgfSBjYXRjaChlKSB7fQogICAgdmFyIGVsZW1lbnQgPSBwYXJlbnRFbGVtZW50
LmZpcnN0Q2hpbGQgfHwgbnVsbDsKICAgICAgCiAgICAvLyBzZWUgaWYgYnJvd3Nl
ciBhZGRlZCB3cmFwcGluZyB0YWdzCiAgICBpZihlbGVtZW50ICYmIChlbGVtZW50
LnRhZ05hbWUudG9VcHBlckNhc2UoKSAhPSBlbGVtZW50TmFtZSkpCiAgICAgIGVs
ZW1lbnQgPSBlbGVtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKGVsZW1lbnROYW1l
KVswXTsKICAgIAogICAgLy8gZmFsbGJhY2sgdG8gY3JlYXRlRWxlbWVudCBhcHBy
b2FjaAogICAgaWYoIWVsZW1lbnQpIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVF
bGVtZW50KGVsZW1lbnROYW1lKTsKICAgIAogICAgLy8gYWJvcnQgaWYgbm90aGlu
ZyBjb3VsZCBiZSBjcmVhdGVkCiAgICBpZighZWxlbWVudCkgcmV0dXJuOwoKICAg
IC8vIGF0dHJpYnV0ZXMgKG9yIHRleHQpCiAgICBpZihhcmd1bWVudHNbMV0pCiAg
ICAgIGlmKHRoaXMuX2lzU3RyaW5nT3JOdW1iZXIoYXJndW1lbnRzWzFdKSB8fAog
ICAgICAgIChhcmd1bWVudHNbMV0gaW5zdGFuY2VvZiBBcnJheSkgfHwKICAgICAg
ICBhcmd1bWVudHNbMV0udGFnTmFtZSkgewogICAgICAgICAgdGhpcy5fY2hpbGRy
ZW4oZWxlbWVudCwgYXJndW1lbnRzWzFdKTsKICAgICAgICB9IGVsc2UgewogICAg
ICAgICAgdmFyIGF0dHJzID0gdGhpcy5fYXR0cmlidXRlcyhhcmd1bWVudHNbMV0p
OwogICAgICAgICAgaWYoYXR0cnMubGVuZ3RoKSB7CiAgICAgICAgICAgIHRyeSB7
IC8vIHByZXZlbnQgSUUgImZlYXR1cmUiOiBodHRwOi8vZGV2LnJ1YnlvbnJhaWxz
Lm9yZy90aWNrZXQvMjcwNwogICAgICAgICAgICAgIHBhcmVudEVsZW1lbnQuaW5u
ZXJIVE1MID0gIjwiICtlbGVtZW50TmFtZSArICIgIiArCiAgICAgICAgICAgICAg
ICBhdHRycyArICI+PC8iICsgZWxlbWVudE5hbWUgKyAiPiI7CiAgICAgICAgICAg
IH0gY2F0Y2goZSkge30KICAgICAgICAgICAgZWxlbWVudCA9IHBhcmVudEVsZW1l
bnQuZmlyc3RDaGlsZCB8fCBudWxsOwogICAgICAgICAgICAvLyB3b3JrYXJvdW5k
IGZpcmVmb3ggMS4wLlggYnVnCiAgICAgICAgICAgIGlmKCFlbGVtZW50KSB7CiAg
ICAgICAgICAgICAgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZWxl
bWVudE5hbWUpOwogICAgICAgICAgICAgIGZvcihhdHRyIGluIGFyZ3VtZW50c1sx
XSkgCiAgICAgICAgICAgICAgICBlbGVtZW50W2F0dHIgPT0gJ2NsYXNzJyA/ICdj
bGFzc05hbWUnIDogYXR0cl0gPSBhcmd1bWVudHNbMV1bYXR0cl07CiAgICAgICAg
ICAgIH0KICAgICAgICAgICAgaWYoZWxlbWVudC50YWdOYW1lLnRvVXBwZXJDYXNl
KCkgIT0gZWxlbWVudE5hbWUpCiAgICAgICAgICAgICAgZWxlbWVudCA9IHBhcmVu
dEVsZW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoZWxlbWVudE5hbWUpWzBdOwog
ICAgICAgICAgfQogICAgICAgIH0gCgogICAgLy8gdGV4dCwgb3IgYXJyYXkgb2Yg
Y2hpbGRyZW4KICAgIGlmKGFyZ3VtZW50c1syXSkKICAgICAgdGhpcy5fY2hpbGRy
ZW4oZWxlbWVudCwgYXJndW1lbnRzWzJdKTsKCiAgICAgcmV0dXJuIGVsZW1lbnQ7
CiAgfSwKICBfdGV4dDogZnVuY3Rpb24odGV4dCkgewogICAgIHJldHVybiBkb2N1
bWVudC5jcmVhdGVUZXh0Tm9kZSh0ZXh0KTsKICB9LAoKICBBVFRSX01BUDogewog
ICAgJ2NsYXNzTmFtZSc6ICdjbGFzcycsCiAgICAnaHRtbEZvcic6ICdmb3InCiAg
fSwKCiAgX2F0dHJpYnV0ZXM6IGZ1bmN0aW9uKGF0dHJpYnV0ZXMpIHsKICAgIHZh
ciBhdHRycyA9IFtdOwogICAgZm9yKGF0dHJpYnV0ZSBpbiBhdHRyaWJ1dGVzKQog
ICAgICBhdHRycy5wdXNoKChhdHRyaWJ1dGUgaW4gdGhpcy5BVFRSX01BUCA/IHRo
aXMuQVRUUl9NQVBbYXR0cmlidXRlXSA6IGF0dHJpYnV0ZSkgKwogICAgICAgICAg
Jz0iJyArIGF0dHJpYnV0ZXNbYXR0cmlidXRlXS50b1N0cmluZygpLmVzY2FwZUhU
TUwoKS5nc3ViKC8iLywnJnF1b3Q7JykgKyAnIicpOwogICAgcmV0dXJuIGF0dHJz
LmpvaW4oIiAiKTsKICB9LAogIF9jaGlsZHJlbjogZnVuY3Rpb24oZWxlbWVudCwg
Y2hpbGRyZW4pIHsKICAgIGlmKGNoaWxkcmVuLnRhZ05hbWUpIHsKICAgICAgZWxl
bWVudC5hcHBlbmRDaGlsZChjaGlsZHJlbik7CiAgICAgIHJldHVybjsKICAgIH0K
ICAgIGlmKHR5cGVvZiBjaGlsZHJlbj09J29iamVjdCcpIHsgLy8gYXJyYXkgY2Fu
IGhvbGQgbm9kZXMgYW5kIHRleHQKICAgICAgY2hpbGRyZW4uZmxhdHRlbigpLmVh
Y2goIGZ1bmN0aW9uKGUpIHsKICAgICAgICBpZih0eXBlb2YgZT09J29iamVjdCcp
CiAgICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKGUpOwogICAgICAgIGVsc2UK
ICAgICAgICAgIGlmKEJ1aWxkZXIuX2lzU3RyaW5nT3JOdW1iZXIoZSkpCiAgICAg
ICAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoQnVpbGRlci5fdGV4dChlKSk7CiAg
ICAgIH0pOwogICAgfSBlbHNlCiAgICAgIGlmKEJ1aWxkZXIuX2lzU3RyaW5nT3JO
dW1iZXIoY2hpbGRyZW4pKQogICAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoQnVp
bGRlci5fdGV4dChjaGlsZHJlbikpOwogIH0sCiAgX2lzU3RyaW5nT3JOdW1iZXI6
IGZ1bmN0aW9uKHBhcmFtKSB7CiAgICByZXR1cm4odHlwZW9mIHBhcmFtPT0nc3Ry
aW5nJyB8fCB0eXBlb2YgcGFyYW09PSdudW1iZXInKTsKICB9LAogIGJ1aWxkOiBm
dW5jdGlvbihodG1sKSB7CiAgICB2YXIgZWxlbWVudCA9IHRoaXMubm9kZSgnZGl2
Jyk7CiAgICAkKGVsZW1lbnQpLnVwZGF0ZShodG1sLnN0cmlwKCkpOwogICAgcmV0
dXJuIGVsZW1lbnQuZG93bigpOwogIH0sCiAgZHVtcDogZnVuY3Rpb24oc2NvcGUp
IHsgCiAgICBpZih0eXBlb2Ygc2NvcGUgIT0gJ29iamVjdCcgJiYgdHlwZW9mIHNj
b3BlICE9ICdmdW5jdGlvbicpIHNjb3BlID0gd2luZG93OyAvL2dsb2JhbCBzY29w
ZSAKICAKICAgIHZhciB0YWdzID0gKCJBIEFCQlIgQUNST05ZTSBBRERSRVNTIEFQ
UExFVCBBUkVBIEIgQkFTRSBCQVNFRk9OVCBCRE8gQklHIEJMT0NLUVVPVEUgQk9E
WSAiICsKICAgICAgIkJSIEJVVFRPTiBDQVBUSU9OIENFTlRFUiBDSVRFIENPREUg
Q09MIENPTEdST1VQIEREIERFTCBERk4gRElSIERJViBETCBEVCBFTSBGSUVMRFNF
VCAiICsKICAgICAgIkZPTlQgRk9STSBGUkFNRSBGUkFNRVNFVCBIMSBIMiBIMyBI
NCBINSBINiBIRUFEIEhSIEhUTUwgSSBJRlJBTUUgSU1HIElOUFVUIElOUyBJU0lO
REVYICIrCiAgICAgICJLQkQgTEFCRUwgTEVHRU5EIExJIExJTksgTUFQIE1FTlUg
TUVUQSBOT0ZSQU1FUyBOT1NDUklQVCBPQkpFQ1QgT0wgT1BUR1JPVVAgT1BUSU9O
IFAgIisKICAgICAgIlBBUkFNIFBSRSBRIFMgU0FNUCBTQ1JJUFQgU0VMRUNUIFNN
QUxMIFNQQU4gU1RSSUtFIFNUUk9ORyBTVFlMRSBTVUIgU1VQIFRBQkxFIFRCT0RZ
IFREICIrCiAgICAgICJURVhUQVJFQSBURk9PVCBUSCBUSEVBRCBUSVRMRSBUUiBU
VCBVIFVMIFZBUiIpLnNwbGl0KC9ccysvKTsKICAKICAgIHRhZ3MuZWFjaCggZnVu
Y3Rpb24odGFnKXsgCiAgICAgIHNjb3BlW3RhZ10gPSBmdW5jdGlvbigpIHsgCiAg
ICAgICAgcmV0dXJuIEJ1aWxkZXIubm9kZS5hcHBseShCdWlsZGVyLCBbdGFnXS5j
b25jYXQoJEEoYXJndW1lbnRzKSkpOyAgCiAgICAgIH0gCiAgICB9KTsKICB9Cn07
Ly8gVG9vbHRpcCBPYmplY3QKdmFyIFRvb2x0aXAgPSBDbGFzcy5jcmVhdGUoKTsK
VG9vbHRpcC5wcm90b3R5cGUgPSB7CiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oZWws
IG9wdGlvbnMpIHsKICAgIHRoaXMuZWwgPSAkKGVsKTsKICAgIHRoaXMuaW5pdGlh
bGl6ZWQgPSBmYWxzZTsKICAgIHRoaXMuc2V0T3B0aW9ucyhvcHRpb25zKTsKICAg
IAogICAgLy8gRXZlbnQgaGFuZGxlcnMKICAgIHRoaXMuc2hvd0V2ZW50ID0gdGhp
cy5zaG93LmJpbmRBc0V2ZW50TGlzdGVuZXIodGhpcyk7CiAgICB0aGlzLmhpZGVF
dmVudCA9IHRoaXMuaGlkZS5iaW5kQXNFdmVudExpc3RlbmVyKHRoaXMpOwogICAg
dGhpcy51cGRhdGVFdmVudCA9IHRoaXMudXBkYXRlLmJpbmRBc0V2ZW50TGlzdGVu
ZXIodGhpcyk7CiAgICBFdmVudC5vYnNlcnZlKHRoaXMuZWwsICJtb3VzZW92ZXIi
LCB0aGlzLnNob3dFdmVudCApOwogICAgRXZlbnQub2JzZXJ2ZSh0aGlzLmVsLCAi
bW91c2VvdXQiLCB0aGlzLmhpZGVFdmVudCApOwogICAgCiAgICAvLyBSZW1vdmlu
ZyB0aXRsZSBmcm9tIERPTSBlbGVtZW50IHRvIGF2b2lkIHNob3dpbmcgaXQKICAg
IHRoaXMuY29udGVudCA9IHRoaXMuZWwudGl0bGU7CiAgICB0aGlzLmVsLnRpdGxl
ID0gIiI7CiAgfSwKICBzZXRPcHRpb25zOiBmdW5jdGlvbihvcHRpb25zKSB7CiAg
ICB0aGlzLm9wdGlvbnMgPSB7CiAgICAgIGJhY2tncm91bmRDb2xvcjogJyM5OTkn
LCAvLyBEZWZhdWx0IGJhY2tncm91bmQgY29sb3IKICAgICAgYm9yZGVyQ29sb3I6
ICcjNjY2JywgLy8gRGVmYXVsdCBib3JkZXIgY29sb3IKICAgICAgdGV4dENvbG9y
OiAnJywgLy8gRGVmYXVsdCB0ZXh0IGNvbG9yICh1c2UgQ1NTIHZhbHVlKQogICAg
ICB0ZXh0U2hhZG93Q29sb3I6ICcnLCAvLyBEZWZhdWx0IHRleHQgc2hhZG93IGNv
bG9yICh1c2UgQ1NTIHZhbHVlKQogICAgICBtYXhXaWR0aDogMjUwLAkvLyBEZWZh
dWx0IHRvb2x0aXAgd2lkdGgKICAgICAgYWxpZ246ICJsZWZ0IiwgLy8gRGVmYXVs
dCBhbGlnbgogICAgICBkZWxheTogMjUwLCAvLyBEZWZhdWx0IGRlbGF5IGJlZm9y
ZSB0b29sdGlwIGFwcGVhcnMgaW4gbXMKICAgICAgbW91c2VGb2xsb3c6IGZhbHNl
LCAvLyBUb29sdGlwcyBmb2xsb3dzIHRoZSBtb3VzZSBtb3ZpbmcKICAgICAgb3Bh
Y2l0eTogLjc1LCAvLyBEZWZhdWx0IHRvb2x0aXBzIG9wYWNpdHkKICAgICAgYXBw
ZWFyRHVyYXRpb246IC4yNSwgLy8gRGVmYXVsdCBhcHBlYXIgZHVyYXRpb24gaW4g
c2VjCiAgICAgIGhpZGVEdXJhdGlvbjogLjI1IC8vIERlZmF1bHQgZGlzYXBwZWFy
IGR1cmF0aW9uIGluIHNlYwogICAgfTsKICAgIE9iamVjdC5leHRlbmQodGhpcy5v
cHRpb25zLCBvcHRpb25zIHx8IHt9KTsKICB9LAogIHNob3c6IGZ1bmN0aW9uKGUp
IHsKICAgIHRoaXMueENvcmQgPSBFdmVudC5wb2ludGVyWChlKTsKICAgIHRoaXMu
eUNvcmQgPSBFdmVudC5wb2ludGVyWShlKTsKICAgIGlmKCF0aGlzLmluaXRpYWxp
emVkKQogICAgICB0aGlzLnRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dCh0aGlz
LmFwcGVhci5iaW5kKHRoaXMpLCB0aGlzLm9wdGlvbnMuZGVsYXkpOwogIH0sCiAg
aGlkZTogZnVuY3Rpb24oZSkgewogICAgaWYodGhpcy5pbml0aWFsaXplZCkgewog
ICAgICB0aGlzLmFwcGVhcmluZ0ZYLmNhbmNlbCgpOwogICAgICBpZih0aGlzLm9w
dGlvbnMubW91c2VGb2xsb3cpCiAgICAgICAgRXZlbnQuc3RvcE9ic2VydmluZyh0
aGlzLmVsLCAibW91c2Vtb3ZlIiwgdGhpcy51cGRhdGVFdmVudCk7CiAgICAgIG5l
dyBFZmZlY3QuRmFkZSh0aGlzLnRvb2x0aXAsIHtkdXJhdGlvbjogdGhpcy5vcHRp
b25zLmhpZGVEdXJhdGlvbiwgYWZ0ZXJGaW5pc2g6IGZ1bmN0aW9uKCkgeyBFbGVt
ZW50LnJlbW92ZSh0aGlzLnRvb2x0aXApIH0uYmluZCh0aGlzKSB9KTsKICAgIH0K
ICAgIHRoaXMuX2NsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpOwogICAgCiAgICB0
aGlzLmluaXRpYWxpemVkID0gZmFsc2U7CiAgfSwKICB1cGRhdGU6IGZ1bmN0aW9u
KGUpewogICAgdGhpcy54Q29yZCA9IEV2ZW50LnBvaW50ZXJYKGUpOwogICAgdGhp
cy55Q29yZCA9IEV2ZW50LnBvaW50ZXJZKGUpOwogICAgdGhpcy5zZXR1cCgpOwog
IH0sCiAgYXBwZWFyOiBmdW5jdGlvbigpIHsKICAgIC8vIEJ1aWxkaW5nIHRvb2x0
aXAgY29udGFpbmVyCiAgICB0aGlzLnRvb2x0aXAgPSBCdWlsZGVyLm5vZGUoImRp
diIsIHtjbGFzc05hbWU6ICJ0b29sdGlwIiwgc3R5bGU6ICJkaXNwbGF5OiBub25l
OyIgfSwgWwogICAgICBCdWlsZGVyLm5vZGUoImRpdiIsIHtjbGFzc05hbWU6Inh0
b3AifSwgWwogICAgICAgIEJ1aWxkZXIubm9kZSgiZGl2Iiwge2NsYXNzTmFtZToi
eGIxIiwgc3R5bGU6ImJhY2tncm91bmQtY29sb3I6IiArIHRoaXMub3B0aW9ucy5i
b3JkZXJDb2xvciArICI7In0pLAogICAgICAgIEJ1aWxkZXIubm9kZSgiZGl2Iiwg
e2NsYXNzTmFtZToieGIyIiwgc3R5bGU6ICJiYWNrZ3JvdW5kLWNvbG9yOiIgKyB0
aGlzLm9wdGlvbnMuYmFja2dyb3VuZENvbG9yICsgIjsgYm9yZGVyLWNvbG9yOiIg
KyB0aGlzLm9wdGlvbnMuYm9yZGVyQ29sb3IgKyAiOyJ9KSwKICAgICAgICBCdWls
ZGVyLm5vZGUoImRpdiIsIHtjbGFzc05hbWU6InhiMyIsIHN0eWxlOiAiYmFja2dy
b3VuZC1jb2xvcjoiICsgdGhpcy5vcHRpb25zLmJhY2tncm91bmRDb2xvciArICI7
IGJvcmRlci1jb2xvcjoiICsgdGhpcy5vcHRpb25zLmJvcmRlckNvbG9yICsgIjsi
fSksCiAgICAgICAgQnVpbGRlci5ub2RlKCJkaXYiLCB7Y2xhc3NOYW1lOiJ4YjQi
LCBzdHlsZTogImJhY2tncm91bmQtY29sb3I6IiArIHRoaXMub3B0aW9ucy5iYWNr
Z3JvdW5kQ29sb3IgKyAiOyBib3JkZXItY29sb3I6IiArIHRoaXMub3B0aW9ucy5i
b3JkZXJDb2xvciArICI7In0pCiAgICAgIF0pLAogICAgICBCdWlsZGVyLm5vZGUo
ImRpdiIsIHtjbGFzc05hbWU6ICJ4Ym94Y29udGVudCIsIHN0eWxlOiAiYmFja2dy
b3VuZC1jb2xvcjoiICsgdGhpcy5vcHRpb25zLmJhY2tncm91bmRDb2xvciArIAog
ICAgICAgICI7IGJvcmRlci1jb2xvcjoiICsgdGhpcy5vcHRpb25zLmJvcmRlckNv
bG9yICsgCiAgICAgICAgKCh0aGlzLm9wdGlvbnMudGV4dENvbG9yICE9ICcnKSA/
ICI7IGNvbG9yOiIgKyB0aGlzLm9wdGlvbnMudGV4dENvbG9yIDogIiIpICsgCiAg
ICAgICAgKCh0aGlzLm9wdGlvbnMudGV4dFNoYWRvd0NvbG9yICE9ICcnKSA/ICI7
IHRleHQtc2hhZG93OjJweCAycHggMCIgKyB0aGlzLm9wdGlvbnMudGV4dFNoYWRv
d0NvbG9yICsgIjsiIDogIiIpfSwgdGhpcy5jb250ZW50KSwgCiAgICAgIEJ1aWxk
ZXIubm9kZSgiZGl2Iiwge2NsYXNzTmFtZToieGJvdHRvbSJ9LCBbCiAgICAgICAg
QnVpbGRlci5ub2RlKCJkaXYiLCB7Y2xhc3NOYW1lOiJ4YjQiLCBzdHlsZTogImJh
Y2tncm91bmQtY29sb3I6IiArIHRoaXMub3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3Ig
KyAiOyBib3JkZXItY29sb3I6IiArIHRoaXMub3B0aW9ucy5ib3JkZXJDb2xvciAr
ICI7In0pLAogICAgICAgIEJ1aWxkZXIubm9kZSgiZGl2Iiwge2NsYXNzTmFtZToi
eGIzIiwgc3R5bGU6ICJiYWNrZ3JvdW5kLWNvbG9yOiIgKyB0aGlzLm9wdGlvbnMu
YmFja2dyb3VuZENvbG9yICsgIjsgYm9yZGVyLWNvbG9yOiIgKyB0aGlzLm9wdGlv
bnMuYm9yZGVyQ29sb3IgKyAiOyJ9KSwKICAgICAgICBCdWlsZGVyLm5vZGUoImRp
diIsIHtjbGFzc05hbWU6InhiMiIsIHN0eWxlOiAiYmFja2dyb3VuZC1jb2xvcjoi
ICsgdGhpcy5vcHRpb25zLmJhY2tncm91bmRDb2xvciArICI7IGJvcmRlci1jb2xv
cjoiICsgdGhpcy5vcHRpb25zLmJvcmRlckNvbG9yICsgIjsifSksCiAgICAgICAg
QnVpbGRlci5ub2RlKCJkaXYiLCB7Y2xhc3NOYW1lOiJ4YjEiLCBzdHlsZToiYmFj
a2dyb3VuZC1jb2xvcjoiICsgdGhpcy5vcHRpb25zLmJvcmRlckNvbG9yICsgIjsi
fSkKICAgICAgXSksCiAgICBdKTsKICAgIGRvY3VtZW50LmJvZHkuaW5zZXJ0QmVm
b3JlKHRoaXMudG9vbHRpcCwgZG9jdW1lbnQuYm9keS5jaGlsZE5vZGVzWzBdKTsK
ICAgIAogICAgRWxlbWVudC5leHRlbmQodGhpcy50b29sdGlwKTsgLy8gSUUgbmVl
ZHMgZWxlbWVudCB0byBiZSBtYW51YWxseSBleHRlbmRlZAogICAgdGhpcy5vcHRp
b25zLndpZHRoID0gdGhpcy50b29sdGlwLmdldFdpZHRoKCk7CiAgICB0aGlzLnRv
b2x0aXAuc3R5bGUud2lkdGggPSB0aGlzLm9wdGlvbnMud2lkdGggKyAncHgnOyAv
LyBJRTcgbmVlZHMgd2lkdGggdG8gYmUgZGVmaW5lZAogICAgCiAgICB0aGlzLnNl
dHVwKCk7CiAgICAKICAgIGlmKHRoaXMub3B0aW9ucy5tb3VzZUZvbGxvdykKICAg
ICAgRXZlbnQub2JzZXJ2ZSh0aGlzLmVsLCAibW91c2Vtb3ZlIiwgdGhpcy51cGRh
dGVFdmVudCk7CiAgICAKICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSB0cnVlOwogICAg
dGhpcy5hcHBlYXJpbmdGWCA9IG5ldyBFZmZlY3QuQXBwZWFyKHRoaXMudG9vbHRp
cCwge2R1cmF0aW9uOiB0aGlzLm9wdGlvbnMuYXBwZWFyRHVyYXRpb24sIHRvOiB0
aGlzLm9wdGlvbnMub3BhY2l0eSB9KTsKICB9LAogIHNldHVwOiBmdW5jdGlvbigp
ewogICAgLy8gSWYgY29udGVudCB3aWR0aCBpcyBtb3JlIHRoZW4gYWxsb3dlZCBt
YXggd2lkdGgsIHNldCB3aWR0aCB0byBtYXgKICAgIGlmKHRoaXMub3B0aW9ucy53
aWR0aCA+IHRoaXMub3B0aW9ucy5tYXhXaWR0aCkgewogICAgICB0aGlzLm9wdGlv
bnMud2lkdGggPSB0aGlzLm9wdGlvbnMubWF4V2lkdGg7CiAgICAgIHRoaXMudG9v
bHRpcC5zdHlsZS53aWR0aCA9IHRoaXMub3B0aW9ucy53aWR0aCArICdweCc7CiAg
ICB9CiAgICAKICAgIC8vIFRvb2x0aXAgZG9lc24ndCBmaXQgdGhlIGN1cnJlbnQg
ZG9jdW1lbnQgZGltZW5zaW9ucwogICAgaWYodGhpcy54Q29yZCArIHRoaXMub3B0
aW9ucy53aWR0aCA+PSBFbGVtZW50LmdldFdpZHRoKGRvY3VtZW50LmJvZHkpKSB7
CiAgICAgIHRoaXMub3B0aW9ucy5hbGlnbiA9ICJyaWdodCI7CiAgICAgIHRoaXMu
eENvcmQgPSB0aGlzLnhDb3JkIC0gdGhpcy5vcHRpb25zLndpZHRoICsgMjA7CiAg
ICB9CiAgICAKICAgIHRoaXMudG9vbHRpcC5zdHlsZS5sZWZ0ID0gdGhpcy54Q29y
ZCAtIDcgKyAicHgiOwogICAgdGhpcy50b29sdGlwLnN0eWxlLnRvcCA9IHRoaXMu
eUNvcmQgKyAxMiArICJweCI7CiAgfSwKICBzdG9wOiBmdW5jdGlvbigpIHsKICAg
IHRoaXMuaGlkZSgpOwogICAgRXZlbnQuc3RvcE9ic2VydmluZyh0aGlzLmVsLCAi
bW91c2VvdmVyIiwgdGhpcy5zaG93RXZlbnQgKTsKICAgIEV2ZW50LnN0b3BPYnNl
cnZpbmcodGhpcy5lbCwgIm1vdXNlb3V0IiwgdGhpcy5oaWRlRXZlbnQgKTsgICAg
ICAgICAgCiAgICBFdmVudC5zdG9wT2JzZXJ2aW5nKHRoaXMuZWwsICJtb3VzZW1v
dmUiLCB0aGlzLnVwZGF0ZUV2ZW50KTsKICB9LCAgICAgICAgCiAgX2NsZWFyVGlt
ZW91dDogZnVuY3Rpb24odGltZXIpIHsKICAgIGNsZWFyVGltZW91dCh0aW1lcik7
CiAgICBjbGVhckludGVydmFsKHRpbWVyKTsKICAgIHJldHVybiBudWxsOwogIH0K
fTsvL21vZGlmaWVkIGJ5IFF1YWtlIChhZGRlZCB0b29sdGlwIGludGVncmF0aW9u
IGFuZCByZW1vdmUgc29tZSB1bnVzZWQgY29kZSkKCi8qKgogKiBtb2RpZmllZCBi
eSBiYWRxaXUgKGJhZHFpdShhKWdtYWlsLmNvbSkKICogYmxvZzogaHR0cDovL2Jh
ZHFpdS5qYXZhZXllLmNvbQogKiBQcm9qZWN0IEhvbWU6IGh0dHA6Ly9jb2RlLmdv
b2dsZS5jb20vcC9yYXBpZC12YWxpZGF0aW9uLwogKi8KCi8qCiAqIFJlYWxseSBl
YXN5IGZpZWxkIHZhbGlkYXRpb24gd2l0aCBQcm90b3R5cGUKICogaHR0cDovL3Rl
dGxhdy5pZC5hdS92aWV3L2Jsb2cvcmVhbGx5LWVhc3ktZmllbGQtdmFsaWRhdGlv
bi13aXRoLXByb3RvdHlwZQogKiBBbmRyZXcgVGV0bGF3CiAqIFZlcnNpb24gMS41
LjMgKDIwMDYtMDctMTUpCiAqIAogKiBDb3B5cmlnaHQgKGMpIDIwMDYgQW5kcmV3
IFRldGxhdwogKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21p
dC1saWNlbnNlLnBocAogKi8KCnZhciBWYWxpZGF0aW9uRGVmYXVsdE9wdGlvbnMg
PSBmdW5jdGlvbigpe307ClZhbGlkYXRpb25EZWZhdWx0T3B0aW9ucy5wcm90b3R5
cGUgPSB7CiAgb25TdWJtaXQgOiB0cnVlLCAvL+aYr+WQpuebkeWQrGZvcm3nmoRz
dWJtaXTkuovku7YKICBzdG9wT25GaXJzdCA6IGZhbHNlLCAvL+ihqOWNlemqjOiv
geaXtuWBnOeVmeWcqOesrOS4gOS4qumqjOivgeeahOWcsOaWuSzkuI3nu6fnu63p
qozor4HkuIvljrsKICBpbW1lZGlhdGUgOiB0cnVlLCAvL+aYr+WQpuWunuaXtuaj
gOafpeaVsOaNrueahOWQiOazleaApwogIGZvY3VzT25FcnJvciA6IHRydWUsIC8v
5piv5ZCm5Ye66ZSZ5pe25bCG5YWJ5qCH5oyH6ZKI56e75Yiw5Ye66ZSZ55qE6L6T
5YWl5qGG5LiKCiAgdXNlVGl0bGVzIDogZmFsc2UsIC8v5piv5ZCm5L2/55SoaW5w
dXTnmoR0aXRsZeWxnuaAp+S9nOS4uuWHuumUmeaXtueahOaPkOekuuS/oeaBrwog
IG9uRm9ybVZhbGlkYXRlIDogZnVuY3Rpb24ocmVzdWx0LCBmb3JtKSB7fSwvL0Zv
cm3pqozor4Hml7bnmoTlm57osIPlh73mlbAKICBvbkVsZW1lbnRWYWxpZGF0ZSA6
IGZ1bmN0aW9uKHJlc3VsdCwgZWxtKSB7fSAvL+afkOS4qmlucHV06aqM6K+B5pe2
55qE5Zue6LCD5Ye95pWwCn07Cgp2YXIgVmFsaWRhdG9yRGVmYXVsdE9wdGlvbnMg
PSBmdW5jdGlvbigpe307ClZhbGlkYXRvckRlZmF1bHRPcHRpb25zLnByb3RvdHlw
ZSA9IHsKICBpZ25vcmVFbXB0eVZhbHVlIDogdHJ1ZSwgLy/mmK/lkKblv73nlaXn
qbrlgLwKICBkZXBlbmRzIDogW10gLy/nm7jlhbPkvp3otZbpobkKfTsKIApWYWxp
ZGF0b3IgPSBDbGFzcy5jcmVhdGUoKTsKClZhbGlkYXRpb25VdGlscyA9IHsKICBn
ZXRSZWZlcmVuY2VGb3JtIDogZnVuY3Rpb24oZWxtKSB7CiAgICB3aGlsZShlbG0g
JiYgZWxtLnRhZ05hbWUgIT0gJ0JPRFknKSB7CiAgICAgIGlmKGVsbS50YWdOYW1l
ID09ICdGT1JNJykgcmV0dXJuIGVsbTsKICAgICAgZWxtID0gZWxtLnBhcmVudE5v
ZGU7CiAgICB9CiAgICByZXR1cm4gbnVsbDsKICB9LAogIGdldElucHV0VmFsdWUg
OiBmdW5jdGlvbihlbG0pIHsKICAgIHZhciBlbG0gPSAkKGVsbSk7CiAgICBpZihl
bG0udHlwZS50b0xvd2VyQ2FzZSgpID09ICdmaWxlJykgewogICAgICByZXR1cm4g
ZWxtLnZhbHVlOwogICAgfWVsc2UgewogICAgICByZXR1cm4gJEYoZWxtKTsKICAg
IH0KICB9LAogIGdldEVsbUlEIDogZnVuY3Rpb24oZWxtKSB7CiAgICByZXR1cm4g
ZWxtLmlkID8gZWxtLmlkIDogZWxtLm5hbWU7CiAgfSwKICBmb3JtYXQgOiBmdW5j
dGlvbihzdHIsYXJncykgewogICAgYXJncyA9IGFyZ3MgfHwgW107CiAgICBWYWxp
ZGF0aW9uVXRpbHMuYXNzZXJ0KGFyZ3MuY29uc3RydWN0b3IgPT0gQXJyYXksIlZh
bGlkYXRpb25VdGlscy5mb3JtYXQoKSBhcmd1ZW1lbnQgJ2FyZ3MnIG11c3QgaXMg
QXJyYXkiKTsKICAgIHZhciByZXN1bHQgPSBzdHI7CiAgICBmb3IgKHZhciBpID0g
MDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspewogICAgICByZXN1bHQgPSByZXN1bHQu
cmVwbGFjZSgvJXMvLCBhcmdzW2ldKTsJCiAgICB9CiAgICByZXR1cm4gcmVzdWx0
OwogIH0sCiAgLy8g6YCa6L+HY2xhc3NuYW1l5Lyg6YCS55qE5Y+C5pWw5b+F6aG7
6YCa6L+HJy0n5YiG6ZqU5ZCE5Liq5Y+C5pWwCiAgLy8g6L+U5Zue5YC85YyF5ZCr
5LiA5Liq5Y+C5pWwc2luZ2xlQXJndW1lbnQs5L6LOnZhbGlkYXRlLXBhdHRlcm4t
L1thLWNdL2dpLHNpbmdsZUFyZ3VtZW505YC85Li6L1thLWNdL2dpCiAgZ2V0QXJn
dW1lbnRzQnlDbGFzc05hbWUgOiBmdW5jdGlvbihwcmVmaXgsY2xhc3NOYW1lKSB7
CiAgICBpZighY2xhc3NOYW1lIHx8ICFwcmVmaXgpCiAgICAgIHJldHVybiBbXTsK
ICAgIHZhciBwYXR0ZXJuID0gbmV3IFJlZ0V4cChwcmVmaXgrJy0oXFxTKyknKTsK
ICAgIHZhciBtYXRjaHMgPSBjbGFzc05hbWUubWF0Y2gocGF0dGVybik7CiAgICBp
ZighbWF0Y2hzKQogICAgICByZXR1cm4gW107CiAgICB2YXIgcmVzdWx0cyA9IFtd
OwogICAgcmVzdWx0cy5zaW5nbGVBcmd1bWVudCA9IG1hdGNoc1sxXTsKICAgIHZh
ciBhcmdzID0gIG1hdGNoc1sxXS5zcGxpdCgnLScpOwogICAgZm9yKHZhciBpID0g
MDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHsKICAgICAgaWYoYXJnc1tpXSA9PSAn
JykgewogICAgICAgIGlmKGkrMSA8IGFyZ3MubGVuZ3RoKSBhcmdzW2krMV0gPSAn
LScrYXJnc1tpKzFdOwogICAgICB9ZWxzZXsKICAgICAgICByZXN1bHRzLnB1c2go
YXJnc1tpXSk7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiByZXN1bHRzOwogIH0s
CiAgYXNzZXJ0IDogZnVuY3Rpb24oY29uZGl0aW9uLG1lc3NhZ2UpIHsKICAgIHZh
ciBlcnJvck1lc3NhZ2UgPSBtZXNzYWdlIHx8ICgiYXNzZXJ0IGZhaWxlZCBlcnJv
cixjb25kaXRpb249Iitjb25kaXRpb24pOwogICAgaWYgKCFjb25kaXRpb24pIHsK
ICAgICAgYWxlcnQoZXJyb3JNZXNzYWdlKTsKICAgICAgdGhyb3cgbmV3IEVycm9y
KGVycm9yTWVzc2FnZSk7CiAgICB9ZWxzZSB7CiAgICAgIHJldHVybiBjb25kaXRp
b247CiAgICB9CiAgfSwKICBpc0RhdGUgOiBmdW5jdGlvbih2LGRhdGVGb3JtYXQp
IHsKICAgIHZhciBNT05USCA9ICJNTSI7CiAgICB2YXIgREFZID0gImRkIjsKICAg
IHZhciBZRUFSID0gInl5eXkiOwogICAgdmFyIHJlZ2V4ID0gJ14nK2RhdGVGb3Jt
YXQucmVwbGFjZShZRUFSLCdcXGR7NH0nKS5yZXBsYWNlKE1PTlRILCdcXGR7Mn0n
KS5yZXBsYWNlKERBWSwnXFxkezJ9JykrJyQnOwogICAgaWYoIW5ldyBSZWdFeHAo
cmVnZXgpLnRlc3QodikpIHJldHVybiBmYWxzZTsKCiAgICB2YXIgeWVhciA9IHYu
c3Vic3RyKGRhdGVGb3JtYXQuaW5kZXhPZihZRUFSKSw0KTsKICAgIHZhciBtb250
aCA9IHYuc3Vic3RyKGRhdGVGb3JtYXQuaW5kZXhPZihNT05USCksMik7CiAgICB2
YXIgZGF5ID0gdi5zdWJzdHIoZGF0ZUZvcm1hdC5pbmRleE9mKERBWSksMik7CgkJ
CiAgICB2YXIgZCA9IG5ldyBEYXRlKFZhbGlkYXRpb25VdGlscy5mb3JtYXQoJyVz
LyVzLyVzJyxbeWVhcixtb250aCxkYXldKSk7CiAgICByZXR1cm4gKCBwYXJzZUlu
dChtb250aCwgMTApID09ICgxK2QuZ2V0TW9udGgoKSkgKSAmJiAKICAgICAgKHBh
cnNlSW50KGRheSwgMTApID09IGQuZ2V0RGF0ZSgpKSAmJiAKICAgICAgKHBhcnNl
SW50KHllYXIsIDEwKSA9PSBkLmdldEZ1bGxZZWFyKCkgKTsJCQogIH0sCiAgZ2V0
TGFuZ3VhZ2UgOiBmdW5jdGlvbigpIHsKICAgIHZhciBsYW5nID0gbnVsbDsKICAg
IGlmICh0eXBlb2YgbmF2aWdhdG9yLnVzZXJMYW5ndWFnZSA9PSAndW5kZWZpbmVk
JykKICAgICAgbGFuZyA9IG5hdmlnYXRvci5sYW5ndWFnZS50b0xvd2VyQ2FzZSgp
OwogICAgZWxzZQogICAgICBsYW5nID0gbmF2aWdhdG9yLnVzZXJMYW5ndWFnZS50
b0xvd2VyQ2FzZSgpOwogICAgcmV0dXJuIGxhbmc7CiAgfSwKICBnZXRNZXNzYWdl
U291cmNlIDogZnVuY3Rpb24oKSB7CiAgICB2YXIgbGFuZyA9IFZhbGlkYXRpb25V
dGlscy5nZXRMYW5ndWFnZSgpOwogICAgdmFyIG1lc3NhZ2VTb3VyY2UgPSBWYWxp
ZGF0b3IubWVzc2FnZVNvdXJjZVsnemgtY24nXTsKICAgIGlmKFZhbGlkYXRvci5t
ZXNzYWdlU291cmNlW2xhbmddKSB7CiAgICAgIG1lc3NhZ2VTb3VyY2UgPSBWYWxp
ZGF0b3IubWVzc2FnZVNvdXJjZVtsYW5nXTsKICAgIH0KICAgIHJldHVybiBtZXNz
YWdlU291cmNlOwogIH0KfTsKClZhbGlkYXRvci5tZXNzYWdlcyA9IHsKICAndmFs
aWRhdGlvbi1mYWlsZWQnIDogJ+mqjOivgeWksei0pS4nLAogICdyZXF1aXJlZCcg
OiAn6K+35aGr5YaZ5YC8LicsCiAgJ3ZhbGlkYXRlLW51bWJlcicgOiAn6K+35aGr
5YaZ5pyJ5pWI55qE5pWw5a2XLicsCiAgJ3ZhbGlkYXRlLWRpZ2l0cycgOiAn6K+3
5aGr5YaZ5pWw5a2XLicsCiAgJ3ZhbGlkYXRlLWFscGhhJyA6ICfor7floavlhpno
i7HmloflrZfmr40uJywKICAndmFsaWRhdGUtYWxwaGFudW0nIDogJ+ivt+Whq+WG
meiLseaWh+Wtl+avjeaIluaYr+aVsOWtlyzlhbblroPlrZfnrKbmmK/kuI3lhYHo
rrjnmoQuJywKICAndmFsaWRhdGUtZW1haWwnIDogJ+ivt+Whq+WGmeacieaViOea
hOmCruS7tuWcsOWdgCzlpoIgdXNlcm5hbWVAZXhhbXBsZS5jb20uJywKICAndmFs
aWRhdGUtdXJsJyA6ICfor7floavlhpnmnInmlYjnmoRVUkzlnLDlnYAuJywKICAn
dmFsaWRhdGUtY3VycmVuY3ktZG9sbGFyJyA6ICdQbGVhc2UgZW50ZXIgYSB2YWxp
ZCAkIGFtb3VudC4gRm9yIGV4YW1wbGUgJDEwMC4wMCAuJywKICAndmFsaWRhdGUt
b25lLXJlcXVpcmVkJyA6ICflnKjkuIrpnaLpgInpobnoh7PlsJHpgInmi6nkuIDk
uKouJywKICAndmFsaWRhdGUtaW50ZWdlcicgOiAn6K+35aGr5YaZ5q2j56Gu55qE
5pW05pWwJywKICAndmFsaWRhdGUtcGF0dGVybicgOiAn5aGr5YaZ55qE5YC85LiN
5Yy56YWNJywKICAndmFsaWRhdGUtaXAnIDogJ+ivt+Whq+WGmeato+ehrueahElQ
5Zyw5Z2AJywKICAnbWluLXZhbHVlJyA6ICfmnIDlsI/lgLzkuLolcycsCiAgJ21h
eC12YWx1ZScgOiAn5pyA5aSn5YC85Li6JXMnLAogICdtaW4tbGVuZ3RoJyA6ICfm
nIDlsI/plb/luqbkuLolcyzlvZPliY3plb/luqbkuLolcy4nLAogICdtYXgtbGVu
Z3RoJyA6ICfmnIDlpKfplb/luqbkuLolcyzlvZPliY3plb/luqbkuLolcy4nLAog
ICdpbnQtcmFuZ2UnIDogJ+Whq+WGmeWAvOW6lOivpeS4uiAlcyDoh7MgJXMg55qE
5pW05pWwJywKICAnZmxvYXQtcmFuZ2UnIDogJ+Whq+WGmeWAvOW6lOivpeS4uiAl
cyDoh7MgJXMg55qE5pWw5a2XJywKICAnbGVuZ3RoLXJhbmdlJyA6ICfloavlhpnl
gLznmoTplb/luqblupTor6XlnKggJXMg6IezICVzIOS5i+mXtCzlvZPliY3plb/l
uqbkuLolcycsCiAgJ2VxdWFscycgOiAn5Lik5qyh5aGr5YaZ5LiN5LiA6Ie0LOiv
t+mHjeaWsOWhq+WGmScsCiAgJ2xlc3MtdGhhbicgOiAn6K+35aGr5YaZ5bCP5LqO
5YmN6Z2i55qE5YC8JywKICAnZ3JlYXQtdGhhbicgOiAn6K+35aGr5YaZ5aSn5LqO
5YmN6Z2i55qE5YC8JywKICAndmFsaWRhdGUtZGF0ZScgOiAn6K+35aGr5YaZ5pyJ
5pWI55qE5pel5pyfLOagvOW8j+S4uiAlcy4g5L6L5aaCOiVzLicsCiAgJ3ZhbGlk
YXRlLWZpbGUnIDogZnVuY3Rpb24odixlbG0sYXJncyxtZXRhZGF0YSkgewogICAg
cmV0dXJuIFZhbGlkYXRpb25VdGlscy5mb3JtYXQoIuaWh+S7tuexu+Wei+W6lOiv
peS4ulslc13lhbbkuK3kuYvkuIAiLFthcmdzLmpvaW4oJywnKV0pOwogIH0sCiAg
J3ZhbGlkYXRlLWlkLW51bWJlcicgOiAn6K+35aGr5YaZ5ZCI5rOV55qE6Lqr5Lu9
6K+B5Y+356CBJywKICAndmFsaWRhdGUtY2hpbmVzZScgOiAn6K+35aGr5YaZ5Lit
5paHJywKICAndmFsaWRhdGUtcGhvbmUnIDogJ+ivt+Whq+WGmeato+ehrueahOeU
teivneWPt+eggSzlpoI6MDIxLTg3NjU0MzIxLOW9k+WJjemVv+W6puS4uiVzLics
CiAgJ3ZhbGlkYXRlLW1vYmlsZS1waG9uZScgOiAn6K+35aGr5YaZ5q2j56Gu55qE
5omL5py65Y+356CBLOW9k+WJjemVv+W6puS4uiVzLicsCiAgJ3ZhbGlkYXRlLXpp
cCcgOiAn6K+35aGr5YaZ5pyJ5pWI55qE6YKu5pS/57yW56CBJywKICAndmFsaWRh
dGUtcXEnIDogJ+ivt+Whq+WGmeacieaViOeahFFR5Y+356CBLicsCiAgJ3ZhbGlk
YXRlLXJpY2hlZGl0b3InIDogJ+ivt+Whq+WGmeWAvC4nLAogICd2YWxpZGF0ZS1j
b21ib2JveCcgOiAn6K+35aGr5YaZ5YC85oiW6YCJ5Y+W5YmN6Z2i55qE6YCJ6aG5
LicsCiAgJ21heC10YWcnIDogJ+ivt+Whq+WGmTEtJXPkuKpUYWcuJwp9OwoKVmFs
aWRhdG9yLmJhZF93b3Jkcz1bL2Z1Y2svaSwvc2hpdC9pLC9RUee+pC9pLC9NU07n
vqQvaSwv5rGCKOWKqXzmlZEpLywvKOi3qnzoo7gp5rGCLywv5oCl5oClfOaIkeW+
iOaApXzntKfmgKXlr7vmsYIvLC/lnKjnur/nrYkvLC/mlZEo5ZG9fOaIkXzmgKV8
5pWRKS8sL+aApSghfO+8gSkvLC8o6auY5omLfOmrmOS6unzlpKfomb585aSn5L6g
fOi+vuS6unzliY3ovoh85b+r5p2lfOayoeacieS6uiko5oyH54K5fOino+etlHzl
uK7lv5l85biu5biufOaMh+aVmXzotZDmlZl85o+Q54K5fOS4jeWQnei1kOaVmXzl
iLDlk6opLywvKOaIkeaYr3zluK7luK4pKOaWsOaJi3zlsI/lvJ986I+c6bifKS8s
L+W4ruW4ruW/mS8sIC/kuIfliIbngavmgKUvLCAv5oiR6aG2fOmhtuS4iuWOu3zl
pb3otLTopoHpobZ85biu6aG2fOeci+eci+WFiHzpobbkuIDkuIsvLC/mnIkq5rKh
5pyJ5Lq6KOWbnuetlHzluK7lv5l85YWz5rOofOefpemBk+WVinzlm57lpI0pLywv
5pWZ5Li7fOijhUJ86KOFMTMvLC/lhbPms6goaW5nfOS4rSkvaSwv5pS26JeP5YWI
Lywv5YWI5pS26JePLywv5pS26JeP5LqGLywv5Zu+5Lmm5YW86IGM5L2c6ICFLywv
6LCi6LCi5qW85Li7Lywv5Lyg5pm65pKt5a6iLywvRmluZVJlcG9ydC9pXTsKClZh
bGlkYXRvci5wcm90b3R5cGUgPSB7CiAgaW5pdGlhbGl6ZSA6IGZ1bmN0aW9uKGNs
YXNzTmFtZSwgdGVzdCwgb3B0aW9ucykgewogICAgdGhpcy5vcHRpb25zID0gT2Jq
ZWN0LmV4dGVuZChuZXcgVmFsaWRhdG9yRGVmYXVsdE9wdGlvbnMoKSwgb3B0aW9u
cyB8fCB7fSk7CiAgICB0aGlzLl90ZXN0ID0gdGVzdCA/IHRlc3QgOiBmdW5jdGlv
bih2LGVsbSl7IHJldHVybiB0cnVlOyB9OwogICAgdGhpcy5fZXJyb3IgPSBWYWxp
ZGF0b3IubWVzc2FnZXNbY2xhc3NOYW1lXSA/IFZhbGlkYXRvci5tZXNzYWdlc1tj
bGFzc05hbWVdIDogVmFsaWRhdG9yLm1lc3NhZ2VzWyd2YWxpZGF0aW9uLWZhaWxl
ZCddOwogICAgdGhpcy5jbGFzc05hbWUgPSBjbGFzc05hbWU7CiAgICB0aGlzLl9k
ZXBlbmRzVGVzdCA9IHRoaXMuX2RlcGVuZHNUZXN0LmJpbmQodGhpcyk7CiAgICB0
aGlzLl9nZXREZXBlbmRFcnJvciA9IHRoaXMuX2dldERlcGVuZEVycm9yLmJpbmQo
dGhpcyk7CiAgfSwKICBfZGVwZW5kc1Rlc3QgOiBmdW5jdGlvbih2LGVsbSkgewog
ICAgaWYodGhpcy5vcHRpb25zLmRlcGVuZHMgJiYgdGhpcy5vcHRpb25zLmRlcGVu
ZHMubGVuZ3RoID4gMCkgewogICAgICB2YXIgZGVwZW5kc1Jlc3VsdCA9ICRBKHRo
aXMub3B0aW9ucy5kZXBlbmRzKS5hbGwoZnVuY3Rpb24oZGVwZW5kKXsKICAgICAg
ICByZXR1cm4gVmFsaWRhdGlvbi5nZXQoZGVwZW5kKS50ZXN0KHYsZWxtKTsKICAg
ICAgfSk7CiAgICAgIHJldHVybiBkZXBlbmRzUmVzdWx0OwogICAgfQogICAgcmV0
dXJuIHRydWU7CiAgfSwKICB0ZXN0IDogZnVuY3Rpb24odiwgZWxtKSB7CiAgICBp
ZighdGhpcy5fZGVwZW5kc1Rlc3QodixlbG0pKQogICAgICByZXR1cm4gZmFsc2U7
CiAgICBpZighZWxtKSBlbG0gPSB7fTsKICAgIHJldHVybiAodGhpcy5vcHRpb25z
Lmlnbm9yZUVtcHR5VmFsdWUgJiYgKCh2ID09IG51bGwpIHx8ICh2Lmxlbmd0aCA9
PSAwKSkpIHx8IHRoaXMuX3Rlc3QodixlbG0sVmFsaWRhdGlvblV0aWxzLmdldEFy
Z3VtZW50c0J5Q2xhc3NOYW1lKHRoaXMuY2xhc3NOYW1lLGVsbS5jbGFzc05hbWUp
LHRoaXMpOwogIH0sCiAgX2dldERlcGVuZEVycm9yIDogZnVuY3Rpb24odixlbG0s
dXNlVGl0bGUpIHsKICAgIHZhciBkZXBlbmRFcnJvciA9IG51bGw7CiAgICAkQSh0
aGlzLm9wdGlvbnMuZGVwZW5kcykuYW55KGZ1bmN0aW9uKGRlcGVuZCl7CiAgICAg
IHZhciB2YWxpZGF0aW9uID0gVmFsaWRhdGlvbi5nZXQoZGVwZW5kKTsKICAgICAg
aWYoIXZhbGlkYXRpb24udGVzdCh2LGVsbSkpICB7CiAgICAgICAgZGVwZW5kRXJy
b3IgPSB2YWxpZGF0aW9uLmVycm9yKHYsZWxtLHVzZVRpdGxlKTsKICAgICAgICBy
ZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgICByZXR1cm4gZmFsc2U7CiAgICB9KTsK
ICAgIHJldHVybiBkZXBlbmRFcnJvcjsKICB9LCAKICBlcnJvciA6IGZ1bmN0aW9u
KHYsZWxtLHVzZVRpdGxlKSB7CiAgICB2YXIgZGVwZW5kRXJyb3IgPSB0aGlzLl9n
ZXREZXBlbmRFcnJvcih2LGVsbSx1c2VUaXRsZSk7CiAgICBpZihkZXBlbmRFcnJv
ciAhPSBudWxsKSByZXR1cm4gZGVwZW5kRXJyb3I7CgogICAgdmFyIGFyZ3MgID0g
VmFsaWRhdGlvblV0aWxzLmdldEFyZ3VtZW50c0J5Q2xhc3NOYW1lKHRoaXMuY2xh
c3NOYW1lLGVsbS5jbGFzc05hbWUpOwogICAgdmFyIGVycm9yID0gdGhpcy5fZXJy
b3I7CiAgICBpZih0eXBlb2YgZXJyb3IgPT0gJ3N0cmluZycpIHsKICAgICAgaWYo
dikgYXJncy5wdXNoKHYubGVuZ3RoKTsKICAgICAgZXJyb3IgPSBWYWxpZGF0aW9u
VXRpbHMuZm9ybWF0KHRoaXMuX2Vycm9yLGFyZ3MpOwogICAgfWVsc2UgaWYodHlw
ZW9mIGVycm9yID09ICdmdW5jdGlvbicpIHsKICAgICAgZXJyb3IgPSBlcnJvcih2
LGVsbSxhcmdzLHRoaXMpOwogICAgfWVsc2UgewogICAgICBhbGVydCgncHJvcGVy
dHkgIl9lcnJvciIgbXVzdCB0eXBlIG9mIHN0cmluZyBvciBmdW5jdGlvbicpOwog
ICAgfQogICAgaWYoIXVzZVRpdGxlKSB1c2VUaXRsZSA9IGVsbS5jbGFzc05hbWUu
aW5kZXhPZigndXNlVGl0bGUnKSA+PSAwOwogICAgcmV0dXJuIHVzZVRpdGxlID8g
KChlbG0gJiYgZWxtLnRpdGxlKSA/IGVsbS50aXRsZSA6IGVycm9yKSA6IGVycm9y
OwogIH0KfTsKCnZhciBWYWxpZGF0aW9uID0gQ2xhc3MuY3JlYXRlKCk7CgpWYWxp
ZGF0aW9uLnByb3RvdHlwZSA9IHsKICBpbml0aWFsaXplIDogZnVuY3Rpb24oZm9y
bSwgb3B0aW9ucyl7CiAgICB0aGlzLm9wdGlvbnMgPSBPYmplY3QuZXh0ZW5kKG5l
dyBWYWxpZGF0aW9uRGVmYXVsdE9wdGlvbnMoKSwgb3B0aW9ucyB8fCB7fSk7CiAg
ICB0aGlzLmZvcm0gPSAkKGZvcm0pOwogICAgdmFyIGZvcm1JZCA9ICBWYWxpZGF0
aW9uVXRpbHMuZ2V0RWxtSUQoJChmb3JtKSk7CiAgICBWYWxpZGF0aW9uLnZhbGlk
YXRpb25zW2Zvcm1JZF0gPSB0aGlzOwogICAgaWYodGhpcy5vcHRpb25zLm9uU3Vi
bWl0KSBFdmVudC5vYnNlcnZlKHRoaXMuZm9ybSwnc3VibWl0Jyx0aGlzLm9uU3Vi
bWl0LmJpbmQodGhpcyksZmFsc2UpOwogICAgaWYodGhpcy5vcHRpb25zLmltbWVk
aWF0ZSkgewogICAgICB2YXIgdXNlVGl0bGVzID0gdGhpcy5vcHRpb25zLnVzZVRp
dGxlczsKICAgICAgdmFyIGNhbGxiYWNrID0gdGhpcy5vcHRpb25zLm9uRWxlbWVu
dFZhbGlkYXRlOwogICAgICBGb3JtLmdldEVsZW1lbnRzKHRoaXMuZm9ybSkuZWFj
aChmdW5jdGlvbihpbnB1dCkgeyAvLyBUaGFua3MgTWlrZSEKICAgICAgICBFdmVu
dC5vYnNlcnZlKGlucHV0LCAnYmx1cicsIGZ1bmN0aW9uKGV2KSB7IFZhbGlkYXRp
b24udmFsaWRhdGVFbGVtZW50KEV2ZW50LmVsZW1lbnQoZXYpLHt1c2VUaXRsZSA6
IHVzZVRpdGxlcywgb25FbGVtZW50VmFsaWRhdGUgOiBjYWxsYmFja30pOyB9KTsK
ICAgICAgfSk7CiAgICB9CiAgfSwKICBvblN1Ym1pdCA6ICBmdW5jdGlvbihldil7
CiAgICBpZih0aGlzLmZvcm0uc3Bpbm5lciAmJiB0aGlzLmZvcm0uc3Bpbm5lci52
aXNpYmxlKCkpIHsKICAgICAgRXZlbnQuc3RvcChldik7CiAgICB9ZWxzZSBpZigh
dGhpcy52YWxpZGF0ZSgpKSB7CiAgICAgIEV2ZW50LnN0b3AoZXYpOwogICAgfWVs
c2UgewogICAgICBFdmVudC5vYnNlcnZlKHRoaXMuZm9ybSwnc3VibWl0JyxmdW5j
dGlvbihlKXtFdmVudC5zdG9wKGUpO30uYmluZCh0aGlzLmZvcm0pLGZhbHNlKTsK
ICAgICAgaWYodGhpcy5mb3JtLnNwaW5uZXIpIHsKICAgICAgICB0aGlzLmZvcm0u
c3Bpbm5lci5zaG93KCk7CiAgICAgIH1lbHNlewogICAgICAgIHRoaXMuZm9ybS5z
cGlubmVyID0gJChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKSk7CiAgICAg
ICAgdGhpcy5mb3JtLnNwaW5uZXIuc3JjID0gJ2h0dHA6Ly93d3cuaXRleWUuY29t
L2ltYWdlcy9zcGlubmVyLmdpZic7CiAgICAgICAgRWxlbWVudC5pbnNlcnQodGhp
cy5mb3JtLnNlbGVjdCgnaW5wdXQuc3VibWl0JylbMF0sIHsiYWZ0ZXIiIDogdGhp
cy5mb3JtLnNwaW5uZXJ9KTsKICAgICAgfQogICAgfQogIH0sCiAgdmFsaWRhdGUg
OiBmdW5jdGlvbigpIHsKICAgIHZhciByZXN1bHQgPSBmYWxzZTsKICAgIHZhciB1
c2VUaXRsZXMgPSB0aGlzLm9wdGlvbnMudXNlVGl0bGVzOwogICAgdmFyIGNhbGxi
YWNrID0gdGhpcy5vcHRpb25zLm9uRWxlbWVudFZhbGlkYXRlOwogICAgaWYodGhp
cy5vcHRpb25zLnN0b3BPbkZpcnN0KSB7CiAgICAgIHJlc3VsdCA9IEZvcm0uZ2V0
RWxlbWVudHModGhpcy5mb3JtKS5hbGwoZnVuY3Rpb24oZWxtKSB7IHJldHVybiBW
YWxpZGF0aW9uLnZhbGlkYXRlRWxlbWVudChlbG0se3VzZVRpdGxlIDogdXNlVGl0
bGVzLCBvbkVsZW1lbnRWYWxpZGF0ZSA6IGNhbGxiYWNrfSk7IH0pOwogICAgfSBl
bHNlIHsKICAgICAgcmVzdWx0ID0gRm9ybS5nZXRFbGVtZW50cyh0aGlzLmZvcm0p
LmNvbGxlY3QoZnVuY3Rpb24oZWxtKSB7IHJldHVybiBWYWxpZGF0aW9uLnZhbGlk
YXRlRWxlbWVudChlbG0se3VzZVRpdGxlIDogdXNlVGl0bGVzLCBvbkVsZW1lbnRW
YWxpZGF0ZSA6IGNhbGxiYWNrfSk7IH0pLmFsbCgpOwogICAgfQogICAgaWYoIXJl
c3VsdCAmJiB0aGlzLm9wdGlvbnMuZm9jdXNPbkVycm9yKSB7CiAgICAgIHZhciBm
aXJzdCA9IEZvcm0uZ2V0RWxlbWVudHModGhpcy5mb3JtKS5maW5kQWxsKGZ1bmN0
aW9uKGVsbSl7cmV0dXJuICQoZWxtKS5oYXNDbGFzc05hbWUoJ3ZhbGlkYXRpb24t
ZmFpbGVkJyk7fSkuZmlyc3QoKTsKICAgICAgdHJ5ewogICAgICAgIGlmKGZpcnN0
LnNlbGVjdCkgZmlyc3Quc2VsZWN0KCk7CiAgICAgICAgZmlyc3QuZm9jdXMoKTsK
ICAgICAgfWNhdGNoKGUpe30KICAgIH0KICAgIHRoaXMub3B0aW9ucy5vbkZvcm1W
YWxpZGF0ZShyZXN1bHQsIHRoaXMuZm9ybSk7CiAgICByZXR1cm4gcmVzdWx0Owog
IH0KfTsKCk9iamVjdC5leHRlbmQoVmFsaWRhdGlvbiwgewogIHZhbGlkYXRlRWxl
bWVudCA6IGZ1bmN0aW9uKGVsbSwgb3B0aW9ucyl7CiAgICBvcHRpb25zID0gT2Jq
ZWN0LmV4dGVuZCh7CiAgICAgIHVzZVRpdGxlIDogZmFsc2UsCiAgICAgIG9uRWxl
bWVudFZhbGlkYXRlIDogZnVuY3Rpb24ocmVzdWx0LCBlbG0pIHt9CiAgICB9LCBv
cHRpb25zIHx8IHt9KTsKICAgIGVsbSA9ICQoZWxtKTsKICAgIHZhciBjbiA9IGVs
bS5jbGFzc05hbWVzKCk7CiAgICByZXR1cm4gY24uYWxsKGZ1bmN0aW9uKHZhbHVl
KSB7CiAgICAgIHZhciB0ZXN0ID0gVmFsaWRhdGlvbi50ZXN0KHZhbHVlLGVsbSxv
cHRpb25zLnVzZVRpdGxlKTsKICAgICAgb3B0aW9ucy5vbkVsZW1lbnRWYWxpZGF0
ZSh0ZXN0LCBlbG0pOwogICAgICByZXR1cm4gdGVzdDsKICAgIH0pOwogIH0sCiAg
c2hvd0Vycm9yTXNnIDogZnVuY3Rpb24obmFtZSxlbG0sZXJyb3JNc2cpIHsgICAg
ICAgICAgIAogICAgaWYoIWVsbS50b29sdGlwKSBlbG0udG9vbHRpcCA9IG5ldyBU
b29sdGlwKGVsbSwge2JhY2tncm91bmRDb2xvcjogIiNGQzkiLCBib3JkZXJDb2xv
cjogIiNDOTYiLCB0ZXh0Q29sb3I6ICIjMDAwIiwgdGV4dFNoYWRvd0NvbG9yOiAi
I0ZGRiJ9KTsKICAgIGVsbS50b29sdGlwLmNvbnRlbnQgPSBlcnJvck1zZzsKICAg
IGVsbS5yZW1vdmVDbGFzc05hbWUoJ3ZhbGlkYXRpb24tcGFzc2VkJyk7CiAgICBl
bG0uYWRkQ2xhc3NOYW1lKCd2YWxpZGF0aW9uLWZhaWxlZCcpOwogIH0sCiAgc2hv
d0Vycm9yTXNnQnlWYWxpZGF0b3IgOiBmdW5jdGlvbihuYW1lLGVsbSx1c2VUaXRs
ZSkgewogICAgVmFsaWRhdGlvbi5zaG93RXJyb3JNc2cobmFtZSxlbG0sVmFsaWRh
dGlvbi5nZXQobmFtZSkuZXJyb3IoVmFsaWRhdGlvblV0aWxzLmdldElucHV0VmFs
dWUoZWxtKSxlbG0sdXNlVGl0bGUpKTsKICB9LAogIGhpZGVFcnJvck1zZyA6IGZ1
bmN0aW9uKG5hbWUsZWxtKSB7CQkKICAgIGlmKGVsbS50b29sdGlwKSB7CiAgICAg
IGVsbS50b29sdGlwLnN0b3AoKTsKICAgICAgZWxtLnRvb2x0aXAgPSBmYWxzZTsg
ICAgICAgICAgICAKICAgIH0KICAgIGVsbS5yZW1vdmVDbGFzc05hbWUoJ3ZhbGlk
YXRpb24tZmFpbGVkJyk7CiAgICBlbG0uYWRkQ2xhc3NOYW1lKCd2YWxpZGF0aW9u
LXBhc3NlZCcpOwogIH0sCiAgdGVzdCA6IGZ1bmN0aW9uKG5hbWUsIGVsbSwgdXNl
VGl0bGUpIHsKICAgIHZhciB2ID0gVmFsaWRhdGlvbi5nZXQobmFtZSk7CiAgICBp
Zighdi50ZXN0KFZhbGlkYXRpb25VdGlscy5nZXRJbnB1dFZhbHVlKGVsbSksZWxt
KSkgewogICAgICBWYWxpZGF0aW9uLnNob3dFcnJvck1zZ0J5VmFsaWRhdG9yKG5h
bWUsZWxtLHVzZVRpdGxlKTsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfSBlbHNl
IHsKICAgICAgVmFsaWRhdGlvbi5oaWRlRXJyb3JNc2cobmFtZSxlbG0pOwogICAg
ICByZXR1cm4gdHJ1ZTsKICAgIH0KICB9LAogIGdldEFkdmljZSA6IGZ1bmN0aW9u
KG5hbWUsIGVsbSkgewogICAgcmV0dXJuIFRyeS50aGVzZSgKICAgIGZ1bmN0aW9u
KCl7IHJldHVybiAkKCdhZHZpY2UtJyArIG5hbWUgKyAnLScgKyBWYWxpZGF0aW9u
VXRpbHMuZ2V0RWxtSUQoZWxtKSk7IH0sCiAgICBmdW5jdGlvbigpeyByZXR1cm4g
JCgnYWR2aWNlLScgKyBWYWxpZGF0aW9uVXRpbHMuZ2V0RWxtSUQoZWxtKSk7IH0K
ICApOwogIH0sCiAgYWRkIDogZnVuY3Rpb24oY2xhc3NOYW1lLCB0ZXN0LCBvcHRp
b25zKSB7CiAgICB2YXIgbnYgPSB7fTsKICAgIHZhciB0ZXN0RnVuID0gdGVzdDsK
ICAgIGlmKHRlc3QgaW5zdGFuY2VvZiBSZWdFeHApCiAgICAgIHRlc3RGdW4gPSBm
dW5jdGlvbih2LGVsbSxhcmdzLG1ldGFkYXRhKXsgcmV0dXJuIHRlc3QudGVzdCh2
KTsgfTsKICAgIG52W2NsYXNzTmFtZV0gPSBuZXcgVmFsaWRhdG9yKGNsYXNzTmFt
ZSwgdGVzdEZ1biwgb3B0aW9ucyk7CiAgICBPYmplY3QuZXh0ZW5kKFZhbGlkYXRp
b24ubWV0aG9kcywgbnYpOwogIH0sCiAgYWRkQWxsVGhlc2UgOiBmdW5jdGlvbih2
YWxpZGF0b3JzKSB7CiAgICAkQSh2YWxpZGF0b3JzKS5lYWNoKGZ1bmN0aW9uKHZh
bHVlKSB7CiAgICAgIFZhbGlkYXRpb24uYWRkKHZhbHVlWzBdLCB2YWx1ZVsxXSwg
KHZhbHVlLmxlbmd0aCA+IDIgPyB2YWx1ZVsyXSA6IHt9KSk7CiAgICB9KTsKICB9
LAogIGdldCA6IGZ1bmN0aW9uKG5hbWUpIHsKICAgIHZhciByZXN1bHRNZXRob2RO
YW1lOwogICAgZm9yKHZhciBtZXRob2ROYW1lIGluIFZhbGlkYXRpb24ubWV0aG9k
cykgewogICAgICBpZihuYW1lID09IG1ldGhvZE5hbWUpIHsKICAgICAgICByZXN1
bHRNZXRob2ROYW1lID0gbWV0aG9kTmFtZTsKICAgICAgICBicmVhazsKICAgICAg
fQogICAgICBpZihuYW1lLmluZGV4T2YobWV0aG9kTmFtZSkgPj0gMCkgewogICAg
ICAgIHJlc3VsdE1ldGhvZE5hbWUgPSBtZXRob2ROYW1lOwogICAgICB9CiAgICB9
CiAgICByZXR1cm4gVmFsaWRhdGlvbi5tZXRob2RzW3Jlc3VsdE1ldGhvZE5hbWVd
ID8gVmFsaWRhdGlvbi5tZXRob2RzW3Jlc3VsdE1ldGhvZE5hbWVdIDogbmV3IFZh
bGlkYXRvcigpOwogIH0sCiAgJCA6IGZ1bmN0aW9uKGZvcm1JZCkgewogICAgcmV0
dXJuIFZhbGlkYXRpb24udmFsaWRhdGlvbnNbZm9ybUlkXTsKICB9LAogIG1ldGhv
ZHMgOiB7fSwKICB2YWxpZGF0aW9ucyA6IHt9Cn0pOwoKVmFsaWRhdGlvbi5hZGRB
bGxUaGVzZShbCiAgWydyZXF1aXJlZCcsIGZ1bmN0aW9uKHYpIHsKICAgICAgcmV0
dXJuICEoKHYgPT0gbnVsbCkgfHwgKHYubGVuZ3RoID09IDApIHx8IC9eW1xzfFx1
MzAwMF0rJC8udGVzdCh2KSk7CiAgICB9LHtpZ25vcmVFbXB0eVZhbHVlOmZhbHNl
fV0sCiAgWyd2YWxpZGF0ZS1udW1iZXInLCBmdW5jdGlvbih2KSB7CiAgICAgIHJl
dHVybiAoIWlzTmFOKHYpICYmICEvXlxzKyQvLnRlc3QodikpOwogICAgfV0sCiAg
Wyd2YWxpZGF0ZS1kaWdpdHMnLCBmdW5jdGlvbih2KSB7CiAgICAgIHJldHVybiAh
L1teXGRdLy50ZXN0KHYpOwogICAgfV0sCiAgWyd2YWxpZGF0ZS1hbHBoYW51bScs
IGZ1bmN0aW9uKHYpIHsKICAgICAgcmV0dXJuICEvXFcvLnRlc3Qodik7CiAgICB9
XSwKICBbJ3ZhbGlkYXRlLW9uZS1yZXF1aXJlZCcsIGZ1bmN0aW9uICh2LGVsbSkg
ewogICAgICB2YXIgcCA9IGVsbS5wYXJlbnROb2RlOwogICAgICB2YXIgb3B0aW9u
cyA9IHAuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ0lOUFVUJyk7CiAgICAgIHJldHVy
biAkQShvcHRpb25zKS5hbnkoZnVuY3Rpb24oZWxtKSB7CiAgICAgICAgcmV0dXJu
ICRGKGVsbSk7CiAgICAgIH0pOwogICAgfSx7aWdub3JlRW1wdHlWYWx1ZSA6IGZh
bHNlfV0sCgkJCQogIFsndmFsaWRhdGUtZGlnaXRzJywvXltcZF0rJC9dLAkJCiAg
Wyd2YWxpZGF0ZS1hbHBoYW51bScsL15bYS16QS1aMC05XSskL10sCQkKICBbJ3Zh
bGlkYXRlLWFscGhhJywvXlthLXpBLVpdKyQvXSwKICBbJ3ZhbGlkYXRlLWVtYWls
JywvXHd7MSx9W0BdW1x3XC1dezEsfShbLl0oW1x3XC1dezEsfSkpezEsM30kL10s
CiAgWyd2YWxpZGF0ZS11cmwnLC9eKGh0dHB8aHR0cHN8ZnRwKTpcL1wvKChbQS1a
MC05XVtBLVowLTlfLV0qKShcLltBLVowLTldW0EtWjAtOV8tXSopKykoOihcZCsp
KT9cLz8vaV0sCiAgLy8gWyRdMVsjI11bLCMjI10rWy4jI10KICAvLyBbJF0xIyMj
K1suIyNdCiAgLy8gWyRdMC4jIwogIC8vIFskXS4jIwogIFsndmFsaWRhdGUtY3Vy
cmVuY3ktZG9sbGFyJywvXlwkP1wtPyhbMS05XXsxfVswLTldezAsMn0oXCxbMC05
XXszfSkqKFwuWzAtOV17MCwyfSk/fFsxLTldezF9XGQqKFwuWzAtOV17MCwyfSk/
fDAoXC5bMC05XXswLDJ9KT98KFwuWzAtOV17MSwyfSk/KSQvXQpdKTsKCi8vY3Vz
dG9tIHZhbGlkYXRlIHN0YXJ0CgpWYWxpZGF0aW9uLmFkZEFsbFRoZXNlKFsKICAv
KioKICAgKiBVc2FnZSA6IGVxdWFscy0kb3RoZXJJbnB1dElkCiAgICogRXhhbXBs
ZSA6IGVxdWFscy11c2VybmFtZSBvciBlcXVhbHMtZW1haWwgZXRjLi4KICAgKi8K
ICBbJ2VxdWFscycsIGZ1bmN0aW9uKHYsZWxtLGFyZ3MsbWV0YWRhdGEpIHsKICAg
ICAgcmV0dXJuICRGKGFyZ3NbMF0pID09IHY7CiAgICB9LHtpZ25vcmVFbXB0eVZh
bHVlOmZhbHNlfV0sCiAgLyoqCiAgICogVXNhZ2UgOiBsZXNzLXRoYW4tJG90aGVy
SW5wdXRJZAogICAqLwogIFsnbGVzcy10aGFuJywgZnVuY3Rpb24odixlbG0sYXJn
cyxtZXRhZGF0YSkgewogICAgICBpZihWYWxpZGF0aW9uLmdldCgndmFsaWRhdGUt
bnVtYmVyJykudGVzdCh2KSAmJiBWYWxpZGF0aW9uLmdldCgndmFsaWRhdGUtbnVt
YmVyJykudGVzdCgkRihhcmdzWzBdKSkpCiAgICAgICAgcmV0dXJuIHBhcnNlRmxv
YXQodikgPCBwYXJzZUZsb2F0KCRGKGFyZ3NbMF0pKTsKICAgICAgcmV0dXJuIHYg
PCAkRihhcmdzWzBdKTsKICAgIH1dLAogIC8qKgogICAqIFVzYWdlIDogZ3JlYXQt
dGhhbi0kb3RoZXJJbnB1dElkCiAgICovCiAgWydncmVhdC10aGFuJywgZnVuY3Rp
b24odixlbG0sYXJncyxtZXRhZGF0YSkgewogICAgICBpZihWYWxpZGF0aW9uLmdl
dCgndmFsaWRhdGUtbnVtYmVyJykudGVzdCh2KSAmJiBWYWxpZGF0aW9uLmdldCgn
dmFsaWRhdGUtbnVtYmVyJykudGVzdCgkRihhcmdzWzBdKSkpCiAgICAgICAgcmV0
dXJuIHBhcnNlRmxvYXQodikgPiBwYXJzZUZsb2F0KCRGKGFyZ3NbMF0pKTsKICAg
ICAgcmV0dXJuIHYgPiAkRihhcmdzWzBdKTsKICAgIH1dLAogIC8qCiAgICogVXNh
Z2U6IG1pbi1sZW5ndGgtJG51bWJlcgogICAqIEV4YW1wbGU6IG1pbi1sZW5ndGgt
MTAKICAgKi8KICBbJ21pbi1sZW5ndGgnLGZ1bmN0aW9uKHYsZWxtLGFyZ3MsbWV0
YWRhdGEpIHsKICAgICAgcmV0dXJuIHYubGVuZ3RoID49IHBhcnNlSW50KGFyZ3Nb
MF0pOwogICAgfV0sCiAgLyoKICAgKiBVc2FnZTogbWF4LWxlbmd0aC0kbnVtYmVy
CiAgICogRXhhbXBsZTogbWF4LWxlbmd0aC0xMAogICAqLwogIFsnbWF4LWxlbmd0
aCcsZnVuY3Rpb24odixlbG0sYXJncyxtZXRhZGF0YSkgewogICAgICByZXR1cm4g
di5sZW5ndGggPD0gcGFyc2VJbnQoYXJnc1swXSk7CiAgICB9XSwKICAvKgogICAq
IFVzYWdlOiB2YWxpZGF0ZS1maWxlLSR0eXBlMS0kdHlwZTItJHR5cGVYCiAgICog
RXhhbXBsZTogdmFsaWRhdGUtZmlsZS1wbmctanBnLWpwZWcKICAgKi8KICBbJ3Zh
bGlkYXRlLWZpbGUnLGZ1bmN0aW9uKHYsZWxtLGFyZ3MsbWV0YWRhdGEpIHsKICAg
ICAgcmV0dXJuICRBKGFyZ3MpLmFueShmdW5jdGlvbihleHRlbnRpb25OYW1lKSB7
CiAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoJ1xcLicrZXh0ZW50aW9uTmFtZSsn
JCcsJ2knKS50ZXN0KHYpOwogICAgICB9KTsKICAgIH1dLAogIC8qCiAgICogVXNh
Z2U6IGZsb2F0LXJhbmdlLSRtaW5WYWx1ZS0kbWF4VmFsdWUKICAgKiBFeGFtcGxl
OiAtMi4xIHRvIDMgPSBmbG9hdC1yYW5nZS0tMi4xLTMKICAgKi8KICBbJ2Zsb2F0
LXJhbmdlJyxmdW5jdGlvbih2LGVsbSxhcmdzLG1ldGFkYXRhKSB7CiAgICAgIHJl
dHVybiAocGFyc2VGbG9hdCh2KSA+PSBwYXJzZUZsb2F0KGFyZ3NbMF0pICYmIHBh
cnNlRmxvYXQodikgPD0gcGFyc2VGbG9hdChhcmdzWzFdKSk7CiAgICB9LHtkZXBl
bmRzIDogWyd2YWxpZGF0ZS1udW1iZXInXX1dLAogIC8qCiAgICogVXNhZ2U6IGlu
dC1yYW5nZS0kbWluVmFsdWUtJG1heFZhbHVlCiAgICogRXhhbXBsZTogLTEwIHRv
IDIwID0gaW50LXJhbmdlLS0xMC0yMAogICAqLwogIFsnaW50LXJhbmdlJyxmdW5j
dGlvbih2LGVsbSxhcmdzLG1ldGFkYXRhKSB7CiAgICAgIHJldHVybiAocGFyc2VJ
bnQodikgPj0gcGFyc2VJbnQoYXJnc1swXSkgJiYgcGFyc2VJbnQodikgPD0gcGFy
c2VJbnQoYXJnc1sxXSkpOwogICAgfSx7ZGVwZW5kcyA6IFsndmFsaWRhdGUtaW50
ZWdlciddfV0sCiAgLyoKICAgKiBVc2FnZTogbGVuZ3RoLXJhbmdlLSRtaW5MZW5n
dGgtJG1heExlbmd0aAogICAqIEV4YW1wbGU6IDEwIHRvIDIwID0gbGVuZ3RoLXJh
bmdlLTEwLTIwCiAgICovCiAgWydsZW5ndGgtcmFuZ2UnLGZ1bmN0aW9uKHYsZWxt
LGFyZ3MsbWV0YWRhdGEpIHsKICAgICAgcmV0dXJuICh2Lmxlbmd0aCA+PSBwYXJz
ZUludChhcmdzWzBdKSAmJiB2Lmxlbmd0aCA8PSBwYXJzZUludChhcmdzWzFdKSk7
CiAgICB9XSwKICAvKgogICAqIFVzYWdlOiBtYXgtdmFsdWUtJG51bWJlcgogICAq
IEV4YW1wbGU6IG1heC12YWx1ZS0xMAogICAqLwogIFsnbWF4LXZhbHVlJyxmdW5j
dGlvbih2LGVsbSxhcmdzLG1ldGFkYXRhKSB7CiAgICAgIHJldHVybiBwYXJzZUZs
b2F0KHYpIDw9IHBhcnNlRmxvYXQoYXJnc1swXSk7CiAgICB9LHtkZXBlbmRzIDog
Wyd2YWxpZGF0ZS1udW1iZXInXX1dLAogIC8qCiAgICogVXNhZ2U6IG1pbi12YWx1
ZS0kbnVtYmVyCiAgICogRXhhbXBsZTogbWluLXZhbHVlLTEwCiAgICovCiAgWydt
aW4tdmFsdWUnLGZ1bmN0aW9uKHYsZWxtLGFyZ3MsbWV0YWRhdGEpIHsKICAgICAg
cmV0dXJuIHBhcnNlRmxvYXQodikgPj0gcGFyc2VGbG9hdChhcmdzWzBdKTsKICAg
IH0se2RlcGVuZHMgOiBbJ3ZhbGlkYXRlLW51bWJlciddfV0sCiAgLyoKICAgKiBV
c2FnZTogdmFsaWRhdGUtcGF0dGVybi0kUmVnRXhwCiAgICogRXhhbXBsZTogPGlu
cHV0IGlkPSdzZXgnIGNsYXNzPSd2YWxpZGF0ZS1wYXR0ZXJuLS9eW2ZtXSQvaSc+
CiAgICovCiAgWyd2YWxpZGF0ZS1wYXR0ZXJuJyxmdW5jdGlvbih2LGVsbSxhcmdz
LG1ldGFkYXRhKSB7CiAgICAgIHJldHVybiBldmFsKCcoJythcmdzLnNpbmdsZUFy
Z3VtZW50KycudGVzdCh2KSknKTsKICAgIH1dLAogIC8qCiAgICogVXNhZ2U6IHZh
bGlkYXRlLWFqYXgtJHVybAogICAqIEV4YW1wbGU6IDxpbnB1dCBpZD0nZW1haWwn
IGNsYXNzPSd2YWxpZGF0ZS1hamF4LWh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC92YWxp
ZGF0ZS1lbWFpbC5qc3AnPgogICAqLwogIFsndmFsaWRhdGUtYWpheCcsZnVuY3Rp
b24odixlbG0sYXJncyxtZXRhZGF0YSkgewogICAgICB2YXIgZm9ybSA9IFZhbGlk
YXRpb25VdGlscy5nZXRSZWZlcmVuY2VGb3JtKGVsbSk7CiAgICAgIHZhciBwYXJh
bXMgPSAoZm9ybSA/IEZvcm0uc2VyaWFsaXplKGZvcm0pIDogRm9ybS5FbGVtZW50
LnNlcmlhbGl6ZShlbG0pKTsKICAgICAgcGFyYW1zICs9IFZhbGlkYXRpb25VdGls
cy5mb3JtYXQoIiZ3aGF0PSVzJnZhbHVlPSVzIixbZWxtLm5hbWUsZW5jb2RlVVJJ
Q29tcG9uZW50KHYpXSk7CiAgICAgIHZhciByZXF1ZXN0ID0gbmV3IEFqYXguUmVx
dWVzdChhcmdzLnNpbmdsZUFyZ3VtZW50LHsKICAgICAgICBwYXJhbWV0ZXJzIDog
cGFyYW1zLAogICAgICAgIGFzeW5jaHJvbm91cyA6IGZhbHNlLAogICAgICAgIG1l
dGhvZCA6ICJwb3N0IgogICAgICB9KTsKCQkKICAgICAgdmFyIHJlc3BvbnNlVGV4
dCA9IHJlcXVlc3QudHJhbnNwb3J0LnJlc3BvbnNlVGV4dDsKICAgICAgaWYoIiIg
PT0gcmVzcG9uc2VUZXh0LnN0cmlwKCkpIHJldHVybiB0cnVlOwogICAgICBtZXRh
ZGF0YS5fZXJyb3IgPSByZXNwb25zZVRleHQ7CiAgICAgIHJldHVybiBmYWxzZTsK
ICAgIH1dLAogIC8qCiAgICogVXNhZ2U6IHZhbGlkYXRlLWRhdGUtJGRhdGVGb3Jt
YXQgb3IgdmFsaWRhdGUtZGF0ZSgkZGF0ZUZvcm1hdCBkZWZhdWx0IGlzIHl5eXkt
TU0tZGQpCiAgICogRXhhbXBsZTogdmFsaWRhdGUtZGF0ZS15eXl5L01NL2RkCiAg
ICovCiAgWyd2YWxpZGF0ZS1kYXRlJywgZnVuY3Rpb24odixlbG0sYXJncyxtZXRh
ZGF0YSkgewogICAgICB2YXIgZGF0ZUZvcm1hdCA9IGFyZ3Muc2luZ2xlQXJndW1l
bnQgfHwgJ3l5eXktTU0tZGQnOwogICAgICBtZXRhZGF0YS5fZXJyb3IgPSBWYWxp
ZGF0aW9uVXRpbHMuZm9ybWF0KFZhbGlkYXRvci5tZXNzYWdlc1ttZXRhZGF0YS5j
bGFzc05hbWVdLFtkYXRlRm9ybWF0LGRhdGVGb3JtYXQucmVwbGFjZSgneXl5eScs
JzIwMDYnKS5yZXBsYWNlKCdNTScsJzAzJykucmVwbGFjZSgnZGQnLCcxMicpXSk7
CiAgICAgIHJldHVybiBWYWxpZGF0aW9uVXRpbHMuaXNEYXRlKHYsZGF0ZUZvcm1h
dCk7CiAgICB9XSwJCiAgWyd2YWxpZGF0ZS1pbnRlZ2VyJywvXlstK10/WzEtOV1c
ZCokfF4wJC9dLAogIFsndmFsaWRhdGUtaXAnLC9eKD86KD86MjVbMC01XXwyWzAt
NF1bMC05XXxbMDFdP1swLTldWzAtOV0/KVwuKXszfSg/OjI1WzAtNV18MlswLTRd
WzAtOV18WzAxXT9bMC05XVswLTldPykkL10sCiAgLy/kuK3lm73nm7jlhbPpqozo
r4HlvIDlp4sKICBbJ3ZhbGlkYXRlLWlkLW51bWJlcicsZnVuY3Rpb24odixlbG0s
YXJncyxtZXRhZGF0YSkgewogICAgICBpZighKC9eXGR7MTd9KFxkfHgpJC9pLnRl
c3QodikgfHwgL15cZHsxNX0kL2kudGVzdCh2KSkpIHJldHVybiBmYWxzZTsKICAg
ICAgdmFyIHByb3ZpbmNlQ29kZSA9IHBhcnNlSW50KHYuc3Vic3RyKDAsMikpOwog
ICAgICBpZigocHJvdmluY2VDb2RlIDwgMTEpIHx8IChwcm92aW5jZUNvZGUgPiA5
MSkpIHJldHVybiBmYWxzZTsKICAgICAgdmFyIGZvclRlc3REYXRlID0gdi5sZW5n
dGggPT0gMTggPyB2IDogdi5zdWJzdHIoMCw2KSsiMTkiK3Yuc3Vic3RyKDYsMTUp
OwogICAgICB2YXIgYmlydGhkYXkgPSBmb3JUZXN0RGF0ZS5zdWJzdHIoNiw4KTsK
ICAgICAgaWYoIVZhbGlkYXRpb25VdGlscy5pc0RhdGUoYmlydGhkYXksJ3l5eXlN
TWRkJykpIHJldHVybiBmYWxzZTsKICAgICAgaWYodi5sZW5ndGggPT0gMTgpIHsK
ICAgICAgICB2ID0gdi5yZXBsYWNlKC94JC9pLCJhIik7CiAgICAgICAgdmFyIHZl
cmlmeUNvZGUgPSAwOwogICAgICAgIGZvcih2YXIgaSA9IDE3O2kgPj0gMDtpLS0p
ICAgCiAgICAgICAgICB2ZXJpZnlDb2RlICs9IChNYXRoLnBvdygyLGkpICUgMTEp
ICogcGFyc2VJbnQodi5jaGFyQXQoMTcgLSBpKSwxMSk7CiAgICAgICAgaWYodmVy
aWZ5Q29kZSAlIDExICE9IDEpIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICBy
ZXR1cm4gdHJ1ZTsKICAgIH1dLAogIFsndmFsaWRhdGUtY2hpbmVzZScsL15bXHU0
ZTAwLVx1OWZhNV0rJC9dLAogIFsndmFsaWRhdGUtcGhvbmUnLC9eKCgwWzEtOV17
M30pPygwWzEyXVswLTldKT9bLV0pP1xkezYsOH0kL10sCiAgWyd2YWxpZGF0ZS1t
b2JpbGUtcGhvbmUnLC8oXjA/WzFdWzM1XVswLTldezl9JCkvXSwKICBbJ3ZhbGlk
YXRlLXppcCcsL15bMS05XVxkezV9JC9dLAogIFsndmFsaWRhdGUtcXEnLC9eWzEt
OV1cZHs0LDh9JC9dLAoJCiAgLy9qYXZhZXllIGFkZGVkCiAgWyd2YWxpZGF0ZS1y
aWNoZWRpdG9yJywgZnVuY3Rpb24odiwgZWxtKSB7CiAgICAgIGlmKGVkaXRvci5t
b2RlID09ICJyaWNoIikgewogICAgICAgIHYgPSB0aW55TUNFLmFjdGl2ZUVkaXRv
ci5nZXRDb250ZW50KCkuc3RyaXBUYWdzKCkucmVwbGFjZSgvJm5ic3A7L2csJyAn
KTsJCiAgICAgIH0KICAgICAgcmV0dXJuICEoKHYgPT0gbnVsbCkgfHwgKHYubGVu
Z3RoID09IDApIHx8IC9eW1xzfFx1MzAwMF0rJC8udGVzdCh2KSk7CQkJCiAgICB9
LHtpZ25vcmVFbXB0eVZhbHVlOmZhbHNlfV0sCgkKICBbJ2JhZC13b3JkcycsIGZ1
bmN0aW9uKHYpIHsKICAgICAgZm9yICh2YXIgaT0wOyBpIDwgVmFsaWRhdG9yLmJh
ZF93b3Jkcy5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciBtID0gdi5tYXRjaChW
YWxpZGF0b3IuYmFkX3dvcmRzW2ldKTsKICAgICAgICBpZiAobSkgewogICAgICAg
ICAgYWxlcnQoIklUZXll5Y+R6LS05o+Q56S6XG5cbklUZXll572R56uZ5LiN5YWB
6K645oKo5L2/55SoIFwiIiArIG1bMF0gKyAiXCIg6L+Z5qC355qE6K+N5rGH5Y+R
6LS077yBXG5cbuaCqOW+iOWPr+iDvei/neWPjeS6hue9keermeinhOWIme+8jOiv
t+S7lOe7humYheivu+W5tumBteWuiOe9keermeinhOWIme+8jOWQpuWImeWwhuii
q+aJo+WIhuWIoOi0tOOAglxuXG4iKTsKICAgICAgICAgIHJldHVybiBmYWxzZTsK
ICAgICAgICB9fQogICAgICByZXR1cm4gdHJ1ZTsJCQogICAgfV0sCiAgWyd2YWxp
ZGF0ZS1jb21ib2JveCcsIGZ1bmN0aW9uKHYsIGVsbSwgYXJncykgewogICAgICB2
YXIgdiA9ICRGKGFyZ3NbMF0pOwogICAgICByZXR1cm4gVmFsaWRhdGlvbi5nZXQo
J3JlcXVpcmVkJykudGVzdChlbG0udmFsdWUpIHx8IFZhbGlkYXRpb24uZ2V0KCdy
ZXF1aXJlZCcpLnRlc3Qodik7CiAgICB9LHtpZ25vcmVFbXB0eVZhbHVlOmZhbHNl
fV0sCgogIC8qCiAgICogVXNhZ2U6IG1heC10YWctJG51bWJlcgogICAqIEV4YW1w
bGU6IG1heC10YWctMwogICAqLwogIFsnbWF4LXRhZycsIGZ1bmN0aW9uKHYsIGVs
bSwgYXJncyl7CiAgICByZXR1cm4gdi5yZXBsYWNlKC9eXHMrfFxzKyQvZywgJycp
LnNwbGl0KC8sXHMqfO+8jFxzKi8pLmxlbmd0aCA8PSBwYXJzZUludChhcmdzWzBd
KTsKICB9XQpdKTsKU3RyaW5nLnByb3RvdHlwZS50cmltID0gZnVuY3Rpb24oKSB7
IHJldHVybiB0aGlzLnJlcGxhY2UoL15ccyt8XHMrJC9nLCAnJyk7IH07CgpmdW5j
dGlvbiBtdWx0aXBsZV91cGxvYWRfYXR0YWNobWVudChlbGUsIG1heF9zaXplKSB7
CiAgRXZlbnQub2JzZXJ2ZShlbGUsICdjaGFuZ2UnLCBmdW5jdGlvbigpIHsKICAg
IGFkZEF0dGFjaG1lbnREaXYoZWxlLCBtYXhfc2l6ZSk7CiAgfSk7CiAgaWYgKG11
bHRpcGxlX3VwbG9hZF9hdHRhY2htZW50X2NvdW50ZXIgPj0gbWF4X3NpemUpIGVs
ZS5kaXNhYmxlZCA9IHRydWU7Cn0KCmZ1bmN0aW9uIGFkZEF0dGFjaG1lbnREaXYo
ZWxlLCBtYXhfc2l6ZSkgewogIGlmICghJEEoWydqcGcnLCdqcGVnJywnYm1wJywn
cG5nJywnZ2lmJywncmFyJywnemlwJywgJ3RhcicsICdneicsICdqYXInLCAnd2Fy
JywgJ2J6MicsICc3eiddKS5hbnkoZnVuY3Rpb24oZXh0TmFtZSl7cmV0dXJuIG5l
dyBSZWdFeHAoJ1xcLicrZXh0TmFtZSsnJCcsJ2knKS50ZXN0KGVsZS52YWx1ZSk7
fSkpewogICAgYWxlcnQoIuWmguaenOaCqOS4iuS8oOWbvueJh++8jOivt+S4iuS8
oEpQR+OAgUJNUOOAgVBOR+aIluiAhUdJRuagvOW8j+eahOWbvueJh1xu5aaC5p6c
5oKo5LiK5Lyg6ZmE5Lu277yM6K+35YWI5Y6L57yp5YaN5LiK5LygIik7CiAgICBy
ZXR1cm4gZmFsc2U7CiAgfQogIAogIG11bHRpcGxlX3VwbG9hZF9hdHRhY2htZW50
X2NvdW50ZXIrKzsKICB2YXIgZGl2ID0gbmV3IEVsZW1lbnQoImRpdiIpLnVwZGF0
ZSgiPHVsPjxsaT7mlofku7Y6ICIgKyBlbGUudmFsdWUgKyAiIDxhIGhyZWY9JyMn
IG9uY2xpY2s9J3JlbW92ZUF0dGFjaG1lbnREaXYodGhpcywgXCIiICsgZWxlLmlk
ICsgIlwiKTtyZXR1cm4gZmFsc2U7Jz7liKDpmaQ8L2E+PC9saT48bGk+5rOo6Kej
OiA8dGV4dGFyZWEgbmFtZT0nYXR0YWNobWVudHNbXVtyZW1hcmtdJyBzdHlsZT0n
d2lkdGg6MzAwcHg7aGVpZ2h0OjgwcHg7Jz48L3RleHRhcmVhPjwvbGk+PC91bD4i
KTsKICB2YXIgbmV3X2lucHV0ID0gbmV3IEVsZW1lbnQoImlucHV0IiwgeyB0eXBl
OiAiZmlsZSIsIG5hbWU6IGVsZS5uYW1lLCBpZDogZWxlLmlkLCBkaXNhYmxlZDog
bXVsdGlwbGVfdXBsb2FkX2F0dGFjaG1lbnRfY291bnRlciA+PSBtYXhfc2l6ZX0p
OwogIAogIEV2ZW50Lm9ic2VydmUobmV3X2lucHV0LCAnY2hhbmdlJywgZnVuY3Rp
b24oKSB7CiAgICBhZGRBdHRhY2htZW50RGl2KG5ld19pbnB1dCwgbWF4X3NpemUp
OwogIH0pOwogIGVsZS5pbnNlcnQoe2JlZm9yZTogbmV3X2lucHV0LCBhZnRlciA6
IGRpdn0pOwogIGVsZS5pZCA9IGVsZS5pZCArIG11bHRpcGxlX3VwbG9hZF9hdHRh
Y2htZW50X2NvdW50ZXI7CiAgZWxlLm5hbWUgPSAiYXR0YWNobWVudHNbXVt1cGxv
YWRlZF9kYXRhXSI7CiAgZGl2LmFwcGVuZENoaWxkKGVsZS5oaWRlKCkucmVtb3Zl
KCkpOwp9CgpmdW5jdGlvbiByZW1vdmVBdHRhY2htZW50RGl2KGxpbmssIGVsZUlk
KSB7CiAgbXVsdGlwbGVfdXBsb2FkX2F0dGFjaG1lbnRfY291bnRlci0tOwogIGxp
bmsucGFyZW50Tm9kZS5wYXJlbnROb2RlLnBhcmVudE5vZGUucmVtb3ZlKCk7CiAg
JChlbGVJZCkuZGlzYWJsZWQgPSBmYWxzZTsKfQoKZnVuY3Rpb24gbXVsdGlwbGVf
dXBsb2FkX3BpY3R1cmUoZWxlLCBtYXhfc2l6ZSwgdGFncykgewogIEV2ZW50Lm9i
c2VydmUoZWxlLCAnY2hhbmdlJywgZnVuY3Rpb24oKSB7CiAgICBhZGRQaWN0dXJl
RGl2KGVsZSwgbWF4X3NpemUsIHRhZ3MpOwogIH0pOwogIGlmIChtdWx0aXBsZV91
cGxvYWRfcGljdHVyZV9jb3VudGVyID49IG1heF9zaXplKSBlbGUuZGlzYWJsZWQg
PSB0cnVlOwp9CgpmdW5jdGlvbiBhZGRQaWN0dXJlRGl2KGVsZSwgbWF4X3NpemUs
IHRhZ3MpIHsKICBpZiAoISRBKFsnanBnJywnanBlZycsJ2JtcCcsJ3BuZycsJ2dp
ZiddKS5hbnkoZnVuY3Rpb24oZXh0TmFtZSl7cmV0dXJuIG5ldyBSZWdFeHAoJ1xc
LicrZXh0TmFtZSsnJCcsJ2knKS50ZXN0KGVsZS52YWx1ZSk7fSkpewogICAgYWxl
cnQoIuaCqOS4iuS8oOeahOWbvueJh+agvOW8j+S4jeaUr+aMge+8jOivt+aCqOS4
iuS8oEpQR+OAgUJNUOOAgVBOR+aIluiAhUdJRuagvOW8j+eahOWbvueJhyIpOwog
ICAgcmV0dXJuIGZhbHNlOwogIH0KICAKICBtdWx0aXBsZV91cGxvYWRfcGljdHVy
ZV9jb3VudGVyKys7CiAgLy9maXggZm9yIG9wZXJhCiAgdmFyIGZpbGVfbmFtZSA9
IGVsZS52YWx1ZTsKICB0cnkge2ZpbGVfbmFtZSA9IGVsZS52YWx1ZS5tYXRjaCgv
KC4qKVtcL1xcXShbXlwvXFxdKylcLlx3KyQvKVsyXTt9IGNhdGNoKGUpIHt9IAog
IHZhciB0YWdfc2VsZWN0ID0gIiI7CiAgaWYodGFncy5sZW5ndGggPiAwKSB7CiAg
ICB2YXIgdGFnX3NlbGVjdCA9ICI8c2VsZWN0IG9uY2hhbmdlPSdFbGVtZW50LnBy
ZXZpb3VzKCQodGhpcykpLnZhbHVlID0gdGhpcy52YWx1ZTsnPjxvcHRpb24gdmFs
dWU9Jyc+6YCJ5oup5bey5pyJ5qCH562+PC9vcHRpb24+IjsKICAgIGZvciAodmFy
IGkgPSAwOyBpIDwgdGFncy5sZW5ndGg7IGkrKykKICAgICAgdGFnX3NlbGVjdCAr
PSAiPG9wdGlvbiB2YWx1ZT0nIiArIHRhZ3NbaV0gKyAiJz4iICsgdGFnc1tpXSAr
ICI8L29wdGlvbj4iOwogICAgdGFnX3NlbGVjdCArPSAiPC9zZWxlY3Q+IjsKICB9
CiAgdmFyIGRpdiA9IG5ldyBFbGVtZW50KCJkaXYiKS51cGRhdGUoIjx1bD48bGk+
5paH5Lu2OiAiICsgZWxlLnZhbHVlICsgIiA8YSBocmVmPScjJyBvbmNsaWNrPSdy
ZW1vdmVQaWN0dXJlRGl2KHRoaXMsIFwiIiArIGVsZS5pZCArICJcIik7cmV0dXJu
IGZhbHNlOyc+5Yig6ZmkPC9hPjwvbGk+PGxpPuagh+etvjogPGlucHV0IHR5cGU9
J3RleHQnIG5hbWU9J3BpY3R1cmVzW11bdGFnX2xpc3RdJyBjbGFzcz0ndGV4dCcv
PiIgKyB0YWdfc2VsZWN0ICsgIiDlsI/otLTlo6s6IOWkmuS4quagh+etvuWPr+eU
qOWNiuinkumAl+WPt+WIhuW8gDwvbGk+PGxpPuWQjeensDogPGlucHV0IHR5cGU9
J3RleHQnIG5hbWU9J3BpY3R1cmVzW11bbmFtZV0nIHZhbHVlPSciICsgZmlsZV9u
YW1lICsgIicgc2l6ZT0nNTAnIGNsYXNzPSd0ZXh0Jy8+PC9saT48bGk+5o+P6L+w
OiA8dGV4dGFyZWEgbmFtZT0ncGljdHVyZXNbXVtkZXNjcmlwdGlvbl0nIHN0eWxl
PSd3aWR0aDo0MDBweDtoZWlnaHQ6ODBweDsnPjwvdGV4dGFyZWE+PC9saT48L3Vs
PiIpOwogIHZhciBuZXdfaW5wdXQgPSBuZXcgRWxlbWVudCgiaW5wdXQiLCB7IHR5
cGU6ICJmaWxlIiwgbmFtZTogZWxlLm5hbWUsIGlkOiBlbGUuaWQsIGRpc2FibGVk
OiBtdWx0aXBsZV91cGxvYWRfcGljdHVyZV9jb3VudGVyID49IG1heF9zaXplfSk7
CiAgCiAgRXZlbnQub2JzZXJ2ZShuZXdfaW5wdXQsICdjaGFuZ2UnLCBmdW5jdGlv
bigpIHsKICAgIGFkZFBpY3R1cmVEaXYobmV3X2lucHV0LCBtYXhfc2l6ZSwgdGFn
cyk7CiAgfSk7CiAgZWxlLmluc2VydCh7YmVmb3JlOiBuZXdfaW5wdXQsIGFmdGVy
IDogZGl2fSk7CiAgZWxlLmlkID0gZWxlLmlkICsgbXVsdGlwbGVfdXBsb2FkX3Bp
Y3R1cmVfY291bnRlcjsKICBlbGUubmFtZSA9ICJwaWN0dXJlc1tdW3VwbG9hZGVk
X2RhdGFdIjsKICBkaXYuYXBwZW5kQ2hpbGQoZWxlLmhpZGUoKS5yZW1vdmUoKSk7
Cn0KCmZ1bmN0aW9uIHJlbW92ZVBpY3R1cmVEaXYobGluaywgZWxlSWQpIHsKICBt
dWx0aXBsZV91cGxvYWRfcGljdHVyZV9jb3VudGVyLS07CiAgbGluay5wYXJlbnRO
b2RlLnBhcmVudE5vZGUucGFyZW50Tm9kZS5yZW1vdmUoKTsKICAkKGVsZUlkKS5k
aXNhYmxlZCA9IGZhbHNlOwp9CgpmdW5jdGlvbiBtb3ZlX21lc3NhZ2VzKGRlc3Qp
IHsKICAkKCdkZXN0JykudmFsdWUgPSBkZXN0OwogICQoJ21lc3NhZ2VzX2Zvcm0n
KS5zdWJtaXQoKTsKfQoKZnVuY3Rpb24gZGlnZyh0eXBlLCBpZCwgYnVyeSkgewog
ICAgdmFyIHVybCA9ICcvJyArIHR5cGUgKyAoYnVyeSA/ICcvYnVyeScgOiAnL2Rp
Z2cnKTsKICAgICQoJ2QnICsgaWQpLmlubmVySFRNTCA9ICI8aDM+PGltZyBzcmM9
Jy9pbWFnZXMvc3Bpbm5lci5naWYnLz48YnIvPjxzcGFuPi4uLjwvc3Bhbj48L2gz
PiI7CiAgICBpZigkKCdkaWdnX2JvdHRvbScpICE9IHVuZGVmaW5lZCl7CiAgICAg
ICAgJCQoJyNkaWdnX2JvdHRvbSBkaXYnKS5lYWNoKGZ1bmN0aW9uKGRpdil7ZGl2
LmlubmVySFRNTD0iPGltZyBzcmM9Jy9pbWFnZXMvc3Bpbm5lci5naWYnLz4iO30p
OwogICAgICAgIG5ldyBBamF4LlJlcXVlc3QodXJsLHthc3luY2hyb25vdXM6dHJ1
ZSxldmFsU2NyaXB0czp0cnVlLHBhcmFtZXRlcnM6eyJpZCI6aWQsICJib3R0b20i
OnRydWV9fSk7CiAgICB9ZWxzZXsKICAgICAgICBuZXcgQWpheC5SZXF1ZXN0KHVy
bCx7YXN5bmNocm9ub3VzOnRydWUsZXZhbFNjcmlwdHM6dHJ1ZSxwYXJhbWV0ZXJz
OnsiaWQiOmlkfX0pOwogICAgfQp9CgpmdW5jdGlvbiBidXJ5X2Jsb2coYmxvZ19p
ZCkgewogICAgJCgnYicgKyBibG9nX2lkKS5pbm5lckhUTUwgPSAiPGgzPjxpbWcg
c3JjPScvaW1hZ2VzL3NwaW5uZXIuZ2lmJy8+PGJyLz48c3Bhbj4uLi48L3NwYW4+
PC9oMz4iOwogICAgaWYoJCgnZGlnZ19ib3R0b20nKSAhPSB1bmRlZmluZWQpIHsK
ICAgICAgICAkJCgnI2RpZ2dfYm90dG9tIGRpdicpLmVhY2goZnVuY3Rpb24oZGl2
KXtkaXYuaW5uZXJIVE1MPSI8aW1nIHNyYz0nL2ltYWdlcy9zcGlubmVyLmdpZicv
PiI7fSk7CiAgICAgICAgbmV3IEFqYXguUmVxdWVzdCgnL2Jsb2dzL2J1cnknLHth
c3luY2hyb25vdXM6dHJ1ZSxldmFsU2NyaXB0czp0cnVlLHBhcmFtZXRlcnM6eyJp
ZCI6YmxvZ19pZCwgImJvdHRvbSI6dHJ1ZX19KTsKICAgIH1lbHNlewogICAgICAg
IG5ldyBBamF4LlJlcXVlc3QoJy9ibG9ncy9idXJ5Jyx7YXN5bmNocm9ub3VzOnRy
dWUsZXZhbFNjcmlwdHM6dHJ1ZSxwYXJhbWV0ZXJzOnsiaWQiOmJsb2dfaWR9fSk7
CiAgICB9Cn0KCmZ1bmN0aW9uIGZpeF9pbWFnZV9zaXplKGltYWdlcywgbWF4Vykg
ewogIGlmKGltYWdlcy5sZW5ndGggPiAwKSB7CiAgICBFdmVudC5vYnNlcnZlKHdp
bmRvdywnbG9hZCcsZnVuY3Rpb24oKSB7CiAgICAgIGltYWdlcy5lYWNoKGZ1bmN0
aW9uKGltZykgewogICAgICAgIHZhciB3ID0gaW1nLndpZHRoOwogICAgICAgIHZh
ciBoID0gaW1nLmhlaWdodDsKICAgICAgICBpZiAodyA+IG1heFcpIHsKICAgICAg
ICAgIHZhciBmID0gMS0oKHcgLSBtYXhXKSAvIHcpOwogICAgICAgICAgaW1nLnRp
dGxlID0gIueCueWHu+afpeeci+WOn+Wni+Wkp+Wwj+WbvueJhyI7CiAgICAgICAg
ICBpbWcuYWRkQ2xhc3NOYW1lKCJtYWdwbHVzIik7CiAgICAgICAgICBpbWcub25j
bGljayA9IGZ1bmN0aW9uKCkge3dpbmRvdy5vcGVuKHRoaXMuc3JjKTt9OwogICAg
ICAgICAgaW1nLndpZHRoID0gdyAqIGY7CiAgICAgICAgICBpbWcuaGVpZ2h0ID0g
aCAqIGY7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0pOwogIH0KfQoKZnVuY3Rp
b24gaGlnaGxpZ2h0X3N1Z2dlc3RlZF90YWdzKHRhZ3MpIHsKICAgIGlmICgkKCdz
dWdnZXN0ZWRfdGFnc19wYW5lbCcpICE9PSBudWxsKSB7CiAgICAgICAgJCgnc3Vn
Z2VzdGVkX3RhZ3NfcGFuZWwnKS5zZWxlY3QoJ2EnKS5lYWNoKCBmdW5jdGlvbihl
bCkgewogICAgICAgICAgICB2YXIgZXhpc3RfdGFnID0gdGFncy5maW5kKGZ1bmN0
aW9uKHRhZyl7CiAgICAgICAgICAgICAgICByZXR1cm4gdGFnLm1hdGNoKG5ldyBS
ZWdFeHAoJ14nICsgZWwudGV4dCArICckJywgJ2knKSk7CiAgICAgICAgICAgIH0p
OwogICAgICAgICAgICBpZiAoZXhpc3RfdGFnKSB7CiAgICAgICAgICAgICAgICBl
bC5hZGRDbGFzc05hbWUoJ2FkZGVkJyk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAg
ICAgICAgICAgICAgICBlbC5yZW1vdmVDbGFzc05hbWUoJ2FkZGVkJyk7CiAgICAg
ICAgICAgIH0KICAgICAgICB9KTsKICAgIH0KfQoKZnVuY3Rpb24gb2JzZXJ2ZV90
YWdfbGlzdChpZCkgewogICAgbmV3IEZvcm0uRWxlbWVudC5PYnNlcnZlcigKICAg
ICAgICBpZCwKICAgICAgICAwLjIsCiAgICAgICAgZnVuY3Rpb24oZWwsIHZhbHVl
KSB7CiAgICAgICAgICAgIHZhciB0YWdzID0gdmFsdWUudHJpbSgpLnNwbGl0KC8s
XHMqfO+8jFxzKi8pLndpdGhvdXQoJycpOwogICAgICAgICAgICBoaWdobGlnaHRf
c3VnZ2VzdGVkX3RhZ3ModGFncyk7CiAgICAgICAgICAgIHRhZ19saXN0ID0gdGFn
cy5tYXAoZnVuY3Rpb24odGFnKSB7IAogICAgICAgICAgICAgICAgcmV0dXJuICI8
c3Bhbj4iICsgdGFnICsgIjwvc3Bhbj4iOwogICAgICAgICAgICB9KS5qb2luKCcn
KTsKICAgICAgICAgICAgaWYgKCF0YWdfbGlzdC5lbXB0eSgpKSB7CiAgICAgICAg
ICAgICAgICB0YWdfbGlzdCA9ICflvZPliY3moIfnrb7vvJonICsgdGFnX2xpc3Q7
CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCQoImN1cnJlbnRfdGFnc19w
YW5lbCIpICE9PSBudWxsKSB7CiAgICAgICAgICAgICAgICAkKCJjdXJyZW50X3Rh
Z3NfcGFuZWwiKS51cGRhdGUodGFnX2xpc3QpOwogICAgICAgICAgICB9CiAgICAg
ICAgfQogICAgKQp9CgpmdW5jdGlvbiB0cmlnZ2VyX3N1Z2dlc3RlZF90YWcoKSB7
CiAgdmFyIHRhZ19saXN0X2lucHV0ID0gdGhpcy5wYXJlbnROb2RlLnByZXZpb3Vz
KCJpbnB1dCIpOwogIHZhciBjdXJyZW50X3ZhbHVlID0gdGFnX2xpc3RfaW5wdXQu
dmFsdWUudHJpbSgpOwogIGlmICh0aGlzLmhhc0NsYXNzTmFtZSgnYWRkZWQnKSkg
ewogICAgdmFyIHRhZ19yZWdleCA9IG5ldyBSZWdFeHAoJ14nICsgdGhpcy50ZXh0
ICsgJyQnLCAnaScpCiAgICB0YWdfbGlzdF9pbnB1dC52YWx1ZSA9IGN1cnJlbnRf
dmFsdWUuc3BsaXQoLyxccyp877yMXHMqLykuZmluZEFsbChmdW5jdGlvbih0YWcp
ewogICAgICB0YWcgPSB0YWcudHJpbSgpOwogICAgICBpZiAodGFnICE9PSAnJyAm
JiAhdGFnX3JlZ2V4Lm1hdGNoKHRhZykpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsK
ICAgICAgfQogICAgfSkuam9pbignLCAnKTsKICAgIHRoaXMucmVtb3ZlQ2xhc3NO
YW1lKCdhZGRlZCcpOwogIH0gZWxzZSB7CiAgICBpZihjdXJyZW50X3ZhbHVlICE9
PSAiIiAmJiBjdXJyZW50X3ZhbHVlW2N1cnJlbnRfdmFsdWUubGVuZ3RoLTFdICE9
PSAiLCIpewogICAgICB0YWdfbGlzdF9pbnB1dC52YWx1ZSArPSAiLCAiOwogICAg
fQogICAgdGFnX2xpc3RfaW5wdXQudmFsdWUgKz0gdGhpcy5pbm5lckhUTUw7CiAg
ICB0aGlzLmFkZENsYXNzTmFtZSgnYWRkZWQnKTsKICB9CiAgVmFsaWRhdGlvbi52
YWxpZGF0ZUVsZW1lbnQoJCh0YWdfbGlzdF9pbnB1dCkpOwp9CgpmdW5jdGlvbiBj
aGVja19jYXRlZ29yeV9saXN0KGNoZWNrYm94ZXMsIGNhdGVnb3J5X2xpc3Qpewog
IGNoZWNrYm94ZXMuZWFjaChmdW5jdGlvbihlbGVtZW50KXsKICAgIGVsZW1lbnQu
Y2hlY2tlZCA9IGNhdGVnb3J5X2xpc3Quc3BsaXQoJywnKS5hbnkoZnVuY3Rpb24o
bmFtZSl7CiAgICAgIHJldHVybiBuYW1lLnRyaW0oKS50b0xvd2VyQ2FzZSgpID09
IHRoaXM7CiAgICB9LCBlbGVtZW50LnZhbHVlLnRvTG93ZXJDYXNlKCkpOwogIH0p
Owp9Cgpkb2N1bWVudC5vYnNlcnZlKCJkb206bG9hZGVkIixmdW5jdGlvbigpewog
ICAgJCQoImRpdi5xdWlja19tZW51IikuZWFjaChmdW5jdGlvbihlbGUpIHsKICAg
ICAgICBFdmVudC5vYnNlcnZlKGVsZS5wcmV2aW91cygpLCAnbW91c2VvdmVyJywg
ZnVuY3Rpb24oZSkgewogICAgICAgICAgICAkJCgiZGl2LnF1aWNrX21lbnUiKS5p
bnZva2UoJ2hpZGUnKTsKICAgICAgICAgICAgZWxlLnN0eWxlLmxlZnQgPSBlbGUu
cHJldmlvdXMoKS5wb3NpdGlvbmVkT2Zmc2V0KClbMF0gKyAicHgiOwogICAgICAg
ICAgICBlbGUuc2hvdygpOwogICAgICAgIH0pOwogICAgICAgIEV2ZW50Lm9ic2Vy
dmUoZWxlLnByZXZpb3VzKCksICdtb3VzZW91dCcsIGZ1bmN0aW9uKGUpIHsKICAg
ICAgICAgICAgaWYoIVBvc2l0aW9uLndpdGhpbihlbGUsRXZlbnQucG9pbnRlclgo
ZSksRXZlbnQucG9pbnRlclkoZSkgKyA1KSkKICAgICAgICAgICAgICAgIGVsZS5o
aWRlKCk7CiAgICAgICAgfSk7CiAgICAgICAgRXZlbnQub2JzZXJ2ZShlbGUsICdt
b3VzZW91dCcsIGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgaWYoIVBvc2l0aW9u
LndpdGhpbihlbGUsRXZlbnQucG9pbnRlclgoZSksRXZlbnQucG9pbnRlclkoZSkp
KQogICAgICAgICAgICAgICAgZWxlLmhpZGUoKTsKICAgICAgICB9KTsKICAgIH0p
OwogICAgJCQoImRpdi5uYXZfc2lkZSA+IHVsID4gbGk6bm90KC5zZWxlY3QpIiku
ZWFjaChmdW5jdGlvbihlbGUpIHsKICAgICAgRXZlbnQub2JzZXJ2ZShlbGUsICdt
b3VzZW92ZXInLCBmdW5jdGlvbihlKSB7CiAgICAgICAgRXZlbnQuZmluZEVsZW1l
bnQoZSwgJ0xJJykuYWRkQ2xhc3NOYW1lKCdzZWxlY3QnKTsKICAgICAgfSk7CiAg
ICAgIEV2ZW50Lm9ic2VydmUoZWxlLCAnbW91c2VvdXQnLCBmdW5jdGlvbihlKSB7
CiAgICAgICAgRXZlbnQuZmluZEVsZW1lbnQoZSwgJ0xJJykucmVtb3ZlQ2xhc3NO
YW1lKCdzZWxlY3QnKTsKICAgICAgfSk7CiAgICB9KTsKCiAgICAkJCgnI2Jsb2df
Y2F0ZWdvcnlfY2hlY2tib3ggaW5wdXRbdHlwZT1jaGVja2JveF0nKS5lYWNoKGZ1
bmN0aW9uKGVsZW1lbnQpewogICAgICBlbGVtZW50Lm9ic2VydmUoJ2NoYW5nZScs
IGZ1bmN0aW9uKGV2KXsKICAgICAgICB2YXIgY3VycmVudF92YWx1ZSA9ICQoJ2Js
b2dfY2F0ZWdvcnlfbGlzdCcpLnZhbHVlLnRyaW0oKTsKICAgICAgICBpZih0aGlz
LmNoZWNrZWQpIHsKICAgICAgICAgIGlmKGN1cnJlbnRfdmFsdWUgPT0gJycgfHwg
Y3VycmVudF92YWx1ZVtjdXJyZW50X3ZhbHVlLmxlbmd0aCAtMV0gPT0gJywnKQog
ICAgICAgICAgICAkKCdibG9nX2NhdGVnb3J5X2xpc3QnKS52YWx1ZSArPSB0aGlz
LnZhbHVlOwogICAgICAgICAgZWxzZQogICAgICAgICAgICAkKCdibG9nX2NhdGVn
b3J5X2xpc3QnKS52YWx1ZSArPSAoJywnK3RoaXMudmFsdWUpOwogICAgICAgIH0g
ZWxzZSB7CiAgICAgICAgICAkKCdibG9nX2NhdGVnb3J5X2xpc3QnKS52YWx1ZSA9
IGN1cnJlbnRfdmFsdWUuc3BsaXQoJywnKS5yZWplY3QoZnVuY3Rpb24obmFtZSl7
CiAgICAgICAgICAgIHJldHVybiBuYW1lLnRyaW0oKSA9PSB0aGlzOwogICAgICAg
ICAgfSwgdGhpcy52YWx1ZSkuam9pbignLCcpOwogICAgICAgIH0KICAgICAgfSk7
CiAgICB9KTsKCn0pOwoKLy9JRTYgYmFja2dyb3VuZCBpbWFnZSBjYWNoZSBmaXgK
dHJ5IHtkb2N1bWVudC5leGVjQ29tbWFuZCgnQmFja2dyb3VuZEltYWdlQ2FjaGUn
LCBmYWxzZSwgdHJ1ZSk7fSBjYXRjaChlKSB7fQo=

------------ufU1AayX7nQgaratz9kvQS
Content-Disposition: inline; filename=SyntaxHighlighter.css
Content-Type: text/css; charset=utf-8; name=SyntaxHighlighter.css
Content-Location: http://www.iteye.com/javascripts/syntaxhighlighter/SyntaxHighlighter.css?1308833137
Content-Transfer-Encoding: 8bit

.dp-highlighter
{
  font-family: Monaco, DejaVu Sans Mono, Bitstream Vera Sans Mono, Consolas, Courier New, monospace;
  font-size: 12px;
  background-color: transparent;
  width: 97%;
  overflow: auto;
  margin-left: 9px;
  padding: 1px; /* adds a little border on top when controls are hidden */
  word-break: break-all;
  word-wrap: break-word;
}

.dp-highlighter ol 
{
  border: 1px solid #D1D7DC;  
  list-style: decimal; /* for ie */
  background-color: #fff;
  margin: 0px 0px 1px 0px; /* 1px bottom margin seems to fix occasional Firefox scrolling */
  padding: 2px 0;
  color: #2B91AF;
}

.dp-highlighter ol li,
.dp-highlighter .columns div
{
  border-left: 1px solid #D1D7DC;
  background-color: #FAFAFA;
  padding-left: 10px;
  line-height: 18px;
  margin: 0 0 0 38px;
}

.dp-highlighter .columns 
{
  color: gray;
  overflow: hidden;
  width: 100%;
}

.dp-highlighter .columns div 
{
  padding-bottom: 5px;
}

.dp-highlighter ol li span 
{
  color: Black;
}

/* Styles for the tools */

.dp-highlighter .tools 
{
  padding: 3px;
  text-align: left;
  margin: 0;
  color: black;
  font-weight: bold;
}

/* About dialog styles */

.dp-about { background-color: #fff; margin: 0px; padding: 0px; }
.dp-about table { width: 100%; height: 100%; font-size: 11px; font-family: Tahoma, Verdana, Arial, sans-serif !important; }
.dp-about td { padding: 10px; vertical-align: top; }
.dp-about .copy { border-bottom: 1px solid #ACA899; height: 95%; }
.dp-about .title { color: red; font-weight: bold; }
.dp-about .para { margin: 0 0 4px 0; }
.dp-about .footer { background-color: #ECEADB; border-top: 1px solid #fff; text-align: right; }
.dp-about .close { font-size: 11px; font-family: Tahoma, Verdana, Arial, sans-serif !important; background-color: #ECEADB; width: 60px; height: 22px; }

/* Language specific styles */

.dp-highlighter .comment, .dp-highlighter .comments { color: #008200; }
.dp-highlighter .string { color: blue; }
.dp-highlighter .keyword { color: #7f0055; font-weight: bold; }
.dp-highlighter .preprocessor { color: gray; }

------------ufU1AayX7nQgaratz9kvQS
Content-Disposition: inline; filename=shCoreCommon.js
Content-Type: text/javascript; charset=utf-8; name=shCoreCommon.js
Content-Location: http://www.iteye.com/javascripts/syntaxhighlighter/shCoreCommon.js?1308833137
Content-Transfer-Encoding: 8bit

var dp={sh:{Toolbar:{},Utils:{},RegexLib:{},Brushes:{},Version:"1.5.1"}};dp.SyntaxHighlighter=dp.sh;dp.sh.Toolbar.CopyToClipboard=function($){var _=$;while(_!=null&&_.className.indexOf("dp-highlighter")==-1)_=_.parentNode;var A=_.highlighter,B=A.originalCode.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&");window.clipboardData.setData("text",B);alert("\u4ee3\u7801\u5df2\u88ab\u590d\u5236\u5230\u526a\u8d34\u677f")};dp.sh.Toolbar.Create=function(_){var $=document.createElement("DIV");$.className="tools";$.innerHTML=_.language.capitalize()+"\u4ee3\u7801";if(window.clipboardData)$.innerHTML+=" <a href=\"#\" onclick=\"dp.sh.Toolbar.CopyToClipboard(this);return false;\" title=\"\u590d\u5236\u4ee3\u7801\"><img src=\"/images/icon_copy.gif\" alt=\"\u590d\u5236\u4ee3\u7801\"/></a>";else{var A=_.originalCode.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&");$.innerHTML+=" <embed src=\"/javascripts/syntaxhighlighter/clipboard_new.swf\" width=\"14\" height=\"15\" flashvars=\"clipboard="+encodeURIComponent(A)+"\" quality=\"high\" allowScriptAccess=\"always\" type=\"application/x-shockwave-flash\" pluginspage=\"http://www.macromedia.com/go/getflashplayer\"/>"}return $};dp.sh.RegexLib={MultiLineCComments:new RegExp("/\\*[\\s\\S]*?\\*/","gm"),SingleLineCComments:new RegExp("//.*$","gm"),SingleLinePerlComments:new RegExp("#.*$","gm"),DoubleQuotedString:new RegExp("\"(?:\\.|(\\\\\\\")|[^\\\"\"\\n])*\"","g"),SingleQuotedString:new RegExp("'(?:\\.|(\\\\\\')|[^\\''\\n])*'","g")};dp.sh.Match=function(_,$,A){this.value=_;this.index=$;this.length=_.length;this.css=A};dp.sh.Highlighter=function(){this.noGutter=false;this.addControls=true;this.collapse=false;this.tabsToSpaces=true;this.wrapColumn=80;this.showColumns=true};dp.sh.Highlighter.SortCallback=function($,_){if($.index<_.index)return-1;else if($.index>_.index)return 1;else if($.length<_.length)return-1;else if($.length>_.length)return 1;return 0};dp.sh.Highlighter.prototype.CreateElement=function(_){var $=document.createElement(_);$.highlighter=this;return $};dp.sh.Highlighter.prototype.GetMatches=function(_,B){var $=0,A=null;while((A=_.exec(this.code))!=null)this.matches[this.matches.length]=new dp.sh.Match(A[0],A.index,B)};dp.sh.Highlighter.prototype.AddBit=function($,A){if($==null||$.length==0)return;var C=this.CreateElement("SPAN");$=$.replace(/ /g,"&nbsp;");$=$.replace(/</g,"&lt;");$=$.replace(/\n/gm,"&nbsp;<br>");if(A!=null){if((/br/gi).test($)){var _=$.split("&nbsp;<br>");for(var B=0;B<_.length;B++){C=this.CreateElement("SPAN");C.className=A;C.innerHTML=_[B];this.div.appendChild(C);if(B+1<_.length)this.div.appendChild(this.CreateElement("BR"))}}else{C.className=A;C.innerHTML=$;this.div.appendChild(C)}}else{C.innerHTML=$;this.div.appendChild(C)}};dp.sh.Highlighter.prototype.IsInside=function(_){if(_==null||_.length==0)return false;for(var A=0;A<this.matches.length;A++){var $=this.matches[A];if($==null)continue;if((_.index>$.index)&&(_.index<$.index+$.length))return true}return false};dp.sh.Highlighter.prototype.ProcessRegexList=function(){for(var $=0;$<this.regexList.length;$++)this.GetMatches(this.regexList[$].regex,this.regexList[$].css)};dp.sh.Highlighter.prototype.ProcessSmartTabs=function(E){var B=E.split("\n"),$="",D=4,A="\t";function _(A,E,_){var B=A.substr(0,E),C=A.substr(E+1,A.length),$="";for(var D=0;D<_;D++)$+=" ";return B+$+C}function C(B,C){if(B.indexOf(A)==-1)return B;var D=0;while((D=B.indexOf(A))!=-1){var $=C-D%C;B=_(B,D,$)}return B}for(var F=0;F<B.length;F++)$+=C(B[F],D)+"\n";return $};dp.sh.Highlighter.prototype.SwitchToList=function(){var C=this.div.innerHTML.replace(/<(br)\/?>/gi,"\n"),B=C.split("\n");if(this.addControls==true)this.bar.appendChild(dp.sh.Toolbar.Create(this));if(this.showColumns){var A=this.CreateElement("div"),_=this.CreateElement("div"),E=10,G=1;while(G<=150)if(G%E==0){A.innerHTML+=G;G+=(G+"").length}else{A.innerHTML+="&middot;";G++}_.className="columns";_.appendChild(A);this.bar.appendChild(_)}for(var G=0,D=this.firstLine;G<B.length-1;G++,D++){var $=this.CreateElement("LI"),F=this.CreateElement("SPAN");F.innerHTML=B[G]+"&nbsp;";$.appendChild(F);this.ol.appendChild($)}this.div.innerHTML=""};dp.sh.Highlighter.prototype.Highlight=function(C){function A($){return $.replace(/^\s*(.*?)[\s\n]*$/g,"$1")}function $($){return $.replace(/\n*$/,"").replace(/^\n*/,"")}function _(B){var E=B.split("\n"),C=new Array(),D=new RegExp("^\\s*","g"),$=1000;for(var F=0;F<E.length&&$>0;F++){if(A(E[F]).length==0)continue;var _=D.exec(E[F]);if(_!=null&&_.length>0)$=Math.min(_[0].length,$)}if($>0)for(F=0;F<E.length;F++)E[F]=E[F].substr($);return E.join("\n")}function D(A,$,_){return A.substr($,_-$)}var F=0;if(C==null)C="";this.originalCode=C;this.code=$(_(C));this.div=this.CreateElement("DIV");this.bar=this.CreateElement("DIV");this.ol=this.CreateElement("OL");this.matches=new Array();this.div.className="dp-highlighter";this.div.highlighter=this;this.bar.className="bar";this.ol.start=this.firstLine;if(this.CssClass!=null)this.ol.className=this.CssClass;if(this.collapse)this.div.className+=" collapsed";if(this.noGutter)this.div.className+=" nogutter";if(this.tabsToSpaces==true)this.code=this.ProcessSmartTabs(this.code);this.ProcessRegexList();if(this.matches.length==0){this.AddBit(this.code,null);this.SwitchToList();this.div.appendChild(this.bar);this.div.appendChild(this.ol);return}this.matches=this.matches.sort(dp.sh.Highlighter.SortCallback);for(var E=0;E<this.matches.length;E++)if(this.IsInside(this.matches[E]))this.matches[E]=null;for(E=0;E<this.matches.length;E++){var B=this.matches[E];if(B==null||B.length==0)continue;this.AddBit(D(this.code,F,B.index),null);this.AddBit(B.value,B.css);F=B.index+B.length}this.AddBit(this.code.substr(F),null);this.SwitchToList();this.div.appendChild(this.bar);this.div.appendChild(this.ol)};dp.sh.Highlighter.prototype.GetKeywords=function($){return"\\b"+$.replace(/ /g,"\\b|\\b")+"\\b"};dp.sh.HighlightAll=function(N,B,K,I,O,E){function A(){var $=arguments;for(var _=0;_<$.length;_++){if($[_]==null)continue;if(typeof($[_])=="string"&&$[_]!="")return $[_]+"";if(typeof($[_])=="object"&&$[_].value!="")return $[_].value+""}return null}function J($,_){for(var A=0;A<_.length;A++)if(_[A]==$)return true;return false}function L(A,B,C){var _=new RegExp("^"+A+"\\[(\\w+)\\]$","gi"),$=null;for(var D=0;D<B.length;D++)if(($=_.exec(B[D]))!=null)return $[1];return C}function C(B,A,_){var $=document.getElementsByTagName(_);for(var C=0;C<$.length;C++)if($[C].getAttribute("name")==A)B.push($[C])}var T=[],P=null,M={},$="innerHTML";C(T,N,"pre");C(T,N,"textarea");if(T.length==0)return;for(var R in dp.sh.Brushes){var F=dp.sh.Brushes[R].Aliases;if(F==null)continue;for(var G=0;G<F.length;G++)M[F[G]]=R}for(G=0;G<T.length;G++){var _=T[G],U=A(_.attributes["class"],_.className,_.attributes["language"],_.language),Q="";if(U==null)continue;U=U.split(":");Q=U[0].toLowerCase();if(M[Q]==null)M[Q]=M["default"];P=new dp.sh.Brushes[M[Q]]();P.language=Q;_.style.display="none";P.noGutter=(B==null)?J("nogutter",U):!B;P.addControls=(K==null)?!J("nocontrols",U):K;P.collapse=(I==null)?J("collapse",U):I;P.showColumns=(E==null)?J("showcolumns",U):E;var D=document.getElementsByTagName("head")[0];if(P.Style&&D){var S=document.createElement("style");S.setAttribute("type","text/css");if(S.styleSheet)S.styleSheet.cssText=P.Style;else{var H=document.createTextNode(P.Style);S.appendChild(H)}D.appendChild(S)}P.firstLine=(O==null)?parseInt(L("firstline",U,1)):O;P.Highlight(_[$]);P.source=_;_.parentNode.insertBefore(P.div,_)}};dp.sh.Brushes.JScript=function(){var $="abstract boolean break byte case catch char class const continue debugger "+"default delete do double else enum export extends false final finally float "+"for function goto if implements import in instanceof int interface long native "+"new null package private protected public return short static super switch "+"synchronized this throw throws transient true try typeof var void volatile while with";this.regexList=[{regex:dp.sh.RegexLib.SingleLineCComments,css:"comment"},{regex:dp.sh.RegexLib.MultiLineCComments,css:"comment"},{regex:dp.sh.RegexLib.DoubleQuotedString,css:"string"},{regex:dp.sh.RegexLib.SingleQuotedString,css:"string"},{regex:new RegExp("^\\s*#.*","gm"),css:"preprocessor"},{regex:new RegExp(this.GetKeywords($),"gm"),css:"keyword"}];this.CssClass="dp-c"};dp.sh.Brushes.JScript.prototype=new dp.sh.Highlighter();dp.sh.Brushes.JScript.Aliases=["js","jscript","javascript"];dp.sh.Brushes.Java=function(){var $="abstract assert boolean break byte case catch char class const "+"continue default do double else enum extends "+"false final finally float for goto if implements import "+"instanceof int interface long native new null "+"package private protected public return "+"short static strictfp super switch synchronized this throw throws true "+"transient try void volatile while";this.regexList=[{regex:dp.sh.RegexLib.SingleLineCComments,css:"comment"},{regex:dp.sh.RegexLib.MultiLineCComments,css:"comment"},{regex:dp.sh.RegexLib.DoubleQuotedString,css:"string"},{regex:dp.sh.RegexLib.SingleQuotedString,css:"string"},{regex:new RegExp("\\b([\\d]+(\\.[\\d]+)?|0x[a-f0-9]+)\\b","gi"),css:"number"},{regex:new RegExp("(?!\\@interface\\b)\\@[\\$\\w]+\\b","g"),css:"annotation"},{regex:new RegExp("\\@interface\\b","g"),css:"keyword"},{regex:new RegExp(this.GetKeywords($),"gm"),css:"keyword"}];this.CssClass="dp-j";this.Style=".dp-j .annotation { color: #646464; }"+".dp-j .number { color: #C00000; }"};dp.sh.Brushes.Java.prototype=new dp.sh.Highlighter();dp.sh.Brushes.Java.Aliases=["java"];dp.sh.Brushes.Ruby=function(){var $="alias and BEGIN begin break case class def define_method defined do each else elsif "+"END end ensure false for if in module new next nil not or raise redo rescue retry return "+"self super then throw true undef unless until when while yield",_="Array Bignum Binding Class Continuation Dir Exception FalseClass File::Stat File Fixnum Fload "+"Hash Integer IO MatchData Method Module NilClass Numeric Object Proc Range Regexp String Struct::TMS Symbol "+"ThreadGroup Thread Time TrueClass";this.regexList=[{regex:dp.sh.RegexLib.SingleLinePerlComments,css:"comment"},{regex:dp.sh.RegexLib.DoubleQuotedString,css:"string"},{regex:dp.sh.RegexLib.SingleQuotedString,css:"string"},{regex:new RegExp(":[a-z][A-Za-z0-9_]*","g"),css:"symbol"},{regex:new RegExp("(\\$|@@|@)\\w+","g"),css:"variable"},{regex:new RegExp(this.GetKeywords($),"gm"),css:"keyword"},{regex:new RegExp(this.GetKeywords(_),"gm"),css:"builtin"}];this.CssClass="dp-rb";this.Style=".dp-rb .symbol { color: #a70; }"+".dp-rb .variable { color: #a70; font-weight: bold; }"};dp.sh.Brushes.Ruby.prototype=new dp.sh.Highlighter();dp.sh.Brushes.Ruby.Aliases=["ruby","rails","ror"];dp.sh.Brushes.Xml=function(){this.CssClass="dp-xml";this.Style=".dp-xml .cdata { color: #ff1493; }"+".dp-xml .tag, .dp-xml .tag-name { color: #069; font-weight: bold; }"+".dp-xml .attribute { color: red; }"+".dp-xml .attribute-value { color: blue; }"};dp.sh.Brushes.Xml.prototype=new dp.sh.Highlighter();dp.sh.Brushes.Xml.Aliases=["xml","xhtml","xslt","html","xhtml"];dp.sh.Brushes.Xml.prototype.ProcessRegexList=function(){function B(_,$){_[_.length]=$}var $=0,A=null,_=null;this.GetMatches(new RegExp("(&lt;|<)\\!\\[[\\w\\s]*?\\[(.|\\s)*?\\]\\](&gt;|>)","gm"),"cdata");this.GetMatches(new RegExp("(&lt;|<)!--\\s*.*?\\s*--(&gt;|>)","gm"),"comments");_=new RegExp("([:\\w-.]+)\\s*=\\s*(\".*?\"|'.*?'|\\w+)*|(\\w+)","gm");while((A=_.exec(this.code))!=null){if(A[1]==null)continue;B(this.matches,new dp.sh.Match(A[1],A.index,"attribute"));if(A[2]!=undefined)B(this.matches,new dp.sh.Match(A[2],A.index+A[0].indexOf(A[2]),"attribute-value"))}this.GetMatches(new RegExp("(&lt;|<)/*\\?*(?!\\!)|/*\\?*(&gt;|>)","gm"),"tag");_=new RegExp("(?:&lt;|<)/*\\?*\\s*([:\\w-.]+)","gm");while((A=_.exec(this.code))!=null)B(this.matches,new dp.sh.Match(A[1],A.index+A[0].indexOf(A[1]),"tag-name"))};dp.sh.Brushes.CSharp=function(){var $="abstract as base bool break byte case catch char checked class const "+"continue decimal default delegate do double else enum event explicit "+"extern false finally fixed float for foreach get goto if implicit in int "+"interface internal is lock long namespace new null object operator out "+"override params private protected public readonly ref return sbyte sealed set "+"short sizeof stackalloc static string struct switch this throw true try "+"typeof uint ulong unchecked unsafe ushort using virtual void while";this.regexList=[{regex:dp.sh.RegexLib.SingleLineCComments,css:"comment"},{regex:dp.sh.RegexLib.MultiLineCComments,css:"comment"},{regex:dp.sh.RegexLib.DoubleQuotedString,css:"string"},{regex:dp.sh.RegexLib.SingleQuotedString,css:"string"},{regex:new RegExp("^\\s*#.*","gm"),css:"preprocessor"},{regex:new RegExp(this.GetKeywords($),"gm"),css:"keyword"}];this.CssClass="dp-c";this.Style=".dp-c .vars { color: #d00; }"};dp.sh.Brushes.CSharp.prototype=new dp.sh.Highlighter();dp.sh.Brushes.CSharp.Aliases=["c#","c-sharp","csharp"];dp.sh.Brushes.Cpp=function(){var _="ATOM BOOL BOOLEAN BYTE CHAR COLORREF DWORD DWORDLONG DWORD_PTR "+"DWORD32 DWORD64 FLOAT HACCEL HALF_PTR HANDLE HBITMAP HBRUSH "+"HCOLORSPACE HCONV HCONVLIST HCURSOR HDC HDDEDATA HDESK HDROP HDWP "+"HENHMETAFILE HFILE HFONT HGDIOBJ HGLOBAL HHOOK HICON HINSTANCE HKEY "+"HKL HLOCAL HMENU HMETAFILE HMODULE HMONITOR HPALETTE HPEN HRESULT "+"HRGN HRSRC HSZ HWINSTA HWND INT INT_PTR INT32 INT64 LANGID LCID LCTYPE "+"LGRPID LONG LONGLONG LONG_PTR LONG32 LONG64 LPARAM LPBOOL LPBYTE LPCOLORREF "+"LPCSTR LPCTSTR LPCVOID LPCWSTR LPDWORD LPHANDLE LPINT LPLONG LPSTR LPTSTR "+"LPVOID LPWORD LPWSTR LRESULT PBOOL PBOOLEAN PBYTE PCHAR PCSTR PCTSTR PCWSTR "+"PDWORDLONG PDWORD_PTR PDWORD32 PDWORD64 PFLOAT PHALF_PTR PHANDLE PHKEY PINT "+"PINT_PTR PINT32 PINT64 PLCID PLONG PLONGLONG PLONG_PTR PLONG32 PLONG64 POINTER_32 "+"POINTER_64 PSHORT PSIZE_T PSSIZE_T PSTR PTBYTE PTCHAR PTSTR PUCHAR PUHALF_PTR "+"PUINT PUINT_PTR PUINT32 PUINT64 PULONG PULONGLONG PULONG_PTR PULONG32 PULONG64 "+"PUSHORT PVOID PWCHAR PWORD PWSTR SC_HANDLE SC_LOCK SERVICE_STATUS_HANDLE SHORT "+"SIZE_T SSIZE_T TBYTE TCHAR UCHAR UHALF_PTR UINT UINT_PTR UINT32 UINT64 ULONG "+"ULONGLONG ULONG_PTR ULONG32 ULONG64 USHORT USN VOID WCHAR WORD WPARAM WPARAM WPARAM "+"char bool short int __int32 __int64 __int8 __int16 long float double __wchar_t "+"clock_t _complex _dev_t _diskfree_t div_t ldiv_t _exception _EXCEPTION_POINTERS "+"FILE _finddata_t _finddatai64_t _wfinddata_t _wfinddatai64_t __finddata64_t "+"__wfinddata64_t _FPIEEE_RECORD fpos_t _HEAPINFO _HFILE lconv intptr_t "+"jmp_buf mbstate_t _off_t _onexit_t _PNH ptrdiff_t _purecall_handler "+"sig_atomic_t size_t _stat __stat64 _stati64 terminate_function "+"time_t __time64_t _timeb __timeb64 tm uintptr_t _utimbuf "+"va_list wchar_t wctrans_t wctype_t wint_t signed",$="break case catch class const __finally __exception __try "+"const_cast continue private public protected __declspec "+"default delete deprecated dllexport dllimport do dynamic_cast "+"else enum explicit extern if for friend goto inline "+"mutable naked namespace new noinline noreturn nothrow "+"register reinterpret_cast return selectany "+"sizeof static static_cast struct switch template this "+"thread throw true false try typedef typeid typename union "+"using uuid virtual void volatile whcar_t while";this.regexList=[{regex:dp.sh.RegexLib.SingleLineCComments,css:"comment"},{regex:dp.sh.RegexLib.MultiLineCComments,css:"comment"},{regex:dp.sh.RegexLib.DoubleQuotedString,css:"string"},{regex:dp.sh.RegexLib.SingleQuotedString,css:"string"},{regex:new RegExp("^ *#.*","gm"),css:"preprocessor"},{regex:new RegExp(this.GetKeywords(_),"gm"),css:"datatypes"},{regex:new RegExp(this.GetKeywords($),"gm"),css:"keyword"}];this.CssClass="dp-cpp";this.Style=".dp-cpp .datatypes { color: #2E8B57; font-weight: bold; }"};dp.sh.Brushes.Cpp.prototype=new dp.sh.Highlighter();dp.sh.Brushes.Cpp.Aliases=["cpp","c","c++"];dp.sh.Brushes.Python=function(){var $="and assert break class continue def del elif else "+"except exec finally for from global if import in is "+"lambda not or pass print raise return try yield while",_="None True False self cls class_";this.regexList=[{regex:dp.sh.RegexLib.SingleLinePerlComments,css:"comment"},{regex:new RegExp("^\\s*@\\w+","gm"),css:"decorator"},{regex:new RegExp("(['\"]{3})([^\\1])*?\\1","gm"),css:"comment"},{regex:new RegExp("\"(?!\")(?:\\.|\\\\\\\"|[^\\\"\"\\n\\r])*\"","gm"),css:"string"},{regex:new RegExp("'(?!')*(?:\\.|(\\\\\\')|[^\\''\\n\\r])*'","gm"),css:"string"},{regex:new RegExp("\\b\\d+\\.?\\w*","g"),css:"number"},{regex:new RegExp(this.GetKeywords($),"gm"),css:"keyword"},{regex:new RegExp(this.GetKeywords(_),"gm"),css:"special"}];this.CssClass="dp-py";this.Style=".dp-py .builtins { color: #ff1493; }"+".dp-py .magicmethods { color: #808080; }"+".dp-py .exceptions { color: brown; }"+".dp-py .types { color: brown; font-style: italic; }"+".dp-py .commonlibs { color: #8A2BE2; font-style: italic; }"};dp.sh.Brushes.Python.prototype=new dp.sh.Highlighter();dp.sh.Brushes.Python.Aliases=["py","python"];dp.sh.Brushes.Sql=function(){var _="abs avg case cast coalesce convert count current_timestamp "+"current_user day isnull left lower month nullif replace right "+"session_user space substring sum system_user upper user year",$="absolute action add after alter as asc at authorization begin bigint "+"binary bit by cascade char character check checkpoint close collate "+"column commit committed connect connection constraint contains continue "+"create cube current current_date current_time cursor database date "+"deallocate dec decimal declare default delete desc distinct double drop "+"dynamic else end end-exec escape except exec execute false fetch first "+"float for force foreign forward free from full function global goto grant "+"group grouping having hour ignore index inner insensitive insert instead "+"int integer intersect into is isolation key last level load local max min "+"minute modify move name national nchar next no numeric of off on only "+"open option order out output partial password precision prepare primary "+"prior privileges procedure public read real references relative repeatable "+"restrict return returns revoke rollback rollup rows rule schema scroll "+"second section select sequence serializable set size smallint static "+"statistics table temp temporary then time timestamp to top transaction "+"translation trigger true truncate uncommitted union unique update values "+"varchar varying view when where with work",A="all and any between cross in join like not null or outer some";this.regexList=[{regex:new RegExp("--(.*)$","gm"),css:"comment"},{regex:dp.sh.RegexLib.DoubleQuotedString,css:"string"},{regex:dp.sh.RegexLib.SingleQuotedString,css:"string"},{regex:new RegExp(this.GetKeywords(_),"gmi"),css:"func"},{regex:new RegExp(this.GetKeywords(A),"gmi"),css:"op"},{regex:new RegExp(this.GetKeywords($),"gmi"),css:"keyword"}];this.CssClass="dp-sql";this.Style=".dp-sql .func { color: #ff1493; }"+".dp-sql .op { color: #808080; }"};dp.sh.Brushes.Sql.prototype=new dp.sh.Highlighter();dp.sh.Brushes.Sql.Aliases=["sql"];dp.sh.Brushes.Php=function(){var _="abs acos acosh addcslashes addslashes "+"array_change_key_case array_chunk array_combine array_count_values array_diff "+"array_diff_assoc array_diff_key array_diff_uassoc array_diff_ukey array_fill "+"array_filter array_flip array_intersect array_intersect_assoc array_intersect_key "+"array_intersect_uassoc array_intersect_ukey array_key_exists array_keys array_map "+"array_merge array_merge_recursive array_multisort array_pad array_pop array_product "+"array_push array_rand array_reduce array_reverse array_search array_shift "+"array_slice array_splice array_sum array_udiff array_udiff_assoc "+"array_udiff_uassoc array_uintersect array_uintersect_assoc "+"array_uintersect_uassoc array_unique array_unshift array_values array_walk "+"array_walk_recursive atan atan2 atanh base64_decode base64_encode base_convert "+"basename bcadd bccomp bcdiv bcmod bcmul bindec bindtextdomain bzclose bzcompress "+"bzdecompress bzerrno bzerror bzerrstr bzflush bzopen bzread bzwrite ceil chdir "+"checkdate checkdnsrr chgrp chmod chop chown chr chroot chunk_split class_exists "+"closedir closelog copy cos cosh count count_chars date decbin dechex decoct "+"deg2rad delete ebcdic2ascii echo empty end ereg ereg_replace eregi eregi_replace error_log "+"error_reporting escapeshellarg escapeshellcmd eval exec exit exp explode extension_loaded "+"feof fflush fgetc fgetcsv fgets fgetss file_exists file_get_contents file_put_contents "+"fileatime filectime filegroup fileinode filemtime fileowner fileperms filesize filetype "+"floatval flock floor flush fmod fnmatch fopen fpassthru fprintf fputcsv fputs fread fscanf "+"fseek fsockopen fstat ftell ftok getallheaders getcwd getdate getenv gethostbyaddr gethostbyname "+"gethostbynamel getimagesize getlastmod getmxrr getmygid getmyinode getmypid getmyuid getopt "+"getprotobyname getprotobynumber getrandmax getrusage getservbyname getservbyport gettext "+"gettimeofday gettype glob gmdate gmmktime ini_alter ini_get ini_get_all ini_restore ini_set "+"interface_exists intval ip2long is_a is_array is_bool is_callable is_dir is_double "+"is_executable is_file is_finite is_float is_infinite is_int is_integer is_link is_long "+"is_nan is_null is_numeric is_object is_readable is_real is_resource is_scalar is_soap_fault "+"is_string is_subclass_of is_uploaded_file is_writable is_writeable mkdir mktime nl2br "+"parse_ini_file parse_str parse_url passthru pathinfo readlink realpath rewind rewinddir rmdir "+"round str_ireplace str_pad str_repeat str_replace str_rot13 str_shuffle str_split "+"str_word_count strcasecmp strchr strcmp strcoll strcspn strftime strip_tags stripcslashes "+"stripos stripslashes stristr strlen strnatcasecmp strnatcmp strncasecmp strncmp strpbrk "+"strpos strptime strrchr strrev strripos strrpos strspn strstr strtok strtolower strtotime "+"strtoupper strtr strval substr substr_compare",$="and or xor __FILE__ __LINE__ array as break case "+"cfunction class const continue declare default die do else "+"elseif empty enddeclare endfor endforeach endif endswitch endwhile "+"extends for foreach function include include_once global if "+"new old_function return static switch use require require_once "+"var while __FUNCTION__ __CLASS__ "+"__METHOD__ abstract interface public implements extends private protected throw";this.regexList=[{regex:dp.sh.RegexLib.SingleLineCComments,css:"comment"},{regex:dp.sh.RegexLib.MultiLineCComments,css:"comment"},{regex:dp.sh.RegexLib.DoubleQuotedString,css:"string"},{regex:dp.sh.RegexLib.SingleQuotedString,css:"string"},{regex:new RegExp("\\$\\w+","g"),css:"vars"},{regex:new RegExp(this.GetKeywords(_),"gmi"),css:"func"},{regex:new RegExp(this.GetKeywords($),"gm"),css:"keyword"}];this.CssClass="dp-c"};dp.sh.Brushes.Php.prototype=new dp.sh.Highlighter();dp.sh.Brushes.Php.Aliases=["php"];dp.sh.Brushes.Default=function(){this.regexList=[{regex:dp.sh.RegexLib.DoubleQuotedString,css:"string"},{regex:dp.sh.RegexLib.SingleQuotedString,css:"string"},{regex:new RegExp("\\b([\\d]+(\\.[\\d]+)?|0x[a-f0-9]+)\\b","gi"),css:"number"}];this.CssClass="dp-default";this.Style=".dp-default .number { color: #C00000; }"};dp.sh.Brushes.Default.prototype=new dp.sh.Highlighter();dp.sh.Brushes.Default.Aliases=["default"]
------------ufU1AayX7nQgaratz9kvQS
Content-Disposition: inline; filename=hotkey.js
Content-Type: text/javascript; charset=utf-8; name=hotkey.js
Content-Location: http://www.iteye.com/javascripts/hotkey.js?1308833137
Content-Transfer-Encoding: 8bit

Object.Event={
extend:function(object){
object._objectEventSetup=function(event_name){
this._observers=this._observers||{};
this._observers[event_name]=this._observers[event_name]||[];
};
object.observe=function(event_name,observer){
if(typeof(event_name)=='string'&&typeof(observer)!='undefined'){
this._objectEventSetup(event_name);
if(!this._observers[event_name].include(observer))
this._observers[event_name].push(observer);
}else
for(var e in event_name)
this.observe(e,event_name[e]);
};
object.stopObserving=function(event_name,observer){
this._objectEventSetup(event_name);
if(event_name&&observer)
this._observers[event_name]=this._observers[event_name].without(observer);
else if(event_name)
this._observers[event_name]=[];
else
this._observers={};
};
object.observeOnce=function(event_name,outer_observer){
var inner_observer=function(){
outer_observer.apply(this,arguments);
this.stopObserving(event_name,inner_observer);
}.bind(this);
this._objectEventSetup(event_name);
this._observers[event_name].push(inner_observer);
};
object.notify=function(event_name){
this._objectEventSetup(event_name);
var collected_return_values=[];
var args=$A(arguments).slice(1);
try{
for(var i=0;i<this._observers[event_name].length;++i)
collected_return_values.push(this._observers[event_name][i].apply(this._observers[event_name][i],args)||null);
}catch(e){
if(e==$break)
return false;
else
throw e;
}
return collected_return_values;
};
if(object.prototype){
object.prototype._objectEventSetup=object._objectEventSetup;
object.prototype.observe=object.observe;
object.prototype.stopObserving=object.stopObserving;
object.prototype.observeOnce=object.observeOnce;
object.prototype.notify=function(event_name){
if(object.notify){
var args=$A(arguments).slice(1);
args.unshift(this);
args.unshift(event_name);
object.notify.apply(object,args);
}
this._objectEventSetup(event_name);
var args=$A(arguments).slice(1);
var collected_return_values=[];
try{
if(this.options&&this.options[event_name]&&typeof(this.options[event_name])=='function')
collected_return_values.push(this.options[event_name].apply(this,args)||null);
for(var i=0;i<this._observers[event_name].length;++i)
collected_return_values.push(this._observers[event_name][i].apply(this._observers[event_name][i],args)||null);
}catch(e){
if(e==$break)
return false;
else
throw e;
}
return collected_return_values;
};
}
}
};
var HotKey=Class.create({
initialize:function(letter,callback,options){
if(!(letter instanceof Number))letter=letter.toUpperCase().charCodeAt(0);
HotKey.hotkeys.push(this);
this.options=Object.extend({
element:false,
shiftKey:false,
altKey:false,
ctrlKey:true
},options||{});
this.letter=letter;
this.callback=callback;
this.element=$(this.options.element||document);
this.handler=function(event){
if(!event||(this.letter==event.keyCode&&((!this.options.shiftKey||(this.options.shiftKey&&event.shiftKey))&&(!this.options.altKey||(this.options.altKey&&event.altKey))&&(!this.options.ctrlKey||(this.options.ctrlKey&&event.ctrlKey))))){
this.callback(event);
event.cancelBubble=true;
event.returnValue=false;
if(event.stopPropagation){
event.stopPropagation();
event.preventDefault();
}
return false;
}
}.bind(this);
this.enable();
},
trigger:function(){
this.handler();
},
enable:function(){
this.element.observe('keydown',this.handler);
},
disable:function(){
this.element.stopObserving('keydown',this.handler);
},
destroy:function(){
this.disable();
HotKey.hotkeys=Control.HotKey.hotkeys.without(this);
}
});
Object.extend(HotKey,{
hotkeys:[]
});
Object.Event.extend(HotKey);
------------ufU1AayX7nQgaratz9kvQS
Content-Disposition: inline; filename=code_favorites.js
Content-Type: text/javascript; name=code_favorites.js
Content-Location: http://www.iteye.com/javascripts/code_favorites.js?1308833137
Content-Transfer-Encoding: 8bit



function code_favorites_init(){
    $$("pre[name=code]").each(function(pre){
        var sh_bar_tools = pre.previous().down(".tools");
        var favorite_link = '&nbsp;<a href="javascript:void()" title="收藏这段代码" onclick="code_favorites_do_favorite(this);return false;">'
        favorite_link += '<img class="star" src="/images/icon_star.png" alt="收藏代码" />';
        favorite_link += '<img class="spinner" src="/images/spinner.gif" style="display:none" />';
        favorite_link += '</a>';
        sh_bar_tools.innerHTML += favorite_link;
    });
}

function code_favorites_do_favorite(link_element){
    $(link_element);// for ie6
    var pre_element = link_element.up(".dp-highlighter").next();
    if(!pre_element || !pre_element.readAttribute("source_url"))
    {
        pre_element=link_element.up(".news").down(".data_info");
    }
    var language = pre_element.readAttribute("class");
    language = (!language || language == "data_info")?pre_element.readAttribute("language"):language;
    var pre_index =  pre_element.readAttribute("pre_index") || link_element.up(".dp-highlighter").readAttribute("pre_index");
    var parameters = {
        'code_favorite[source_url]': pre_element.readAttribute("source_url"),
        'code_favorite[page_title]': pre_element.readAttribute("title"),
        'code_favorite[language]': language,
        'code_favorite[codeable_id]': pre_element.readAttribute("codeable_id"),
        'code_favorite[codeable_type]': pre_element.readAttribute("codeable_type"),
        'code_favorite[code_index]': pre_index
    };
    if(pre_element.hasAttribute("code_favorite_id")){
        parameters = {
            "code_favorite[id]": pre_element.readAttribute("code_favorite_id")
        }
    }
    link_element.down('.star').hide();
    link_element.down('.spinner').show();
    new Ajax.Request('/code_favorites/new_xhr', {
        method: 'post',
        parameters: parameters,
        onSuccess: function(response){
            $(document.getElementsByTagName('body')[0]).insert({
                bottom:response.responseText
            });
            link_element.down('.spinner').hide();
            link_element.down('.star').show();
        }
    });
}


------------ufU1AayX7nQgaratz9kvQS
Content-Disposition: inline; filename=weiboshare.js
Content-Type: text/javascript; charset=utf-8; name=weiboshare.js
Content-Location: http://www.iteye.com/javascripts/weiboshare.js?1311688568
Content-Transfer-Encoding: 8bit

function open_window(url) {
  function o(){
    if(!window.open(url,'iteye',['toolbar=0,status=0,resizable=1,width=440,height=430,left=',(screen.width-440)/2,',top=',(screen.height-430)/2].join('')))
      window.location.href = url;
  }

  if(/Firefox/.test(navigator.userAgent)) {
    setTimeout(o,0);
  } else {
    o();
  }
}

var WeiboShare = Class.create({
  initialize: function(opts) {
    var imgs = opts['img_scope'].select('img:not(.star):not(.spinner)');
    var img_url = '';
    if(imgs.size() > 0) img_url = imgs[0]['src'];

    this.params = {
      title: opts['title'] || document.title,
      url: encodeURIComponent(opts['url'] || document.location.href),
      pic: encodeURIComponent(img_url)
    }
    this.share_buttons = opts['share_buttons'];

    this.share_buttons.select('a').each(function(link){
      link.observe('click', (function(event){
        var url = WeiboShare.make_share_url(link.readAttribute('data-type'), this.params);
        open_window(url);
        event.stop();
      }).bindAsEventListener(this));
    }, this);
  }
});

WeiboShare.register = function(sites) {
  this.sites = (this.sites || new Hash()).merge(sites);
};

WeiboShare.make_share_url = function(key, params) {
  var site_info = this.sites.get(key);
  params['appkey'] = site_info['appkey'];

  var param_array = [];
  for(var p in params) {
    param_array.push(p + '=' + params[p]);
  }

  return (site_info['url'] + '?' + param_array.join('&'));
}

WeiboShare.register({
  sina: {
    url: 'http://service.weibo.com/share/share.php',
    appkey: '3842512498'
  },
  qq: {
    url: 'http://v.t.qq.com/share/share.php',
    appkey: '050a47d9d5d848029e1de3198d2abcda'
  }
});

------------ufU1AayX7nQgaratz9kvQS
Content-Disposition: inline; filename=ui.css
Content-Type: text/css; charset=utf-8; name=ui.css
Content-Location: http://www.iteye.com/javascripts/editor/css/ui.css?1308833137
Content-Transfer-Encoding: 8bit

#editor_switch {
  border-bottom:1px solid #36a;
  height: 25px;
  margin-bottom: 12px;
}

#editor_switch li {
  margin: 0 5px;
  list-style: none;
  float:left;
}

#editor_switch li a {
  display:block;
  color: black;
  text-decoration:none;
  background: #ddd;
  padding:0.25em 1em;
  border: 1px solid #36a;
  border-bottom: none;
}

#editor_switch li a:hover,
#editor_switch li a:active,
#editor_switch li a.activetab:link,
#editor_switch li a.activetab:visited {
  background:#fff;
}

#editor_wrapper {
  width: 100%;
}

#bbcode_emotions {
  width: 120px;
  float: left;
  text-align: center;
  padding: 20px;
}

#bbcode_emotions img {
  padding: 5px;
  width: 19px;
  cursor: pointer;
}

#bbcode_controllers {
  float: left;
}

#bbcode_toolbar input {
  background-color: #efefef;
  color:#000000;
  font-family:Verdana,Arial,Helvetica,sans-serif;
  font-size:11px;
  margin: 0 5px 5px 0;
  padding: 0 4px;
}

#bbcode_tooltip {
  background-color: #dee3e7; 
  padding: 5px;
}

#button_bold {
  font-weight: bold;
}

#button_italic {
  font-style: italic;
}

#button_underline {
  text-decoration: underline;
}

#preview p {
    margin: 0 !important;
}
------------ufU1AayX7nQgaratz9kvQS
Content-Disposition: inline; filename=compress.js
Content-Type: text/javascript; name=compress.js
Content-Location: http://www.iteye.com/javascripts/editor/compress.js?1308833137
Content-Transfer-Encoding: 8bit

if(typeof(Control)=='undefined')
Control={};
Control.TextArea=Class.create();
Object.extend(Control.TextArea.prototype,{
onChangeTimeoutLength:500,
element:false,
onChangeTimeout:false,
initialize:function(textarea){
this.element=$(textarea);
$(this.element).observe('keyup',this.doOnChange.bindAsEventListener(this));
$(this.element).observe('paste',this.doOnChange.bindAsEventListener(this));
$(this.element).observe('input',this.doOnChange.bindAsEventListener(this));
},
doOnChange:function(event){
if(this.onChangeTimeout)
window.clearTimeout(this.onChangeTimeout);
this.onChangeTimeout=window.setTimeout(function(){
if(this.notify)
this.notify('change',this.getValue());
}.bind(this),this.onChangeTimeoutLength);
},
getValue:function(){
return this.element.value;
},
getSelection:function(){
if(!!document.selection)
return document.selection.createRange().text;
else if(!!this.element.setSelectionRange)
return this.element.value.substring(this.element.selectionStart,this.element.selectionEnd);
else
return false;
},
replaceSelection:function(text){
var scrollTop=this.element.scrollTop;
if(!!document.selection){
this.element.focus();
var old=document.selection.createRange().text;
var range=document.selection.createRange();
range.text=text;
range-=old.length-text.length;
}else if(!!this.element.setSelectionRange){
var selection_start=this.element.selectionStart;
this.element.value=this.element.value.substring(0,selection_start)+text+this.element.value.substring(this.element.selectionEnd);
this.element.setSelectionRange(selection_start+text.length,selection_start+text.length);
}
this.doOnChange();
this.element.focus();
this.element.scrollTop=scrollTop;
},
wrapSelection:function(before,after){
this.replaceSelection(before+this.getSelection()+after);
},
insertBeforeSelection:function(text){
this.replaceSelection(text+this.getSelection());
},
insertAfterSelection:function(text){
this.replaceSelection(this.getSelection()+text);
},
injectEachSelectedLine:function(callback,before,after){
this.replaceSelection((before||'')+$A(this.getSelection().split("\n")).inject([],callback).join("\n")+(after||''));
},
insertBeforeEachSelectedLine:function(text,before,after){
this.injectEachSelectedLine(function(lines,line){
lines.push(text+line);
return lines;
},before,after);
}
});
if(typeof(Object.Event)!='undefined')
Object.Event.extend(Control.TextArea);Control.TextArea.BBCode=Class.create();
Object.extend(Control.TextArea.BBCode.prototype,{
textarea:false,
tooltip:false,
toolbar:false,
emotions:false,
wrapper:false,
controllers:false,
initialize:function(textarea){
this.textarea=new Control.TextArea(textarea);
this._initLayout();
this._initEmotions();
this._initToolbar();
},
hide:function(){
this.wrapper.parentNode.appendChild(this.textarea.element.remove());
this.wrapper.hide();
},
show:function(){
this.controllers.appendChild(this.textarea.element.remove());
this.wrapper.show();
},
_initLayout:function(){
this.wrapper=$(document.createElement('div'));
this.wrapper.id="editor_wrapper";
this.wrapper.className="clearfix";
this.textarea.element.parentNode.insertBefore(this.wrapper,this.textarea.element);
this.emotions=$(document.createElement('div'));
this.emotions.id="bbcode_emotions";
this.emotions.innerHTML="<h5>表情图标</h5>";
this.wrapper.appendChild(this.emotions);
this.controllers=$(document.createElement('div'));
this.controllers.id="bbcode_controllers";
this.wrapper.appendChild(this.controllers);
this.toolbar=$(document.createElement('div'));
this.toolbar.id="bbcode_toolbar";
this.controllers.appendChild(this.toolbar);
this.tooltip=$(document.createElement('div'));
this.tooltip.id="bbcode_tooltip";
this.tooltip.innerHTML="提示：选择您需要装饰的文字, 按上列按钮即可添加上相应的标签";
this.controllers.appendChild(this.tooltip);
this.controllers.appendChild(this.textarea.element.remove());
},
_initEmotions:function(){
this._addEmotion("biggrin",function(){this.insertAfterSelection(" :D ");});
this._addEmotion("smile",function(){this.insertAfterSelection(" :) ");});
this._addEmotion("sad",function(){this.insertAfterSelection(" :( ");});
this._addEmotion("surprised",function(){this.insertAfterSelection(" :o ");});
this._addEmotion("eek",function(){this.insertAfterSelection(" :shock: ");});
this._addEmotion("confused",function(){this.insertAfterSelection(" :? ");});
this._addEmotion("cool",function(){this.insertAfterSelection(" 8) ");});
this._addEmotion("lol",function(){this.insertAfterSelection(" :lol: ");});
this._addEmotion("mad",function(){this.insertAfterSelection(" :x ");});
this._addEmotion("razz",function(){this.insertAfterSelection(" :P ");});
this._addEmotion("redface",function(){this.insertAfterSelection(" :oops: ");});
this._addEmotion("cry",function(){this.insertAfterSelection(" :cry: ");});
this._addEmotion("evil",function(){this.insertAfterSelection(" :evil: ");});
this._addEmotion("twisted",function(){this.insertAfterSelection(" :twisted: ");});
this._addEmotion("rolleyes",function(){this.insertAfterSelection(" :roll: ");});
this._addEmotion("wink",function(){this.insertAfterSelection(" :wink: ");});
this._addEmotion("exclaim",function(){this.insertAfterSelection(" :!: ");});
this._addEmotion("question",function(){this.insertAfterSelection(" :?: ");});
this._addEmotion("idea",function(){this.insertAfterSelection(" :idea: ");});
this._addEmotion("arrow",function(){this.insertAfterSelection(" :arrow: ");});
},
_addEmotion:function(icon,callback){
var img=$(document.createElement('img'));
img.src="http://www.iteye.com/images/smiles/icon_"+icon+".gif";
img.observe('click',callback.bindAsEventListener(this.textarea));
this.emotions.appendChild(img);
},
_initToolbar:function(){
this._addButton("B",function(){this.wrapSelection('[b]','[/b]');},function(){this.innerHTML='粗体: [b]文字[/b] (alt+b)';},{id:'button_bold'});
this._addButton("I",function(){this.wrapSelection('[i]','[/i]');},function(){this.innerHTML='斜体: [i]文字[/i] (alt+i)';},{id:'button_italic'});
this._addButton("U",function(){this.wrapSelection('[u]','[/u]');},function(){this.innerHTML='下划线: [u]文字[/u] (alt+u)';},{id:'button_underline'});
this._addButton("Quote",function(){this.wrapSelection('[quote]','[/quote]');},function(){this.innerHTML='引用文字: [quote]文字[/quote] 或者 [quote="javaeye"]文字[/quote]  (alt+q)';});
this._addButton("Code",function(){this.wrapSelection('[code="java"]','[/code]');},function(){this.innerHTML='代码: [code="ruby"]...[/code] (支持java, ruby, js, xml, html, php, python, c, c++, c#, sql)';});
this._addButton("List",function(){this.insertBeforeEachSelectedLine('[*]','[list]\n','\n[/list]')},function(){this.innerHTML='列表: [list] [*]文字 [*]文字 [/list] 或者 顺序列表: [list=1] [*]文字 [*]文字 [/list]';});
this._addButton("Img",function(){this.wrapSelection('[img]','[/img]');},function(){this.innerHTML='插入图像: [img]http://image_url[/img]  (alt+p)';});
this._addButton("URL",function(){this.wrapSelection('[url]','[/url]');},function(){this.innerHTML='插入URL: [url]http://url[/url] 或 [url=http://url]URL文字[/url]  (alt+w)';});
this._addButton("Flash",function(){this.wrapSelection('[flash=200,200]','[/flash]');},function(){this.innerHTML='插入Flash: [flash=宽,高]http://your_flash.swf[/flash]';});
this._addButton("Table",function(){this.injectEachSelectedLine(function(lines,line){lines.push("|"+line+"|");return lines;},'[table]\n','\n[/table]');},function(){this.innerHTML='插入表格: [table]用换行和|来编辑格子[/table]';});
var color_select=[
"<br />字体颜色: ",
"<select id='select_color'>",
"<option value='black' style='color: black;'>标准</option>",
"<option value='darkred' style='color: darkred;'>深红</option>",
"<option value='red' style='color: red;'>红色</option>",
"<option value='orange' style='color: orange;'>橙色</option>",
"<option value='brown' style='color: brown;'>棕色</option>",
"<option value='yellow' style='color: yellow;'>黄色</option>",
"<option value='green' style='color: green;'>绿色</option>",
"<option value='olive' style='color: olive;'>橄榄</option>",
"<option value='cyan' style='color: cyan;'>青色</option>",
"<option value='blue' style='color: blue;'>蓝色</option>",
"<option value='darkblue' style='color: darkblue;'>深蓝</option>",
"<option value='indigo' style='color: indigo;'>靛蓝</option>",
"<option value='violet' style='color: violet;'>紫色</option>",
"<option value='gray' style='color: gray;'>灰色</option>",
"<option value='white' style='color: white;'>白色</option>",
"<option value='black' style='color: black;'>黑色</option>",
"</select>"
];
this.toolbar.insert(color_select.join(""));
$('select_color').observe('change',this._change_color.bindAsEventListener(this.textarea));
$('select_color').observe('mouseover',function(){$("bbcode_tooltip").innerHTML="字体颜色: [color=red]文字[/color]  提示：您可以使用 color=#FF0000";});
var font_select=[
"&nbsp;字体大小: ",
"<select id='select_font'>",
"<option value='0'>标准</option>",
"<option value='xx-small'>1 (xx-small)</option>",
"<option value='x-small'>2 (x-small)</option>",
"<option value='small'>3 (small)</option>",
"<option value='medium'>4 (medium)</option>",
"<option value='large'>5 (large)</option>",
"<option value='x-large'>6 (x-large)</option>",
"<option value='xx-large'>7 (xx-large)</option>",
"</select>"
];
this.toolbar.insert(font_select.join(""));
$('select_font').observe('change',this._change_font.bindAsEventListener(this.textarea));
$('select_font').observe('mouseover',function(){$("bbcode_tooltip").innerHTML="字体大小: [size=x-small]小字体文字[/size]";});
var align_select=[
"&nbsp;对齐: ",
"<select id='select_align'>",
"<option value='0'>标准</option>",
"<option value='left'>居左</option>",
"<option value='center'>居中</option>",
"<option value='right'>居右</option>",
"</select>"
]
this.toolbar.insert(align_select.join(""));
$('select_align').observe('change',this._change_align.bindAsEventListener(this.textarea));
$('select_align').observe('mouseover',function(){$("bbcode_tooltip").innerHTML="对齐: [align=center]文字[/align]";});
},
_addButton:function(value,callback,tooltip,attrs){
var input=$(document.createElement('input'));
input.type="button";
input.value=value;
input.observe('click',callback.bindAsEventListener(this.textarea));
input.observe('mouseover',tooltip.bindAsEventListener(this.tooltip));
Object.extend(input,attrs||{});
this.toolbar.appendChild(input);
},
_change_color:function(){
this.wrapSelection('[color='+$F('select_color')+']','[/color]');
$('select_color').selectedIndex=0;
},
_change_font:function(){
this.wrapSelection('[size='+$F('select_font')+']','[/size]');
$('select_font').selectedIndex=0;
},
_change_align:function(){
this.wrapSelection('[align='+$F('select_align')+']','[/align]');
$('select_align').selectedIndex=0;
}
});if(typeof(tinyMCE)!='undefined'){
tinyMCE.init({
plugins:"javaeye,media,table,emotions,contextmenu,fullscreen,inlinepopups",
mode:"none",
language:"zh",
theme:"advanced",
theme_advanced_buttons1:"formatselect,fontselect,fontsizeselect,separator,forecolor,backcolor,separator,bold,italic,underline,strikethrough,separator,bullist,numlist",
theme_advanced_buttons2:"undo,redo,cut,copy,paste,separator,justifyleft,justifycenter,justifyright,separator,outdent,indent,separator,link,unlink,image,media,emotions,table,separator,quote,code,separator,fullscreen",
theme_advanced_buttons3:"",
theme_advanced_toolbar_location:"top",
theme_advanced_toolbar_align:"left",
theme_advanced_fonts:"宋体=宋体;黑体=黑体;仿宋=仿宋;楷体=楷体;隶书=隶书;幼圆=幼圆;Arial=arial,helvetica,sans-serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier;Tahoma=tahoma,arial,helvetica,sans-serif;Times New Roman=times new roman,times;Verdana=verdana,geneva;Webdings=webdings;Wingdings=wingdings,zapf dingbats",
convert_fonts_to_spans:true,
remove_trailing_nbsp:true,
remove_linebreaks:false,
width:"100%",
extended_valid_elements:"pre[name|class],object[classid|codebase|width|height|align],param[name|value],embed[quality|type|pluginspage|width|height|src|align|wmode]",
relative_urls:false,
content_css:"/javascripts/tinymce/plugins/javaeye/css/content.css",
save_callback:"removeBRInPre"
});
}
function removeBRInPre(element_id,html,body){
return html.replace(/<pre([^>]*)>((?:.|\n)*?)<\/pre>/gi,function(a,b,c){
c=c.replace(/<br\s*\/?>\n*/gi,'\n');
return'<pre'+b+'>'+c+'</pre>';
});
}
Control.TextArea.Editor=Class.create();
Object.extend(Control.TextArea.Editor.prototype,{
bbcode_editor:false,
rich_editor:false,
mode:false,
in_preview:false,
initialize:function(textarea,mode,autosave){
this.editor_bbcode_flag=$("editor_bbcode_flag");
this.textarea=textarea;
this.switchMode(mode);
if(autosave)this._initAutosave();
},
switchMode:function(mode,convert){
if(this.in_preview&&this.mode==mode){
$("editor_tab_bbcode").removeClassName("activetab");
$("editor_tab_rich").removeClassName("activetab");
$("editor_tab_preview").removeClassName("activetab");
$("editor_tab_"+mode).addClassName("activetab");
$("editor_preview").hide();
$("editor_main").show();
this.in_preview=false;
return;
}
if(this.mode==mode)return;
if(convert){
var old_text=this.getValue();
if(old_text!=""){
if(!confirm("切换编辑器模式可能导致格式和内容丢失,你确定吗?"))return;
$('editor_switch_spinner').show();
}
}
this.mode=mode;
if($("editor_switch")){
$("editor_tab_bbcode").removeClassName("activetab");
$("editor_tab_rich").removeClassName("activetab");
$("editor_tab_preview").removeClassName("activetab");
$("editor_tab_"+mode).addClassName("activetab");
$("editor_preview").hide();
$("editor_main").show();
this.in_preview=false;
}
if(this.mode=="rich"){
this.editor_bbcode_flag.value="false";
if(this.bbcode_editor)this.bbcode_editor.hide();
this.rich_editor=true;
tinyMCE.execCommand('mceAddControl',false,this.textarea);
}else{
this.editor_bbcode_flag.value="true";
if(this.rich_editor)tinyMCE.execCommand('mceRemoveControl',false,this.textarea);
this.bbcode_editor?this.bbcode_editor.show():this.bbcode_editor=new Control.TextArea.BBCode(this.textarea);
}
if(convert&&old_text!=""){
new Ajax.Request(this.mode=="rich"?'/editor/bbcode2html':'/editor/html2bbcode',{
method:'post',
parameters:{text:old_text},
asynchronous:true,
onSuccess:function(transport){this.setValue(transport.responseText);$('editor_switch_spinner').hide();}.bind(this)
});
}
},
getValue:function(){
return this.mode=="bbcode"?this.bbcode_editor.textarea.element.value:tinyMCE.activeEditor.getContent();
},
setValue:function(value){
if(this.mode=="bbcode"){
this.bbcode_editor.textarea.element.value=value;
}else{
tinyMCE.get(this.textarea).setContent(value);
}
},
preview:function(){
this.in_preview=true;
$('editor_switch_spinner').show();
$("editor_preview").show();
$("editor_main").hide();
$("editor_tab_bbcode").removeClassName("activetab");
$("editor_tab_rich").removeClassName("activetab");
$("editor_tab_preview").addClassName("activetab");
new Ajax.Updater("editor_preview","/editor/preview",{
parameters:{text:this.getValue(),mode:this.mode},
evalScripts:true,
onSuccess:function(){$('editor_switch_spinner').hide();}
});
},
insertImage:function(url){
if(this.mode=="bbcode"){
this.bbcode_editor.textarea.insertAfterSelection("\n[img]"+url+"[/img]\n");
}else{
tinyMCE.execCommand("mceInsertContent", false, "<br/><img src='"+url+"'/><br/>&nbsp;");
}
},
_initAutosave:function(){
this.autosave_url=window.location.href;
new Ajax.Request('/editor/check_autosave',{
method:'post',
parameters:{url:this.autosave_url},
asynchronous:true,
onSuccess:this._loadAutosave.bind(this)
});
setInterval(this._autosave.bind(this),90*1000);
},
_loadAutosave:function(transport){
var text=transport.responseText;
if(text!="nil"){
eval("this.auto_save = "+text);
$('editor_auto_save_update').update('<span style="color:red">您有一份自动保存于'+this.auto_save.updated_at+'的草稿，<a href="#" onclick=\'editor._setAutosave();return false;\'>恢复</a>还是<a href="#" onclick=\'editor._discardAutosave();return false;\'>丢弃</a>呢？</span>');
}
},
_setAutosave:function(){
$("editor_auto_save_id").value=this.auto_save.id;
$('editor_auto_save_update').update("");
this.auto_save.bbcode?this.switchMode("bbcode"):this.switchMode("rich");
this.setValue(this.auto_save.body);
},
_discardAutosave:function(){
$("editor_auto_save_id").value=this.auto_save.id;
$('editor_auto_save_update').update("");
},
_autosave:function(){
var body=this.getValue();
if(body.length<100)return;
new Ajax.Request('/editor/autosave',{
method:'post',
parameters:{
url:this.autosave_url,
body:body,
bbcode:this.mode=="bbcode"
},
asynchronous:true,
onSuccess:function(transport){
$('editor_auto_save_id').value=transport.responseText;
$('editor_auto_save_update').update('<span style="color:red">ITeye编辑器帮您自动保存草稿于：'+new Date().toLocaleString()+'</span>');
}
});
}
});
------------ufU1AayX7nQgaratz9kvQS
Content-Disposition: inline; filename=show_ads.js
Content-Type: text/javascript; charset=UTF-8; name=show_ads.js
Content-Location: http://pagead2.googlesyndication.com/pagead/show_ads.js
Content-Transfer-Encoding: Quoted-Printable


(function(){var g=3Dnull,h=3D(new Date).getTime();var i=3Dthis,aa=3Dfunc=
tion(a,b){var c=3Da.split("."),d=3Di;!(c[0]in d)&&d.execScript&&d.execSc=
ript("var "+c[0]);for(var e;c.length&&(e=3Dc.shift());)!c.length&&b!=3D=3D=
void 0?d[e]=3Db:d=3Dd[e]?d[e]:d[e]=3D{}},ba=3Dfunction(a,b,c){return a.c=
all.apply(a.bind,arguments)},ca=3Dfunction(a,b,c){if(!a)throw Error();if=
(arguments.length>2){var d=3DArray.prototype.slice.call(arguments,2);ret=
urn function(){var c=3DArray.prototype.slice.call(arguments);Array.proto=
type.unshift.apply(c,d);return a.apply(b,c)}}else return function(){retu=
rn a.apply(b,
arguments)}},j=3Dfunction(a,b,c){j=3DFunction.prototype.bind&&Function.p=
rototype.bind.toString().indexOf("native code")!=3D-1?ba:ca;return j.app=
ly(g,arguments)};var ea=3D/&/g,fa=3D/</g,ga=3D/>/g,ha=3D/\"/g,k=3D{"\x00=
":"\\0","\u0008":"\\b","\u000c":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","=
\u000b":"\\x0B",'"':'\\"',"\\":"\\\\"},p=3D{"'":"\\'"},ja=3Dfunction(a){=
for(var b=3D0,c=3DString(ia).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split(=
"."),a=3DString(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=3DM=
ath.max(c.length,a.length),e=3D0;b=3D=3D0&&e<d;e++){var f=3Dc[e]||"",oa=3D=
a[e]||"",r=3DRegExp("(\\d*)(\\D*)","g"),l=3DRegExp("(\\d*)(\\D*)","g");d=
o{var m=3Dr.exec(f)||["","",""],n=3Dl.exec(oa)||["",
"",""];if(m[0].length=3D=3D0&&n[0].length=3D=3D0)break;b=3Dq(m[1].length=
=3D=3D0?0:parseInt(m[1],10),n[1].length=3D=3D0?0:parseInt(n[1],10))||q(m=
[2].length=3D=3D0,n[2].length=3D=3D0)||q(m[2],n[2])}while(b=3D=3D0)}retu=
rn b},q=3Dfunction(a,b){if(a<b)return-1;else if(a>b)return 1;return 0};v=
ar ka=3Ddocument,s=3Dwindow;var t=3Dfunction(a){a=3DparseFloat(a);return=
 isNaN(a)||a>1||a<0?0:a},w=3Dfunction(a){return a=3D=3D"true"?!0:a=3D=3D=
"false"?!1:!1},la=3D/^([\w-]+\.)*([\w-]{2,})(\:[0-9]+)?$/,x=3Dfunction(a=
){return!a?"pagead2.googlesyndication.com":(a=3Da.match(la))?a[0]:"pagea=
d2.googlesyndication.com"};var ma=3Dt("0"),na=3Dt("0"),pa=3Dt("0");var q=
a=3Dw("false"),ra=3Dw("false"),sa=3Dw("false");var ta=3Dfunction(){retur=
n x("")};var y,z,B,C,ua=3Dfunction(){return i.navigator?i.navigator.user=
Agent:g};C=3DB=3Dz=3Dy=3D!1;var D;if(D=3Dua()){var va=3Di.navigator;y=3D=
D.indexOf("Opera")=3D=3D0;z=3D!y&&D.indexOf("MSIE")!=3D-1;B=3D!y&&D.inde=
xOf("WebKit")!=3D-1;C=3D!y&&!B&&va.product=3D=3D"Gecko"}var E=3Dz,F=3DC,=
wa=3DB,G;
a:{var H=3D"",I;if(y&&i.opera)var J=3Di.opera.version,H=3Dtypeof J=3D=3D=
"function"?J():J;else if(F?I=3D/rv\:([^\);]+)(\)|;)/:E?I=3D/MSIE\s+([^\)=
;]+)(\)|;)/:wa&&(I=3D/WebKit\/(\S+)/),I)var xa=3DI.exec(ua()),H=3Dxa?xa[=
1]:"";if(E){var K,ya=3Di.document;K=3Dya?ya.documentMode:void 0;if(K>par=
seFloat(H)){G=3DString(K);break a}}G=3DH}var ia=3DG,L=3D{},za=3D{},Aa=3D=
function(){return za[9]||(za[9]=3DE&&document.documentMode&&document.doc=
umentMode>=3D9)};!E||Aa();if(F||E)if(!E||!Aa())F&&(L["1.9.1"]||(L["1.9.1=
"]=3Dja("1.9.1")>=3D0));E&&(L["9"]||(L["9"]=3Dja("9")>=3D0));x("");var N=
=3Dfunction(a){return!!a&&typeof a=3D=3D"function"&&!!a.call},Ba=3Dfunct=
ion(a,b){if(!(arguments.length<2))for(var c=3D1,d=3Darguments.length;c<d=
;++c)a.push(arguments[c])};function O(a){return typeof encodeURIComponen=
t=3D=3D"function"?encodeURIComponent(a):escape(a)}function Ca(a,b){a.att=
achEvent?a.attachEvent("onload",b):a.addEventListener&&a.addEventListene=
r("load",b,!1)};aa("google_protectAndRun",function(a,b,c){a=3Dj(b,i,a);b=
=3Dwindow.onerror;window.onerror=3Da;try{c()}catch(d){var c=3Dd.toString=
(),e=3D"";d.fileName&&(e=3Dd.fileName);var f=3D-1;if(d.lineNumber)f=3Dd.=
lineNumber;if(!a(c,e,f))throw d;}window.onerror=3Db});
aa("google_handleError",function(a,b,c,d){if(Math.random()<0.01)a=3D["ht=
tp://",ta(),"/pagead/gen_204","?id=3Djserror","&jscb=3D",qa?1:0,"&jscd=3D=
",ra?1:0,"&context=3D",O(a),"&msg=3D",O(b),"&file=3D",O(c),"&line=3D",O(=
d.toString()),"&url=3D",O(ka.URL.substring(0,512)),"&ref=3D",O(ka.referr=
er.substring(0,512))],a.push(["&client=3D",O(s.google_ad_client),"&forma=
t=3D",O(s.google_ad_format),"&slotname=3D",O(s.google_ad_slot),"&output=3D=
",O(s.google_ad_output),"&ad_type=3D",O(s.google_ad_type)].join("")),a=3D=
a.join(""),s.google_image_requests||
(s.google_image_requests=3D[]),b=3Dnew Image,b.src=3Da,s.google_image_re=
quests.push(b);return!sa});var Da=3Dfunction(a){try{var b=3Da.google_tes=
t;a.google_test=3D!b;if(a.google_test=3D=3D=3D!b)return a.google_test=3D=
b,!0}catch(c){}return!1},P=3Dg,Ea=3Dfunction(){if(!P){for(var a=3Dwindow=
;a!=3Da.parent&&Da(a.parent);)a=3Da.parent;P=3Da}return P};var Q,R=3Dfun=
ction(a){this.c=3D[];this.a=3Da||window;this.b=3D0;this.d=3Dg},Fa=3Dfunc=
tion(a,b){this.l=3Da;this.i=3Db};R.prototype.n=3Dfunction(a,b){this.b=3D=
=3D0&&this.c.length=3D=3D0&&(!b||b=3D=3Dwindow)?(this.b=3D2,this.g(new F=
a(a,window))):this.h(a,b)};R.prototype.h=3Dfunction(a,b){this.c.push(new=
 Fa(a,b||this.a));S(this)};R.prototype.o=3Dfunction(a){this.b=3D1;if(a)t=
his.d=3Dthis.a.setTimeout(j(this.f,this),a)};R.prototype.f=3Dfunction(){=
if(this.b=3D=3D1){if(this.d!=3Dg)this.a.clearTimeout(this.d),this.d=3Dg;=
this.b=3D0}S(this)};R.prototype.p=3Dfunction(){return!0};
R.prototype.nq=3DR.prototype.n;R.prototype.nqa=3DR.prototype.h;R.prototy=
pe.al=3DR.prototype.o;R.prototype.rl=3DR.prototype.f;R.prototype.sz=3DR.=
prototype.p;var S=3Dfunction(a){a.a.setTimeout(j(a.m,a),0)};R.prototype.=
m=3Dfunction(){if(this.b=3D=3D0&&this.c.length){var a=3Dthis.c.shift();t=
his.b=3D2;a.i.setTimeout(j(this.g,this,a),0);S(this)}};R.prototype.g=3Df=
unction(a){this.b=3D0;a.l()};
var Ga=3Dfunction(a){try{return a.sz()}catch(b){return!1}},Ia=3Dfunction=
(a){return!!a&&(typeof a=3D=3D"object"||typeof a=3D=3D"function")&&Ga(a)=
&&N(a.nq)&&N(a.nqa)&&N(a.al)&&N(a.rl)},Ja=3Dfunction(){if(Q&&Ga(Q))retur=
n Q;var a=3DEa(),b=3Da.google_jobrunner;return Ia(b)?Q=3Db:a.google_jobr=
unner=3DQ=3Dnew R(a)},Ka=3Dfunction(a,b){Ja().nq(a,b)},La=3Dfunction(a,b=
){Ja().nqa(a,b)};var Ma=3D/MSIE [2-7]|PlayStation|Gecko\/20090226/i,Na=3D=
/Android|Opera/,Oa=3Dfunction(){var a=3DT,b=3DU.google_ad_width,c=3DU.go=
ogle_ad_height,d=3D["<iframe"],e;for(e in a)a.hasOwnProperty(e)&&Ba(d,e+=
"=3D"+a[e]);d.push('style=3D"left:0;position:absolute;top:0;"');d.push("=
></iframe>");b=3D"border:none;height:"+c+"px;margin:0;padding:0;position=
:relative;visibility:visible;width:"+b+"px";return['<ins style=3D"displa=
y:inline-table;',b,'"><ins id=3D"',a.id+"_anchor",'" style=3D"display:bl=
ock;',b,'">',d.join(" "),"</ins></ins>"].join("")};var Pa=3Dfunction(){}=
,Ra=3Dfunction(a,b,c){switch(typeof b){case "string":Qa(b,c);break;case =
"number":c.push(isFinite(b)&&!isNaN(b)?b:"null");break;case "boolean":c.=
push(b);break;case "undefined":c.push("null");break;case "object":if(b=3D=
=3Dg){c.push("null");break}if(b instanceof Array){var d=3Db.length;c.pus=
h("[");for(var e=3D"",f=3D0;f<d;f++)c.push(e),Ra(a,b[f],c),e=3D",";c.pus=
h("]");break}c.push("{");d=3D"";for(e in b)b.hasOwnProperty(e)&&(f=3Db[e=
],typeof f!=3D"function"&&(c.push(d),Qa(e,c),c.push(":"),Ra(a,f,c),d=3D
","));c.push("}");break;case "function":break;default:throw Error("Unkno=
wn type: "+typeof b);}},Sa=3D{'"':'\\"',"\\":"\\\\","/":"\\/","\u0008":"=
\\b","\u000c":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\u000b":"\\u000b"}=
,Ta=3D/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\=
x1f\x7f-\xff]/g,Qa=3Dfunction(a,b){b.push('"');b.push(a.replace(Ta,funct=
ion(a){if(a in Sa)return Sa[a];var b=3Da.charCodeAt(0),e=3D"\\u";b<16?e+=
=3D"000":b<256?e+=3D"00":b<4096&&(e+=3D"0");return Sa[a]=3De+b.toString(=
16)}));b.push('"')};var V=3D"google_ad_block,google_ad_channel,google_ad=
_client,google_ad_format,google_ad_height,google_ad_host,google_ad_host_=
channel,google_ad_host_tier_id,google_ad_output,google_ad_override,googl=
e_ad_region,google_ad_section,google_ad_slot,google_ad_type,google_ad_wi=
dth,google_adtest,google_allow_expandable_ads,google_alternate_ad_url,go=
ogle_alternate_color,google_analytics_domain_name,google_analytics_uacct=
,google_bid,google_city,google_color_bg,google_color_border,google_color=
_line,google_color_link,google_color_text,google_color_url,google_contai=
ner_id,google_contents,google_country,google_cpm,google_ctr_threshold,go=
ogle_cust_age,google_cust_ch,google_cust_gender,google_cust_id,google_cu=
st_interests,google_cust_job,google_cust_l,google_cust_lh,google_cust_u_=
url,google_disable_video_autoplay,google_ed,google_eids,google_enable_os=
d,google_enable_ose,google_encoding,google_font_face,google_font_size,go=
ogle_frame_id,google_gl,google_hints,google_image_size,google_kw,google_=
kw_type,google_language,google_max_num_ads,google_max_radlink_len,google=
_num_radlinks,google_num_radlinks_per_unit,google_num_slots_to_rotate,go=
ogle_only_ads_with_video,google_only_pyv_ads,google_only_userchoice_ads,=
google_override_format,google_page_url,google_previous_watch,google_prev=
ious_searches,google_referrer_url,google_region,google_reuse_colors,goog=
le_rl_dest_url,google_rl_filtering,google_rl_mode,google_rt,google_safe,=
google_scs,google_skip,google_tag_info,google_targeting,google_ui_featur=
es,google_ui_version,google_video_doc_id,google_video_product_type,googl=
e_with_pyv_ads".split(",");var W=3Dfunction(a){this.a=3Da;a.google_ifram=
e_oncopy||(a.google_iframe_oncopy=3D{handlers:{},log:[],img:Math.random(=
)<0.01?[]:g});this.e=3Da.google_iframe_oncopy;a.setTimeout(j(this.k,this=
),3E4)},Ua;var X=3D"var i=3Dthis.id,s=3Dwindow.google_iframe_oncopy,H=3D=
s&&s.handlers,h=3DH&&H[i],w=3Dthis.contentWindow,d;try{d=3Dw.document}ca=
tch(e){}if(h&&d&&(!d.body||!d.body.firstChild)){if(h.call){i+=3D'.call';=
setTimeout(h,0)}else if(h.match){i+=3D'.nav';w.location.replace(h)}s.log=
&&s.log.push(i)}";
/[&<>\"]/.test(X)&&(X.indexOf("&")!=3D-1&&(X=3DX.replace(ea,"&amp;")),X.=
indexOf("<")!=3D-1&&(X=3DX.replace(fa,"&lt;")),X.indexOf(">")!=3D-1&&(X=3D=
X.replace(ga,"&gt;")),X.indexOf('"')!=3D-1&&(X=3DX.replace(ha,"&quot;"))=
);Ua=3DX;W.prototype.set=3Dfunction(a,b){this.e.handlers[a]=3Db;this.a.a=
ddEventListener&&this.a.addEventListener("load",j(this.j,this,a),!1)};W.=
prototype.j=3Dfunction(a){var a=3Dthis.a.document.getElementById(a),b=3D=
a.contentWindow.document;if(a.onload&&b&&(!b.body||!b.body.firstChild))a=
.onload()};
W.prototype.k=3Dfunction(){if(this.e.img){var a=3Dthis.e.log,b=3Dthis.a.=
document;if(a.length)b=3D["http://",ta(),"/pagead/gen_204?id=3Diframecop=
y&log=3D",O(a.join("-")),"&url=3D",O(b.URL.substring(0,512)),"&ref=3D",O=
(b.referrer.substring(0,512))].join(""),a.length=3D0,a=3Dnew Image,this.=
e.img.push(a),a.src=3Db}};var Va=3Dfunction(){var a=3D"script";return["<=
",a,' src=3D"http://',x(""),'/pagead/js/r20110810/r20110719/show_ads_imp=
l.js"></',a,">"].join("")},Wa=3Dfunction(a,b,c,d){return function(){var =
e=3D!1;d&&Ja().al(3E4);try{var f;try{f=3D!!a.document.getElementById(b).=
contentWindow.document}catch(oa){f=3D!1}if(f){var r=3Da.document.getElem=
entById(b).contentWindow,
l=3Dr.document;if(!l.body||!l.body.firstChild)l.open(),r.google_async_if=
rame_close=3D!0,l.write(c)}else{var m=3Da.document.getElementById(b).con=
tentWindow,n;f=3Dc;f=3DString(f);if(f.quote)n=3Df.quote();else{r=3D['"']=
;for(l=3D0;l<f.length;l++){var M=3Df.charAt(l),Ha=3DM.charCodeAt(0),pb=3D=
r,qb=3Dl+1,da;if(!(da=3Dk[M])){var A;if(Ha>31&&Ha<127)A=3DM;else{var o=3D=
M;if(o in p)A=3Dp[o];else if(o in k)A=3Dp[o]=3Dk[o];else{var u=3Do,v=3Do=
.charCodeAt(0);if(v>31&&v<127)u=3Do;else{if(v<256){if(u=3D"\\x",v<16||v>=
256)u+=3D"0"}else u=3D"\\u",v<4096&&(u+=3D"0");
u+=3Dv.toString(16).toUpperCase()}A=3Dp[o]=3Du}}da=3DA}pb[qb]=3Dda}r.pus=
h('"');n=3Dr.join("")}m.location.replace("javascript:"+n)}e=3D!0}catch(x=
b){m=3DEa().google_jobrunner,Ia(m)&&m.rl()}e&&(new W(a)).set(b,Wa(a,b,c,=
!1))}},Xa=3Dfunction(){return ma&&na/ma||typeof window.google_hash_ratio=
=3D=3D"number"&&window.google_hash_ratio||g};window.google_loader_used=3D=
!0;(function(a){if(!("google_onload_fired"in a))a.google_onload_fired=3D=
!1,Ca(a,function(){a.google_onload_fired=3D!0})})(window);if(!window.goo=
gle_loader_experiment){var Ya;a:{var Za=3D["async_bad_black","block_bad_=
black"];if(!(Math.random()<1.0E-4)){var $a=3DMath.random();if($a<pa){Ya=3D=
Za[Math.floor($a/pa*Za.length)];break a}}Ya=3Dg}window.google_loader_exp=
eriment=3DYa||""||"launch"}var ab;
a:{try{if(window.google_enable_async!=3D=3D!0&&window.google_loader_expe=
riment=3D=3D"blockodd"&&window.top.location.hostname.length%2=3D=3D1){ab=
=3D!1;break a}}catch(bb){}ab=3D!0}var cb;if(cb=3Dab){var db;if(window.go=
ogle_enable_async=3D=3D=3D!1)db=3D0;else{var eb=3Dnavigator.userAgent,fb=
=3Dwindow.google_loader_experiment;db=3D(Ma.test(eb)?!1:Na.test(eb)?fb=3D=
=3D"async_bad_black":!0)&&!window.google_container_id&&(!window.google_a=
d_output||window.google_ad_output=3D=3D"html")}cb=3Ddb}
if(cb){var gb=3Dwindow;gb.google_unique_id?++gb.google_unique_id:gb.goog=
le_unique_id=3D1;for(var Y=3Dwindow,_script$$inline_161=3D"script",Z,U=3D=
Y,T=3D{allowtransparency:'"true"',frameborder:'"0"',height:'"'+Y.google_=
ad_height+'"',hspace:'"0"',marginwidth:'"0"',marginheight:'"0"',onload:'=
"'+Ua+'"',scrolling:'"no"',vspace:'"0"',width:'"'+Y.google_ad_width+'"'}=
,hb=3DU.document,$=3DT.id,ib=3D0;!$||U.document.getElementById($);)$=3D"=
aswift_"+ib++;T.id=3D$;T.name=3D$;hb.write(Oa());Z=3D$;var jb;Y.google_p=
age_url&&(Y.google_page_url=3D
String(Y.google_page_url));for(var kb=3D[],lb=3D0,mb=3DV.length;lb<mb;lb=
++){var nb=3DV[lb];if(Y[nb]!=3Dg){var ob;try{var rb=3D[];Ra(new Pa,Y[nb]=
,rb);ob=3Drb.join("")}catch(sb){}ob&&Ba(kb,nb,"=3D",ob,";")}}jb=3Dkb.joi=
n("");for(var tb=3D0,ub=3DV.length;tb<ub;tb++)Y[V[tb]]=3Dg;var vb=3D(new=
 Date).getTime(),wb=3DXa(),yb=3Dwindow.google_loader_experiment,zb=3D["<=
!doctype html><html><body><",_script$$inline_161,">",jb,"google_show_ads=
_impl=3Dtrue;google_unique_id=3D",Y.google_unique_id,';google_async_ifra=
me_id=3D"',Z,'";google_start_time=3D',
h,";",wb?"google_hash_ratio=3D"+wb+";":"",yb?'google_loader_experiment=3D=
"'+yb+'";':"","google_bpp=3D",vb>h?vb-h:1,";</",_script$$inline_161,">",=
Va(),"</body></html>"].join("");(Y.document.getElementById(Z)?Ka:La)(Wa(=
Y,Z,zb,!0))}else window.google_start_time=3Dh,window.google_hash_ratio=3D=
Xa(),document.write(Va());})();

------------ufU1AayX7nQgaratz9kvQS
Content-Disposition: inline; filename=t_sina.gif
Content-Type: image/gif; name=t_sina.gif
Content-Location: http://jasongreen.iteye.com/images/t_sina.gif
Content-Transfer-Encoding: Base64

R0lGODlhIQAgAPcAAP///wAAANQIC+YkJe0+QOxOUeJYWeMLFNcfJ9orMOUuNWtr
bExNTvb6+yEiIvH39/3///7///v+p/7+nPz7n6ysp////f77fPz5gvv3gv35j/36
lP36mvz6pvv5pvz1hvz2if33lP75mf75mv34mv76m/34n/76oPz4pf75rPz3q/zw
bf3zb/3ze/z0gPzzgPvxgPvyhPz1jf32k/z1o/7xafztafvtbv7ydfzykvzzmP31
qfzzqf7rZvvpafzqbfvqbf3tcv3lUP3pafzoev3jY/3lbP3pi/zql/zcSv3dXfzj
cvvqofz68/7SP/nUafzYd/Tx6f3FPvrMZvvWhv3dlPzGVNnY1vTBZ/iwN/vTkP7V
k/3Vk/7WlPrXnM7AqPfEePrKhv3Rj8TCv/miLveuS+XMrf2ZK/u2bMFsGMl1I9mA
KLNqIeyNLu+taPq6efvJlfXm1/iDFtNyFfyFGuF6Gv6NJPWGJPyNK/yUMfydQvy+
hPx7EPyJJP+IJa5dG+V/JvmqZf1zDvx/HfV8H/uDJP6CJf2FJfR+JP+FJvyEJv6I
KuaYW/V0HP16IP19Iv59JPt8JJJKGPWDMv2LOvyQQ/yVTPdqFP1xFfxzHfFzIPi0
itqniP5iC+BkHf16MvSISfyVW/maZeKsjvGYcPqhd/LWyfNWF+xZG/VmKducge9C
A/BGCPFbJOxxRv2FV+07AepMG/BVIfFaK/BjNPFoOvNuQvR0S9WPd+47CPN3U/SS
d/aiie42BuQ4C+8+FfNFGO5NJO9hP/FoRvNvT/J+YeI0EfJWMu9ZO/OGbdJ5Zuww
DM4tD+9bQusjBO82HOJDKu9aRvFjTvJqVeBlVNFlVvykl8QbBs5ZSuoqGuo2JPFL
OtVGOe9RQ/m1r8QSBd9COu5US+9XTf3g3rwGAcMNBsgPCM0RDOsZEO1JRf/GxMkE
BMwJBcoMC9cWFdEcGuw6OeZrafCKivvu7hgXF/79/fz8/Pv7++Hh4YKCgjk5OSws
LA0NDQcHBwMDA////yH5BAEAAP8ALAAAAAAhACAAAAj/AP8JDCNmSxcuXLooRKjw
YEKHDRFuEUjxXxUmPHao2KgiBceOHzmmGLlxxw4kFKvQ8OChQweWLl+2dAnzZQcm
XpjQkOASBcp/R0wIHSr0BFGjRE1QQLKJFy84FIzq+LfniAgSJEaMwDqixAgOE8KW
4LqVAxIxWjbJ21SixAwqe4jIkDEjRIgZdTdsyAE3zJENde9uOFJq16Yw8nhpAAGX
yIfHH0CAkKFBQxhSyTLvoqJh7twjVMIk27Un3hsMUPYseQEDxgsXLzLACFSstu03
IB7H+AClWDIw8UiRikcktZEWyJFfWBLqlq7nz6cFutDigvULvYuhMeDGABYob4rg
/xiPYzkoW7fSE1svbXoQNKJEocHOnRoj++CLBNmPwwioWrYEOMyAw0QTCBbEiBNO
AQUEggMWT0CIxRRPvKHED0Dc8EMltNTiYS3ChNhMMwV2E86J6UzzAwsrsOCiDVNY
6IMPK5SRCi044ojMjjt242M36QQpThE2zDiED0VMgUYSQ9RgRSqpzCLlMVRWuc2V
V6ZDAAHdPFFDDT30MESSaDghRBGTtKJmK1IGEww04MQZJzx0wrNlM66UUUQPRQhh
RZlCZMHKKafIIsub3FSjjCqjcKIKLspgA44CdCqQAALQlCFEEn+a2Qgsq6zCijHc
KDOKGV9UUMEVTUQRhxmcYP+TwAADuOPOOswkwWmZUrAS6irGYMOJKWMswIA+Djiw
QAMAANCEKcrY6s455nyTBaeBSHHGr75UY0YTYxy7Dz38BBDAAs1GAEAU1QgwbbVZ
OFFGIFkQAios2JhhwRUMjNsPP/2YSw8+ANhjDwCmvENtOd+QIUUZopBxCai+qNIE
APk4sI+x+ehjLj9XAHDPPRDMkwA75ZDDTBZZ6BHKGRPDEospANTDAD0VNLuAuQEM
XDDJCZeTsidZkOGyHZ/KHEezyEbRLAM8oxuBPRAAEM8636h8xtaUhEJHIazk0os1
6uYTQAX45OOPufsQXI+68rBjDjnXIHIGHnZQ8gomfZz/0ksvv3gDwANQl2uuPiFX
PU88ctOtiR2HHDLIJ69c4kgmrCyjeTLjNFABAwwsUAGzEIwjz8ntlMNMI4Y44jom
lHeSyezAaO7MM9NYo44p46jjjTwFDCCAAO0wg4rrs8+OSSp7Z/KII5Cc8ks22aBj
PToDoHPA9ge4Y8zxiTzy/POQwP6PIIsMosghfhiSySnAPEN9NgNoo00wqUSChx+L
RK5IIYdIxCAeIRBK8AEPfehDHu7Qhjqo4Q9/kIQEJfEHNqhhDYC4AwLzoMAE4kEQ
FKEEHeiQBzk0cA1zUEMaVJiGFqphDmuoQxvkkAcS0nCEFfmHJSxBCUtUohI8DOIP
DIcIRCD28Ic8rEhAAAA7

------------ufU1AayX7nQgaratz9kvQS
Content-Disposition: inline; filename=t_qq.gif
Content-Type: image/gif; name=t_qq.gif
Content-Location: http://jasongreen.iteye.com/images/t_qq.gif
Content-Transfer-Encoding: Base64

R0lGODlhIAAgAPcAAP///yBqoB9qnx5pnhxonhtonhdnnRR4tCBkoSJqpiZspSdu
qCVlmhpopBxlnSBonyJroSRpnidupip1rChtoRhqoxhoohdnnhdmnBhonhppohpp
nhtooCJ+wB1tohxqnxxonx5onSN5siFsoh5hkSJtoyNvpSJtoSl+uSd6siVxpyRv
pCRuoyVwpSZypyZwpCh0qSdxpidvoilzqShxpSp1qip0pitzpix0qC53rCtxoTF/
tC11pjB6ripolVSLstXj7dnl7ebt8h+KyxpzqRhonBtvpB5xpiaNyyWJxiSEwiBz
qSJ2rCiKxyV+tyiHxCV8tCR4ryeCvCR1qCV1pjGKwTR6qDJynDl/qzd4oD6Cqzx8
pUeLtWmv2mybuBeV2xV5tBuQ0xZ3rxl6rySV1CWY1yeb2yqj5R92qCqd3SqV0yuP
ySySzCV5qid+sid7rSp/siRokDiHsjx3mESCpb3R3dbq9efz+gyi7A6f5xGg5xOc
4Rai6R+e4CGl5iSf4Cai5Sek5iai3yik5jCe1DeXxjiQvkubxUyTuFaewlGKqHvE
6qzZ8Qap8wet9wir8wil7wmm7wqi6wun7wul6wyr8w2o7w2j6w+k6xSq7RWt8hqk
5yGl4yyc0i+k3Dam2z+jz0Os21aozEqDnFWRrUl8lAC0/AKx+QOv+gSt9waw+gex
9Aeu8gix+gqq7gyy+g6x9BOz9yW27ymz7S2v5jCt4GipxGGbsn681/H2+AC5/wG6
/wK6/wK5/Qa2+DW56Ve22FebtF2Km3avxHupuZfC0EvA41LE5V6yy5PQ4nC+0mmz
xWuquY66xafJ0TVwfW7I3H28yWmRmcbd4rDS14qyt7Lg5Xe2vFqWmNPr7LrZ2dns
7J+9vMjp6EKDfdnn5o6sqFaWjFyNhrjU0MHc2NTl4rbMx+Dx7ajGvtHh3MLWztbp
4dzs5VGTcoauk+Tu5Ovy6+/17vT58/f79rHWoHKwS8TdsOLwz7zigpDMJKvYV/r8
9vz9+P7++v///P///yH5BAEAAP8ALAAAAAAgACAAAAj/AP8J/Hcm0KCDCBMqVBjo
zMCBgGD10kWRl0WLuyhq3LixFyxAEH2ZOqWqVatXsVK+MqkKlcuXMFGdMuUL5D9Y
pxw5ghVL1i9jx4z9khULls5USJMqTXUK1r80qx5V0jTLWDJr3bJ1s5bM2CxNlR41
Gku2bKNVacywspTpF7Ru8/rFexev37xuymplsjQpkt+/kAJDYmXGjCs+tKCd87eu
2bVl14qt83cuLx9Mly7hwZP5kqTPrsyUyeQHWLZ+45gV6tSJEKhl4/qtQyaID59N
fvxs4qNHT548lMqo2RQqmT9ywQqV6cP8jydk5Pw5AyXIUyhgwEJ56rOnex4yajgB
/9sW75ohMmkWMVqU5s+naPK+2QKlzNq2bdNwgTLz5cse8IIoM086waxRRjIAJJgM
GYQgU048zUSTDTXMMFPMN8WAQoZ/SLDhSTT9qBMMEqHYkSAAuVShhija7IMOOdQE
c4goh0RTzjBshPEFEmsQAqKIa4BiYoJCwMGGKOTsY843zCRixx24JKKNM4YMEQYS
TRAyjDzp3FJFF3fk4o8QXqRQyDLswIPON7fYkmAxiFDjjBxKhJHEE2wkMs08xCRy
hzPBDPNDDVUcUgw/6VRTTjWIFBOEF8FM04wcHQyhhBJIGDJMOsRMA4QVUTiBQqHD
sMNPNbc4w2mjzdgyDSk7VP+qhBRS7MCFIsTI40UWXCCCyC3VpAOAOcLQccs45TjT
TB1eKLJFDynQ6gQcOfSABTnjzEEMN9ygow48/qgjzRxWaKFINeZU40UdP9yQwwRu
OAGFGxNMcMs9wowyzT778OPPO9wIMwcPNeRgxRZzzHGFF+hgw8MEcEAhghs1TFCN
PXPQsa056IAjTSlX6ADDyDDMYMMNOLRARz31eJNCClG8MQMW9Ljjw8Gj5KywDjTE
4IIKQLsgtAswuECBN+1MEQUTb8RABz7iMHADDTTIQIEML7zQQgsmdO21CVvHEEMC
CFDBxBJvLDCKPt5EQMMKcK/AggkslGD33XizwALcLLSwscQSbSwQjj7PRLDCCIgn
rvjijENw9hFtSNBOPoWzEMDlmGeu+eYPoHGEB20oMHnhJwhg+umop676AGh44AEa
CYyOQAAD1G777bjnHsLnH8DuTT3POCAAAcQXb/zxyINARAH/eB5BHCSE8EEB1Fdv
/fXXO2AEEQJtMAYRDXCggQYWlG/++eifXwERY2wwUBFigHHA/PTXb//984uRwUMC
YXCBAQAMoAAHOMALYOAhAQEAOw==

------------ufU1AayX7nQgaratz9kvQS
Content-Disposition: inline; filename=dab6a551-de84-3a3f-877a-b8afa9aa67d4.png
Content-Type: image/png; name=dab6a551-de84-3a3f-877a-b8afa9aa67d4.png
Content-Location: http://www.iteye.com/upload/logo/user/489640/dab6a551-de84-3a3f-877a-b8afa9aa67d4.png?1306636844
Content-Transfer-Encoding: Base64

/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAAMCAgICAgMCAgIDAwMDBAYEBAQEBAgG
BgUGCQgKCgkICQkKDA8MCgsOCwkJDRENDg8QEBEQCgwSExIQEw8QEBD/wAALCAB4
AHgBAREA/8QAHQAAAQQDAQEAAAAAAAAAAAAAAAEGBwgDBAUCCf/EADcQAAEDBAED
AgQFAgQHAAAAAAECAwQABQYRBxIhMQhBEyJRYRQyQnGBFSMJGDNSFyVDYoKRsf/a
AAgBAQAAPwD5VUUUUUUUUUUUUUUUUUUAE+KXpV27HvQEKVsgE6oCFHWknv4o6Va3
o0BKiQADs+KcV/4/zbFoMG6ZFi1yt0S5NpdhvSGFIQ+g+FJJ8g03vhr+Y9B+Xz9q
TpVrejqkIIOiKKKKKKVIJUAnzW0yhawYzbZW6pQCQBs/xXYu2G5RYoUe4XGxTIsW
VoNuOJ7KJrirUrqHboA+U/Y1i/MfJ1708+HbE1knJuN2mQhLjL1xYDyFDe0dY2P/
AFVyeVro56jMayvhuMyDf+Opzq7LHbICnYjY6UNJ/k1RGXAuVunPW+VEebksKLTz
SkHYWDpQP7GvDaUMbS4CFq/KpQ+X79qxrT8NCgOkk+djz9xWpRRRShCidAV6bT84
6tgVZX094njeFYLfOf8AO4SHoloUmHaoTv8A15Lif7bv3CVDuKdXDvNh58dvnEnK
79uaXkDazY3W4iW+icrshII8DX8VWLNcNu+CZPc8avjDrT9ukOMbWggO9KiNg+4N
N9tKlaCQe53od91PPpIw+XfeTl3l2A63FslveuK3lgoQFNAKA6j239qZV85IyK18
w3fkTFbg5Dnf1NcttxKj0nv4UP1D7VJtw9XMK/KbnZHx3b5NwIAkSGmkNhwjyrQH
k05ZeHcW+qTEHrxxhZjYM9tLKnJNpBLiZyANlaT4T0gfzVVpUafapjsCa18N+P1N
uIUO6deRXNOtnQ0KKKVOuob8VtbaKS4k6UO3R9RUs8R+nfKuSm15DMkIseORhuVc
ZpDKen6NFXZZpyeorkLBjiWNcO8a3CROtuNMqalS1t9H4lzq2FEDsdVBdsucu0z4
tytUpbUyO4FtOjt8JY8EGrCW/wBUWIZZa27fzdxjb8nmxWw0xdFuFLqdfZPmtKVz
vwfb7wmTYvTpZHYzadNhctwEnXc6rWzn1WXa/Ye9g+D4dAwy3zVBcwQnCtTwHbRJ
Gx29qggqKWysLI32Cj5NSlwXwTe+XpU24vTWbXjFnQHrpcJCwhKG9+Eb7KVv2qS5
3qB414UU5YvTvjnVcW21R3sneCkSHNjSh8M7TryN/Sq3Xu8T8ivEm93N0Oypqy66
s9uo/WuSv8x/ekooG99qsdxTivEOF8URuZuSodwukmdcXbdAhMJStouoHVtwH2pq
cw+oXKOToLGOw4jVhxiISI9rhgoZP3I+vuaihLb7KUuKQsJcOwsjsofati3Ql3W5
x7RGCUqluhsdf6Sas7fOM/TTwiq3W3kSfkN4vkyE1MeagBC2W0rG/fvutOZw36du
REJu/HPJaMfLqSTGvj6WiDr2ArTw/wBIluyq5v20cyYc84yytaUMTduOLHgDt3qB
MqsT2M5JcsYfUh523SFRisd9kHXarZcv4XyHF4pxfjfh3FnZ+MXGG1LnS7e2VOyJ
C0BS23COxCVe1VWyfB80wxwsZVjVwtDpGkpkNFGx96b6EhQ7kkJG+/jf0rCo7UTr
X2pKKVCSpQSBsk+KsjwvnXFV+4sl8J8rPKtrLMpy4W66FWkR319iVa7karci4F6W
sWeYTcMxfzF5Tg+HHtjqkFSiflT3HudU4vWhJw1WF4Da7RiMfF7vEhLTItnQkSEA
q2C6U9idaNVfw51uLldqkvqAQ1MQVLPjW6mL1lQn4vJ9rddUPhybBCdQ4hPylKkk
gbqCfmWGypCAgnQIHerBekrj2VdMpufIN1dTa8cxuOt2VMe/IXkjqS0Puqod5Gvk
TIs9v1/ti0/hp01x1s/9pPms1m5N5FtaWrfYs0vbLbagGWGpawnq37AGrN8hXbK7
b6YpzfM0iC/kGTuMO2Zh1vc5lptXzkrPfRGjVOktvKSNJ+Te91gX+c999/NJRSpB
UoBPkntWyEOu9ZKhpCdL7e1WF9L2I47jsO8c75/GDloxZsKhxVo7THl7SnR9+lWj
UQ8j57f+R8tumZX6SXnp7/Vsn8qR2SAPbtqmqB1OdLSSCfygHwas3x9y3g/K+Kwe
Hec4aGpUc/DtWRjuuJ20hKkjuoDx3PvUU8lcOXjjHkaPhOQSEFqTJZDMpKgUrYcU
NL7ePlO6sF6g8RzDD8Gt3EPFOOPOYx8NE243GI4XDcnkjYWenunQJGqq7hGBX3Ns
4g4NbmlNTbhIEUJWnRQT9QfFWJv949MPCV5Ys0PAl5XkNnSkPyTLU0gS09lp6fB0
oVBHLfKd+5gzWVl9/cUn4gShqMlXyMoSNBKQOw7D2plBxCCAjYJPff6R9KwLIK1E
eCa80UqRs67/AMU+eJuNMi5Wy2NjNhYPw1qBmSF9mozXut1XhKe3k1JfqK5DssC0
2vhHjuQDj2LlZclJ7fipC/8AUB15AUDqoGGnAHiEqUkfP1HWzT24x4bzvlKU8cWg
oRHYBU7LkHoZRr6r8U97X6TOW1cg23D/AOnmQ1OWlxVziEuQ2kj5iVugaT2FZvVx
mdgyLkVqxYw+JMWxx2opmk91uoQErH7Ag6rvelnkPni75nacbxe/z3McgPIM1K2g
pllgEFXUog67fU00ct5Ad4/9T97zuwKjyjbr+4+lKVD4L6AfqPY/an/k0D0m8uz3
cxRlt6xe5zT8adAZipLQeUdrUkqOzsk1w8s9KsK446ct4Py1GVQ2Ulb0Nak/jhry
Qynvod6r3KhSo0t2LcY7zLzZPxUKRpSCPYj2rSV09R6SSPYmkrKWfAB+b3H0pxYD
gt85EyeFimOsKXMmOpQFEfK2kn8yvsKsJyTm2P8Ap3wmTwjxjKjTL9cWynI70wdu
aP5o4WO+kqHioJ4x45yflnLY2L4/EdkOvrK3nNbDaB3Won9tmpt9WPC3GPGmMYS7
x5cX5i34bn9RlrUFMuuhWvkI+ncVhwK+3mzekDIHLTcXYjjmQ/CUtpXSpSC13Tv6
VFlh9Q3MOP2STjtqzq6MQ5bfwlpS+RpP2re4T4anc0X+R+MvkW1W2ES/crhLUQhA
8nv9T3/mpC5K5sxnj7GTxJ6fXnocNI+Hd7zsCRNUOx6VjygjYNVukFbjq3HnCpTi
tlSj5+9bMa3yp0hm3wmlSpDqtNoZG1En2qzXAHCnJ3G9+h8h5bkLmBWmMhUh9Ulw
srkoA38L79Y7a+9Q3zfmdozvlDIcwxyELfBuEkuNsa6SRrXgex1UcqPUd6A37Ckr
MV76lr/OfpVxrHhUb0x+n+By7BIveQ8g20txXI43/TWHRrRHssEb3VYsUxDLeR8v
i2K1w5Uy6XqR0nqQraie5UVH+e5qwvK/Idn9PlqVwfxG0w3clMI/q97ACnluLHzN
trHzJ0SQabfPj8i28K8WWCQy4JD1vfeeW4rZUfib39vNa7s52F6OlsRUpS3IypIV
8vzH+19aryNoO/cVOXpi5Iw/Fp93w/Pw43ZMmbDT8hKtfBUAelR+2zTtX6Nm79fG
4fHHKFqyBua51RiyyU+T2B2fvUF8h4LeeO8yuGI39KRPtzymXOkhSSoH21Vg8Zas
vpg4lt3IF2x9mZnmRrWmHHlJStMNnW0PFB9lA9qgDL+S86z6XJm5Jkk2Ul5fUYxe
V8FP2CCdDVNcFRJCElR13B9hWsdbOvFFZRoJRvuD5qW+M/UNlnHVqfxZ1wXWwP7X
+CkJCwlXj5Sd9I/and/nFyG02uXDw3GIFllSmyyZSEJUtKfsSOx+4qEoL8q5ZPb5
1yfL78y4treWtXUVFTg3/wDam71nSnf+IsOyFpUe22uGhEFCRsaUhJIH81gukeUx
6PY7riSlK8pQsdQ0R/b9h7iq9rP6vJPvXtgBSw2nqJV2Ghsk/QCrU4JB/wAunC0n
lW+l5GW5Cj8LZYTjqgpqK4NLdKf0kHRGxUGcb3i0XDlqyXnkSU5KtzlxS7cHHSVF
xO++6sXzLxxZ+XcxOVSeWIyoaGUR4bRShIZjoGm0hO/IHamRG9M3H7DinrnzAzHi
pG1OoaSoj/x3XMl8Y+miA8Ya+crg8Un8wtJ0T9N12LX6YuNs3h6415dZudxUr5Y0
xpMYE/7dqNRLyxxDlnDOVvYRnMJES8oabf8AhIcC0fCWNoUFDsdimUghJKwAQf00
iQoBRCuknyDSK2Ug9QKR7V7jSVx5LUlpIC2VpcT+4OxVrpt64n9SOH2JWWZOvHMy
sjQiPKBSliXs/wCotSvcAAU3vU3lWHWnEsa4nwm/G7MWxhDs95BCmlyRsEgjz2qu
oKVuJITvWux/KKtnxFwTZsF4zHON8tsPOLi4eu1WSAfxAbUD3U8E9067EVB/LeZ8
j8mZRJvOXQJjSgrpjwVNkIjo/wBqR/FNK14dld5lCFa8cuM1zXZDLBUr9xqpBtnp
q5ducP8AFv2V62+wTOK2jr7bruQvSPyTMj9cnJscg7/TIuPQpf8ABpXfSVk8RH/M
uRcLYJ/KhV0G6dXGPBuGccXYZ7ylyDj8yBYj+Mbg22eHXJix4bKfp+1Q7zpy3eub
uQpua3dXQFJTDiI9kRm+zaf4Tqo4BIOwaCSo7J2aNmjZopQpQGgTrzShaxsBR+bs
fvTz4+5bzzjaa3Jxe+SGWkK2qKVn4Tn2Kfep+Z/xCc4Yitx5vDfG0x1A0ZEqz9bi
vuTutO+/4gPIl1ta7fa+N8EsLqx0iZa7Z8F5P7KBqErzzTyrfJC37lnt4e6yT0/i
VdKf2FcCZmmVzlhcvIZ7xT4K3iSK50u5XCcsOTJbryx7rUSa11OLVrqUTr6mkKlE
dJJ0Pakoooooor0g632Ne+tJG+hRP1JpOrXcLG/pqhSuryofsBqvC9dXYa+1JRRX
/9k=

------------ufU1AayX7nQgaratz9kvQS
Content-Disposition: inline; filename=icon_minigender_1.gif
Content-Type: image/gif; name=icon_minigender_1.gif
Content-Location: http://www.iteye.com/images/icon_minigender_1.gif?1308833136
Content-Transfer-Encoding: Base64

R0lGODlhCwALALMAADFjdCt4kTKOrjikyGWarFexz2vQ8YGXnoKcpZKxu7S5u4m0
wqC9xp/O3sDAwAAAACH5BAEAAA4ALAAAAAALAAsAAAQ80EnZamWTml1WdgyzCcTn
NItAno1RLcQSEFVRbGUiIE0BEIOBIGMIKE6FAHHg6SknjMGNADh8FsKANRMBADs=

------------ufU1AayX7nQgaratz9kvQS
Content-Disposition: inline; filename=offline.gif
Content-Type: image/gif; name=offline.gif
Content-Location: http://jasongreen.iteye.com/images/status/offline.gif
Content-Transfer-Encoding: Base64

R0lGODlhWQAaAMQAAGZmZu/v76WlpZmZmcXFxXx8fP///7W1td3d3ff394yMjK2t
rb29vczMzIWFhZmZmeXl5dbW1v///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAACH5BAEHABIALAAAAABZABoAAAX/oCSOZGmeaKqubOu+cCzP
dG3fIyIMRID/wFFjNygeIAFdcclsOp/QqFQqaKgEhQLzEOgmENOweEzOLkwIhQJh
aAd4iIa8MRAk2vi8fs/v+/9+DWo+Iw52eWACB4sLAg4DAYCSk5SUbwpCDnsBRAI7
DoZ3laOkowkOCCILA3wEq00NfgAGs7N8ALi4e7Z/vHq8tXoNDiJFfAkMDAQEDAcM
u7ltttPRwNK52NXZ2XjWtHnDIp57CXQCyTsCPbfSu93fvu19wcHv09d44RKeCf39
EAc8EQFVZwEEf9uy9QOAMAFDhv4cLozYUKJFiw9zUdTHzx+EZgtCehqgRkDIgxEh
/0JEqPHhxYsrU0p0uRBXRZv9ONrxR+BAyJ+eFDhQ4PMAxYwTk858uTImS4U3sW0k
tm9nuSILfAoUINTQDgJPl1Zc2jSjVIovJ+JUGVGnP5IDgI7sWkeNQ5ppY+Ldizbh
Wr1p3faD+xMoyQIKFtiNmlQj2bFOMapN2VSp4KtbCx8ewEBABMpskTaGObahQpVl
xZaj6qlLlwhbnS0LaPIAAte5XHfBpZv3bt8B/ALYrft3ceDBh3fRt6o4AgZZCURA
EIGZstvFs2vfzr279+36hmlH4ErggQZIvqtfz947A1QjFHhGQL++/fv48+vfz7+/
/+dFkBCAGgskY+CBCCao4CeCDDbo4IOKKUAICQdkoQAZGGao4RMKZHGACgg0suGI
JIaxQColhAAAOw==

------------ufU1AayX7nQgaratz9kvQS
Content-Disposition: inline; filename=user-logo-thumb.gif
Content-Type: image/gif; name=user-logo-thumb.gif
Content-Location: http://www.iteye.com/images/user-logo-thumb.gif?1308833137
Content-Transfer-Encoding: Base64

R0lGODlhMAAwAMQAAOXl5eTk5Pv7++np6efn5/Pz8+bm5vz8/PHx8evr6+jo6PLy
8vj4+O/v7/r6+vn5+e3t7f39/fT09P7+/vf39/X19fb29uzs7PDw8O7u7urq6v//
/+Pj4wAAAAAAAAAAACH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78i
IGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxu
czp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS4w
LWMwNjAgNjEuMTM0Nzc3LCAyMDEwLzAyLzEyLTE3OjMyOjAwICAgICAgICAiPiA8
cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjIt
cmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4
bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnht
cE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJl
Zj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVm
IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3Mi
IHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MkIzMkFGRUQ1QUFEMTFFMDk2MEJE
RjMwQTkyQzUyNDYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MkIzMkFGRUU1
QUFEMTFFMDk2MEJERjMwQTkyQzUyNDYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RS
ZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoyQjMyQUZFQjVBQUQxMUUwOTYwQkRGMzBB
OTJDNTI0NiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoyQjMyQUZFQzVBQUQx
MUUwOTYwQkRGMzBBOTJDNTI0NiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6
UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf2
9fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV1NPS0dDPzs3My8rJyMfG
xcTDwsHAv769vLu6ubi3trW0s7KxsK+urayrqqmop6alpKOioaCfnp2cm5qZmJeW
lZSTkpGQj46NjIuKiYiHhoWEg4KBgH9+fXx7enl4d3Z1dHNycXBvbm1sa2ppaGdm
ZWRjYmFgX15dXFtaWVhXVlVUU1JRUE9OTUxLSklIR0ZFRENCQUA/Pj08Ozo5ODc2
NTQzMjEwLy4tLCsqKSgnJiUkIyIhIB8eHRwbGhkYFxYVFBMSERAPDg0MCwoJCAcG
BQQDAgEAACH5BAAAAAAALAAAAAAwADAAAAX/ICeOZGmeaKqubOu+cCzPdG3feK7v
fO//wKBwSCwafQSL4lgiPBgZJknCYBQCUtEFUZAkEgTCd5xYigAEgygwGJg5gIFG
DQ+vAobDBoHY+P8FHAQSBxERDAkcDBsRZhR+CgAFhREPECoAAhsYGH9/CAaanhsQ
Cn4UHBB+CwEPo3spmXtxqhsLCgaPGwIFuhMGC34NDhsHAQV+BwUWE34aKLILIqYb
UdQPBg0LFX4IAXp/EAERxQQQBcgbFdCa0hwDwql+EATdDhESHBl/DO/dAX4KMIiA
6kQ0EfA2NOBwQVgrBwMAGAAgYtGEAf42BLIgIAEeigbbIYxHoNkBjHSmZ2xwcEZP
hEQpY4nMuJADtw0THgi4UELCSiwc+vh54ADDCgB63CWsCWDRnwMgRXATADSABU8T
CGCy4KCmAqI81zRgIOBBgahBHVQAKgICBQFqtWaZS7eu3bt48+rdy7ev37+AAwuW
EQIAOw==

------------ufU1AayX7nQgaratz9kvQS
Content-Disposition: inline; filename=776e6ca2-44df-3689-bd9a-1653570c6190-thumb.jpg
Content-Type: image/jpeg; name=776e6ca2-44df-3689-bd9a-1653570c6190-thumb.jpg
Content-Location: http://www.iteye.com/upload/logo/user/437467/776e6ca2-44df-3689-bd9a-1653570c6190-thumb.jpg?1300255725
Content-Transfer-Encoding: Base64

/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkS
Ew8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJ
CQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIy
MjIyMjIyMjIyMjIyMjL/wAARCAAwADADASIAAhEBAxEB/8QAGwAAAQUBAQAAAAAA
AAAAAAAAAgABAwQFBgf/xAAvEAACAgAFAwIEBQUAAAAAAAABAgMRAAQSITEFE0Ei
UQYyYXEUgZGh0SNyweHw/8QAFwEBAQEBAAAAAAAAAAAAAAAAAAEDAv/EABcRAQAD
AAAAAAAAAAAAAAAAAAABAhH/2gAMAwEAAhEDEQA/APZwSo9dVfLnf9MGj6hdsQPL
ekfpilrEanuFYCaqzqY4MSlgCUFiyGmYD86xnjpdDGiOf7BVYcNQPg3Xp3OKwlLn
SUkLAAUuy4LWUABbTfCRiz+uILBbTzsPBbc4RthZHG9vxiJOSCoQni29RwKMWBbS
yHw8p/xgMpWzCoGaOLKIq13JDret6/68Ecwk9SRZXuhdjNKNCV7784BNPZMkCdyz
TPmDtY3Db/f9hhTRNLFrnkkzIJrsxHSu/wC5H+sdDkvjPq3Xct1LJL0mYZh4Ynml
ggvRpqqceQNiPONH4f8AjfpfXFjy+Wz0OUm7au8bAhmYj1aSeaNg1xjS6n0mLqOU
SOYrkY7YEIRqZdvI/fHJ5f4DPS5/xfRgZ9TrTZpbUAtTEr59O+1cD8pjSs0mMs9C
LNFNaQhQrANNO3zeKHnAibLzzkxiXNkkXp+Rfz4OKeQy8uRyC5afNS9SkHokXVsA
SSKBJJqwOSdsTyieWMrnJEyuXqu2lWfbf+PIwZgnEQbVOzkkV2gbG/NfT+MSBHKI
YqgjHzKV3rAxEmJeytsorU61YwRULtM7SswrQBsd/bFDBY1cGON8xIRYZuB7fbE0
id19M0jEUWEa+R9ffCRpjt2u3FpO45GAjKIQYY2kkIvWcBJEH0aYIxBGOGI3r7YW
lY3/AKcTSykg623BHveCBZGDzyc7UON/fDpIxUoFEKgUPofpiD//2Q==

------------ufU1AayX7nQgaratz9kvQS
Content-Disposition: inline; filename=407a8371-56b4-3e65-a5bd-b8b612545bb1-thumb.png
Content-Type: image/png; name=407a8371-56b4-3e65-a5bd-b8b612545bb1-thumb.png
Content-Location: http://dl.iteye.com/upload/picture/pic/67788/407a8371-56b4-3e65-a5bd-b8b612545bb1-thumb.png
Content-Transfer-Encoding: Base64

iVBORw0KGgoAAAANSUhEUgAAAHgAAABaCAYAAABzAJLvAAAABmJLR0QAAAAAAAD5
Q7t/AAAACXBIWXMAAA50AAAOdAFrJLPWAAAACXZwQWcAAAB4AAAAWgCy94d7AAAk
vklEQVR42u2dWZBdx3mYv+6z3nXm3js7gMFGgAAlcRNJySSlmIptiYqqGFdSdpVT
SUqVSh5T0WOeXH7Im5/sl1TyYrtS5XJFUex40WKVLFa0ixFFCSQIEMQ2GAxmn7ue
tbvzcO49c+8swICUBA6NvwqYmXNOr3/33//e4otf/KIBIPsfIfJfAej1ekRRRKlU
wvM8jMnedrtdkiShVquNPJdSYts2+4IQ2b8+aK1RaYoBzFAfRL9LYmd5Y8CYkT4K
IfL2B3/vB8aYPd8PyidJglLqQHUdBhBf+9rXjJQSrQ1g8skSQiCE4O233+Y73/kO
r7zyCtPT01iWhVKK119/nddff51XXnmFRqOBZVkkScLY2BinTp1CSrl7EgGCAJpN
hDEjiD4w1GrIQmEXQof/3olEIQRa65FxDWDw3LKsPZsb1LvfojDG7DnWneUfFNiN
RoNGo8HGxga9Xg/IdqHruiilqNfrFAoF6vU6c3NzOI6DMYYbN27gui6VSoV6vY7v
+4RhiOu6SCkxxhBFEVJKKpUKruvSi2PMN7/J2O//fobg+wFjwHEI//APWfrIR3D6
SLVtmyRJ8nbX19eZnZ0lTVO01mitCcOQer2ej6/QXyCWZeUUqlarAeC6LmEYIoTA
siziOKbX61Gv14FshwMopUiShCAIqNVqOI7D2toaxWKRQqGAUgohBOVy+YFSAVtK
ied62Q5MU+hPmjEGpRRpmuYDMkCn0xl5niQJJv9pSNMUpRRhGBKGIUmSkCQJ1WqV
bhxTaLUQ77wDQ2TwwOC6rFy9yjcWF5mfm0MpRalUYnNzk/HxcVzXJYoiLMui0+mQ
pmne37m5OarVKr1ejzAM84UMkKYpq6ur2LaNEIIgCHAcJ1+oSinu3LmDbdtsbm5S
LpdxHIcwDPNF0Gw284XRarXQWlMul/F9H8dxHhyCl5eX884NSFgYhgRBgDGGIAjy
iVpZXqZQKNButwmCIN8dW5ub+eRWq1XGx8fziet2u/kgpePgnzgBL76YIfh+VrYx
YNtMPvoov378OI6UKKWYmppiaWmJer2O67o5uZ6amsp3OGSkOE3THDmDZ47j5MfO
AFmTk5NIKfPFOuArtNbUajVc1yVNU9I0pVgsorWmWCzm36VpipQSy7L2Jf2/KhBf
+tKXdtDKAXuTwfr6Buvraxw5coRSqZQvgtXVVVqtFidPnqRYLAEGY6BQ8JmYmMhq
GkKgGZy5aQpR9N477Ptg29sc2X3AXgzWMGM3eG/IpmD402GGb7ievXiB7Toe7PkL
YL/w4qfuPqECBFnHd3Kuo0theyrMYIb2rvEX0O0HP3G/fBDsliXMfY5dIMyDZvMe
wt5gFMQdsD1IY0CDWwZhH7wKYzj41w/hVwrp1i3aP/xvONOPoTorqPYS3tFnkF4V
hAQhMGmIsFxMEiL9MXTSA6MR0sY7/klSq/QQwR9UELaLXT+B9MoYFSPdEjrqZC+l
0yfeBt1dR0dt3NmPgYoxRgMCVIqw5eEh0UqpB640+JWDTsl4GgNGAyBsf+gDgVER
6BThZIzuTjgUCI7jmHa7/UDlycMKe5LoOFUEYYKUgpLvIuXBOd9UaeJEYTBIIfBd
+31rcowxeJ5HuVx+0PN16GBPBP/DT67y3//Pj5iqlfkv/+G3GCtnZEHuqY8FbTRS
SISAv/ne23z5H35OwXM5PlvjS7/zPCXfHSmj9UAnfPCOHnal/4OCPRH88UeP8M25
OqubXf7fpdt852c3UNrw8ifP8LN37/DSU6dYb/W4cmsdISRv31xhvOzzb19+mv/7
xnUEglc+9RiuY/EnX32df/7ied66sUovTCj6Dj+6eIuy7/JvPvcktUrhQc/Bhxr2
RPB42acbxJydn0BKge/Z/N33L1Epuvzk8iKObfGDCzf59JMnsa1sZ33l2xd46swc
N5e3aHVD/vZ7b/P558/x9R9eZrzk8fUfvcPJuQY/uXyL5z96nK+8eoGPPzrHi48f
f08dHzAOv8h9vV+de5otDwmMINgAaapZWm9xfWmDk7N1/vzv3+DkXB0BPHZikjvr
Lb7y7QucnZ/EsS2++doVZhplqqWMjG+2A/7T77zAx07PUCl6/O9X3+TPvvY6Lzx+
nCTVWEJQqxT4wgvnmJ8sg4r7MyiItMS2JNY9z/wUbQQGjcXBz3itNVJKtDKo5ib0
AoSQgMD0jdBaCixpYRyJMBJ8H3wXq6+5g4zpux/edD979V513O3dfiCl3JcBHUFw
ECX88Zd/wM/eXeLEbJ2jU2N89YeXmZ2oMl4pcO74JO/cWucHb97kd//px/jOGzdY
b3apljxOHWkQJopuGPPlb1/gB2/d4j/+y19jpl7m8s0Vfu83nuD7by7wxpUlljc6
TNSqTIaL8Po74Jcxts83to7w5KlJjk2N3WU4/f0UbqGiFrJ6fGRiBpMjsocjz4Ig
oFAsAobO//gLwh/+GDFeRoUxlpA4toPyLGQnxJ6bRT5yBuu5Z/BOnwA3m6per8el
S5f2ZPjSNCWKIhzHwXVdjDHEcUySJHiel5ta2+02SikqlUr+bNDHgRWsUqnc3XFi
aFylUom5ubk9F/pIDY4l+c1nT/NPnjzBo/MTeK7NI0fqFH2Xf/WbT3B8usbv/cYT
vPzJs5w50uDUbJ1PPXGCatmn2FygIFv88ZdeQRkoOBYCuL3e4vd+6ykeOdrg6NQY
509M0+yGnK7Z+CxDYx5mHkUIyaeVQ8G796C0EcTtJmm8gS4cIYxjir6HJSVKazaa
TXzPo1goggHbyhhArXXGFQoQzU10t4mouAij0FFE6EQY4eDfWEQkMXJqCtNskjSb
yMY4QmZWp1qthmVZrKys5FajOI6J45h3332Xc+fO5dartbU14jimVCoxPj5OFEU0
m02EENTrdY4ePUocx1y4cCG3TxtjmJyc5OTJkwfexfvBKIJti6fPzo188Oz5oyN/
T9fLTNez1TtVKzFVK2Uv/v4v4G/+kKmX/h382u/C9GmuL3d44YnT/PanzgHg24Jn
GiEEb8DtzUyvOnseClUA7rZvt5csJLHiZtsFe5xis8XV23dQChzXpReG2K4FWmMh
8ITk8XOP4HnbJEwYEMLDzM1gFavozSZqZgIrCLAcC158DtNLQCUIFaObW+hKEelv
M4StVoutrS0sy8L3fZrNJlLK3FkiDENarRZxHCOEIIoi2u02W1tb2LaN53l0u11W
VlYoFArcuXMHpRTj4+N4nkccx+8bubsQ/L5g8gQUxuB//gF847/CR17ixLkX+ffH
T8HC92DzNqxchdIYnPs0fOSz4Lw3DlopTWoJjLbxbUGl4OK5BQyGSsHFchx8x+kj
2fSpybZd0BhDNO4j7jgYbcCzkAJEuYyxBQoLRyjSVIPr409OID1/pA/T09NUq9Wc
9KZpimVZbGxsUK/XkVLS6/VGdni5XCZJktwhYGpqimq1ijGGz3zmM7ndPU3T3OT6
fuEXq8lqLcNb34Y3vg43L0DcA7cA1Qk4/Sw89QU48RRY96eRiqKINE0plTJqobUh
VSFaZQZ9LSys3C8qc8qTfZZII7BENkSlMzcdZQzp2jq61enL4waQCCRGAJZAOg44
LrLgIT0XrOzIabfbbGxscPHiRV599VVs20YpxZkzZ/Kz03EcVldXOXr0KMVikSee
eIJGo/ELm+b7gbvu4FSnLLeWKbpF2mEbIQRVv0on6lD2ykRphGu5BElAyS2hbA/x
1D/DeuKztLfuULE9oiSkUKrRAizLxg7bhGlI2S2jyRzetnpbNMoNqn71QJ2WUuDK
Auy5TsSITGMNngED5wpLCKzJCZh877skSRLa7TbVapVKpZIzU8YYHMdhbGyMKIpy
b5MPJIJX26v86ff/lMdmH+Pq6lUsadEoN7iycoXHZh+jFbaYrk5zdfUqHz3yUTa6
G6QqZXpshhvrN3ju5HN869K3ePbEs2x016n4Fdphm8XNRc5MnWG1s8pMdYZu3OVp
7+kDI/hBgzGGp59+GsuykFKyvLzMyy+/TKlU4s0330Qpxe3btzl27Bif//zncV33
/Tf6HuGuCPZsj48d+RgnGifwHR9tNFOVKap+lVqxxnR1mvHiOAWnwHx9nqPjRxFC
IKVkbmyWeqnOR2Yfo16sUXB8XMvFEtk2qpUyL0bP8QjTkDAJH9gk3C8IIWi321y9
ehWAy5cv8/nPf55iscjVq1dRSrGwsIDrujz33HMPtq/3OoPz10M+SwORf2fRgRw2
0E3n8t1eZiwEyqjMHQiDIFMw7AVRFJEkyQfC2NBut1lbW+PEiRP0ej2CIKDVajE/
P49lWayuruYep+VymWr1wVKlQ2EuHEQb+L7//it7n9Dr9Wi1WszMzDzorhwIRhB8
baXFa1eWR78wuSZxoCO4t2LW7HYV20+b2OxEBFGyy4FvUF70G66WfYqesyc12LlE
D6S5NKO/3s+4GIrK+GW1lUXomBHnxvfS1sgZfGutzd++dn1koioFFykEYZziuzap
0nTCJP/GkpnZL1XbNZc8m6LnECYKIcCWgnaQkKi+VwLg2JIk1SysNNlsh1hSUilm
6r1UaXzXJoxTumGCEIIjkxUmx0tgDKnebst3LPy+GtG2BNrAVidCD0JOhtoaNiaU
fKev3TIUPJtumBLEaV6vbQmMyUSrfFy+TcGxSbVBCtAG2kGcfyNEpg0caUtAyXNy
ZJU8m1aQ3LOt8ZJHveyx0YlIUoVjWzR70Yib7862pBRUCg5GZ8di0XNGEZydg2Ko
YcmnHzuC71q8cX2NT5yd4fV3V7h4a6OvQB8sANjqxtmEGcPZuRqfefwor19b5Wi9
jOtYfOX7V/JvhBBMVAusNgMsmRkXip7Nyx8/QZwqelHK9HiR195Z5uLCesa4CUG1
4GCA5lBb54/WOX+szlorYKzoESYp33xjgTjNIidkv62VZpDzBI4lef7cLK5tobSm
WnT58ZUVri8383FVCy7aQKu33dbHT03xwvk5Lt7aoODabHUjXn1zMVvII231ckTY
UvLkyUksKSi4Ns+fm+Wvf3yN195dRg7aKnporWn1ku22Tk/xmceP8u2f36LZiym4
Nt+/tJQvAilH2zJApeDw2SePE8Qp1YLL6dmx3Vz0MGnVxtCLElKtSVLNVjci7q+Y
wTep0rscAcJE0QlT4kRzZ6tHyXdGdh3GEKeZ18fgaaKyen3HZrUZ4Ls2Rc+GbR0U
qdpNoKNUsbjeyRHajVKUNnkfDfTfbZeMlebS4iaNio/rWGx0IjpBzDDdTNRuH+St
XszNtTYrzYCxoksQK9I+VWKorQFysxoM7SDOrWRr7ZBYqZGJTpXuB/9tQzuIub3R
pR0krLVCdJ9ybTvfj7aFyahRlCrCRBGnIYnSo2fwdy8u8mffeitvWPR38fD5aEzW
oeFvGHqPyXaIbUvSVKONQUqBUiYjm0PljIHba222OiFSCFzHwpaCONVYsq9S7CNu
rlFhvFJghCc3YFkCo7OflhRobYhTPXLG7XLQN9luE33fctey8kV8t3FZlsi5frsf
t3TXtky202wr+9aS2RGSaeLuMYd2ZjpNVTaHDEj4XcoIAZ5jZTjSGrnT8f3O2gaX
ry2MnP97sdgH4EX24LL2LhcnauTs2c+47thW7lywq60dfxyEGdlVThxwXPfZ1shc
HLCdPedw5Ndd6N1RRmS+05gdYlISYrTe1WsxWOp7haWoFKTsVzhSKh/MrjK6H1ko
txWJA3Im83r6T3NZGlAJSHvUzotBIHd0eWBgv3s/t8NxssNioIS5+9hELlEYBkzj
HigzOhvnkN7dYFBaZ44KwkIIgdIqb1swGrucObylo3UYQ6RCpLBwLAdjNHK43wMq
6WQi5Y4zWCBcf2RAG8EGm+EmruWijaHm16h6le0iaZwhqo8sbTRXNq7QjtuUnBKp
TpmtzNIoDOliVZ8LH+r45fVLbIVbzI/Ns9ZbZ9wbo1FsUHSL22s2EWC7ef9SnfLa
7dcY98fZDDepemOMe2PEOmaiOEHF3dlPmS2QPnz9yte42bzJ/Ng817eu8/KZlzk+
dnzfsRkMF1Yu0Ik7NAqNfIzaaE6Mn6DoFEcXsUrB8fJH6701fnz7NdZ7a2ijOVU7
xUJrgcniJIvtRY5Wj/KZk5/ZXjDGQBrlyAJY6S7zV2//FSdrJ4lVNs7njjw3VEZn
/e7P0V1VlUorbrdvc6N5I4tkF5KTtVNUvXP7lpFC0k16tKIWt1q3cg3VCIL3aStW
MRdX36YVNfFsj2dmnxmdtJ1ljMKzPVpRi8XWIkEhYKm9hBBgCXsUwXtAM2qy3F1m
zB+nHXew7xH3IxCs9dZY6tyhHbVxLIcgCWjHHTzb51Tt5N67uQ+bwSYLzZu04zbG
GGqFOs2ohW/7BGmIzuSbu9JwpbOw2yiNsKRFkGRhvPtpAXeR6Oxphn2DIUzDHHEZ
o2DhyCEzjkqy74caUEb1D/oUg8aW9mgZ3ZcBh3aTMqrPhUb530WnmHV8MOg0znZ9
7rcEGk2URpkVx7LRWiGlhSWs0bIqzcrlzwRhEtBLumhjUEYx7o3j2d7o2KSEIRKY
6IREJSijsaUFCLTJoi5Kbml0J+0g0VEaEaqQRCVoo1FG40gb13L7jJtN0SmO7mCV
ZFSrD7GKWemu4Ns+Za+CADxrqM+Do6m/60cRbHQ/RGLnyT7MG4rtSnas7+0Dd48l
uJ+rYr95baAXxdvNm7112IN3O53TBtzt/UAmX0t8z87syXuO614D2Tmog5QVdyl3
gDryTDlm7zJC7kOihaSXaMIkxbUtulF2Vqb9BC2ubbHZjZgdK1LxR42xYaLYCmIa
JS/zzlSagmODgCTVLLcDUq1zMaZacEiUYXasgGdbLK03+cHPLzFe8jAmy5WhtR5J
mpKmad8FRhLHWaqGYnF/Er7fBKVJTBB0UGlKM0h46flPMN+oHi7f2AP2ddehc3ur
x7X1FuMFjysrTWbGirx9ZwtjDJ84Nc1Pbq7xyhPHqfgOSZKQpikF32e5HfDOcpPJ
is9mNyJWmomyj9KGZhDz04U1unHKeMGj4FokfZXnF194lKlKgShOODXbwAo7hFHE
bKPOnaUlKpUKlWqVNE25dWuBiz99g7GxKp1Ol9OnT/PrLz5733MTBl2+/91Xabea
1Iv1D3VQ2y4EK6NZ2OjSKyvCVHF7qwtkioF2GFP1HYI4E3MGO8r3vczfueSx0g4I
E4VjSW5udJBC5JolKQQTZZ+tIEIKwVjBpTekkwVwHIdKtcrVq+9idObqunj7dpZB
Z22N1ZUV0iRhemb6fW643fm2Poywy1wYJCm9KEtMlmleTF8+yzQwUgp8x8rI7xAk
StOLU4IkxbOtvhWI/MzUxuTyY6ozB/jhuhbWtriyuMyxqTpKaTY21hkbG0MIiVIp
lmUTxxFhGOYJUbQ29+2cJoRgc3ODi29dIIljnNI4n37+kxmJ/hDCB8YenGpNs5dx
0PvnSNtWMgze79ThHgxMVk5k0sFY0cOx5Huo54MPHxgEP4RfDhzIL1p1VtDBJkgb
tbWAM3kWq5o5yKdakyhDmKSEiaJe8jIDgxB4dl8DZAybvRjHkiM7xQCeLXNrVDOI
SbXGGOjGKZNln6L7MMvE+4EDzV58+6cka5exSpN0fvrnlJ/+15Q+9i8AuLne4c2l
TYJYoYxmulIgVpp6yeOZ45NIIdgKYl69vETBtejFKVXfJUoVlhQ8dWyC6WoBAyxs
dlja6rHejbCk4KVH5x4i+H3CAaKbFMJykIVxhFPEP/EC9vix7ddkRu3xooVtydxc
6FpWrvMwZtuM5Ts2ri0JEzXiapOZMzLGa268SDOIc1PhQ3jvcLAz2OihEpkZaiBp
m77GaS+/qAHpNYx6YA4zSQOfI8g47Z0phR9G9r8/2IVgYwyJHmR2uXcFUoo9OdBk
Dy+FfTshwLGs95Rd+CHcHUZIdKI0C2tN1jY2cF2XaqXKbqPytiI8U0kq6iWfqbFS
/z3c2ezQCbtkFNtC9K00w3bvYQu4UhrXFsxPjO2ZB+Qh3B8M8ljDDgSvtnuoOMC0
1lja2GDumWe53U3wbYuNbuZW80RhFVvHWX4mu0BYOcn1zRa1cgHHkrSDmCDqcpwf
IPDQsszFzml6cUKqNLebPX79mEej9y66NA1CYiyXd4Mxml2PWvnDlbPDGMNSK8i9
VtphTMl10MZQ9h2COMWxZJafWgpSpRkvuNzY6KCNoeI5yL4rUpAofMeiHSbESlF0
bE5OVHBta1ebkB1vIwiOEsXm6gq9XhelEpZXVnh9OaTk2ay2A3zb4mzxp/jJFtqp
IHSMPuIQxTVSpXEsSZQqbGFQi6+ikhQ1/jHeXq+x1u7hWJJbWz0+XjRU118jqR5H
qAQ9fgplFwnihBofLgRrAz++toIBGmWfWxsdZN/v7OREhalKgTdurWd5JaUkVpon
jzb4y59eJ1HZN0GcIbYVxjRKPmGqiBJFL0757adOcKKxt907TdNRBBddh3Zq2Nzc
JIkjkJLHpitIAfNjHrYUNM3jdEkxlodIQzpdgbFNvopKnsPiWorlP49ltdDWCU7V
CxytOkSJ4tHJEsKN2Gh8Am0XMXaBVEOr2+PE3NSDxscvAcGGiu8QpRqlNSXPwbMt
DJln6VonJEwUBdfOXIKDmE6ccn5mnGYQMztWxJjMe9SzJZ5tUfEdpBCsdoLc13w/
GGGytDHcWm+xsr5JEIZ4nodtydyrT+efbp+fnmtzanaSSmHb6LzWDri93iJO4r4n
SJ9sGDPEcW87jlmW5MhEjZnah1MfPDC2bNuuRzmbnUmDxQ6fs/4ve3wskGJ3/rLs
DM4M67sQnHcGDsZFi93fDuwMB1WCCjFi+//wwf3yjaPc6PvyMRgh0a9dX+UnN1Z5
sEnoH0IOfcZL3YMMw+D+CbNLNB1BcCdKePfaCjeXNg6tgmEgxg2oihDmUDlqDINt
SSaqRe5sdkbGNhhfpv3LjrxGtUCcKtr9UJu8juEKhRD0opiNdnBo5dEZp4tCMun0
OO42eTOY4EY0NhQAc3jAsa3MTaodAHDG36RixWykPmUrYS0tcCcuZfeVWIIoUbS6
0f4IBnLn68O4gyWGx0rrpEZyxO3w2bFr/Mmqw/VonPtImPuBgcElcQN17vnSOqe9
Ld4KJjjrb3A5rHMnKSP6mX1F/m+7jj2DzzBk2WYOGUih2Up9JIY7cYn/tXGWa/3d
e+j2r9n+N4i+uBrUWIwqBNpGGcFSnCFXM3AIHcSHDEWI7qzXsy2KnoM4hEteYHMp
PZJNRyr6Rg1DyT98YwGDY1n9KMvMg/WqnsX0Y9auh9n5W/Qyt6qCZyP7mrCRa/2G
xaR/uHQbW6VUHWtkzQsh+3LVQ/hVwoDkdsN7Z71zbYsoTkh2mFh37GDDVNXjyNiO
yx+lzPI8PoRfKQggTDS98N6Cq5SCbk+Tjjqp7nEG94OzY2VIlKLsOlh9VnyQFlf2
ET58A9ggskAi0egRYd3k9qNsReo+NZBCjkQkDMoPj1AbnZczfQ/PQVaePfN19OsY
/mb4J/2kpIfhVM7mygxpELef7zLj9+OOh1NX7IlggWClHXLhnWtgu3z8zDyT1SKr
q6ssLCwwNzfHxYsXeeSRR6hP1FnoLCCFRBmFb/sstBaYLc/i2z62sPHtLD+WFJJO
3KGTdJgsTAKw3F1msbPIkfIRIhVRckrcat8i1jG2sGknbR6ffJylzhLL3WXmq/M0
4yaThUmWu8tMFCcQCBzLQWmFa2UxPFe3rtIoNFjuLjNZnKQTd/KFFaqQp6aeYqI4
cSgd3rXWrKws06g3cPZJsJZqQydKsaTYh4sGRNTBESWaQcTUWJFr167xrW99iyef
fJKvfvWrvPjiizz13FNcCi8Rq5jV3ioTxQm+t/g9Xpp/ianiFKEKubh2kVjHTJem
ubxxmfnqPIlKCNKAtWCNG60bvHDkBXpJj5Jb4oe3f8hGsEGtUOON5Tf4gxf/gO/e
+i6vr7zOFx75Aj9e+jGfO/k5/vKdv+Rs/SyRijhePY422a70LI8vX/oynzr6KW40
b3Cmdoafrf0sTwZ+besaf/Qbf8RUcQrF4XQJWl9bo1gs4Q5dzD0Mq92IK2tdmmGy
l0+Wod0LsYpVEgRjvgsGGo0G58+f58yZMziOw/T0NJVShbqoI5HU/BrHqsdoFBpU
3Sq+7TPlTOFbPp7l4VgOM8UZ6oU6m+EmNb9GJ+7QiltMFCYI0oCyW+Zo+ShrwRpT
pSk+e/KzFJwCn57/NM/MPsOp8VPMlGZ4tP4o9UKdslvmTucOVa/KuDfOUneJqeIU
db/OkcoRWnELW9icnzhPK24xWZxkK9xiqjh1KEj0XiCE4MjRY/lFoXtBnGpKrkXJ
tXZy0YvMFi2myx6pzs7igmvjWFk2mvy8HToDlFb9G1dEHvWnzCDDjczPQ8jI/yAB
qdwRaT88gGEYZM3bNdDhs9uYkT6N3gJqdsXsGmMOBYKFEISJoreDi97rDJZS0O0G
pOquXHQGlpRIsW3j3Y7HNSM/gXzyh98NpzrcjwzqfcSuvValPoCItvOK95GfhwCZ
9wP3wzuMInjAiWk9wrkNOOaH8KsHicFzsotD9od+/Fg/39Yw7Lp1JYoigmA3a/4Q
HgyIA+VY7Pun95OZD8OOTHfgeR6Fgj+C4D3lrofwSwchMtVjohT3QrIAkjS9+w5G
ZIe1zNMZkOd/VupwihSHGYQQaGWIkoMY/AXdXnRvJmsoK1X2W9/HVg5xpMPXve/K
hDqk8drHjQhjRv2IsuDw7YiHQbTETselQZzy8Kt/jEfJ/VDUA0d2XVlrU/UdmkHM
3FhxOyylH9jdDBNSZaj6DsvtYNc39APIg0RR8R3WOhGp1sSpxncsrm90qBc9ltsh
U2WfqYpHybVRxuBYkiBRtIKEK6ttiq5F0bVxLMmjU9UD3JT24QGtNYuLt5iZmcFx
7n1VwMHCR43h54ubdOKUhc0e01WfdphQ9pwsRMUYGiWPiZJHK0x4e7nFdMWnHY1+
M9+/Y+mZ+Qav3VzndrNHM0gYL7r81c8XePHUFNfXOzwyWSFMNTNVP7tAQ0qmyh6L
zYC//vktzk5XWe+EHKuV+M+/9VGK0vqQCUL7gzGGMAj7V/LdGw6EYEmWW+OoYzFb
LaANlD0bz7Z4Z6XFVMXvp2KwODKeZeAx+TeSyyttpio+s9UCSmvaYcIjkxWenW/Q
iVMEUCu6zNdKNPtZX7UxHKsVWWlnERVF1+ZEo0zVdxgrOHSjFM+xtr06/5GAlJJj
8/MHuvYO2K3JmilaHKn6DDvnSSlJVRbPOzhjB+dqqjW2lP3IQIPV/13u8c0Ahs/y
4bxXA+3TIJ+H6CN6OEpxZ6LUDzN3v58ma4/8uQfXZIn9Kugnr4admiyxbaIa+l3v
880Adjp079I+DZkZh8t+eNF5P7DPLOzBiuxORtq/f29YTDqMDngfBhBCYFngHIAc
SylwHWfoBrgMdnl0GK1HVJUDOfihR8evHoQQKKVI0vSewQ2WlCRJml3pI+7idHd3
OZjtfMSQn6PDrpoD0ioR7Mh6OQLbC2ikuV0xO4Nnuw+NA0zQXcq8l/oeJIzMyx5y
cBbzZbZx1IcDy8ELW11sKSm5NqnWqCGZdrkV0IsVidZUPIfJssdSK8jFporv0Aqz
+OCy52DLjCsXQC9JcyYNoOjaSNHPEGCyn0XXIogVJc8eMRPK/kD1Pnm1gn7GPVuK
7Ryp/bHHSlNwDl+QjtaKjfUNxmu1A3HSB0KwNoYfXV+nE6dIAQubPSYrPkfHCkyW
fb7yxk02ejFv3WkyXfH57Pk5bm31GC+4/N2bi3zusTlubHTpRAmTZR/XlnzxE6eJ
leZOK+DKajsjMyLLfDc3VmCq7OM5Fu+stqgVXN6602Sy7JNozXIr5MhYgcdmxvj2
lWVsKVHaUPLsPIDOEoJWlPDc8Qm2gphWmPRFLjjVqHB2qkLRLRyqgDchBFEYceHC
z/n4M89QrY7dU4o44A4WjBUcGiWPXpJyZDyLWbVldg/Q2akqUgh+7eQkriU5VitS
9mwmSh7NIKbk2vz248doRwlRqtgKEhxLUHQdCo6F71hIIUiU5uZml5JnY0mBa0lO
1stUfAdbSpphTJDAbLXATLXARhD3d6gENLPVAsvtAN+xqHoOx+slXEvi2ZJG0cWz
JK4tsS3BeME9XDSa7Lh0PY9Hz53D9wsHEhEPLAeHSZZqwMplUkOUamy57fE4eJen
lM47th1mKobeiWEZuD8ApU2eIxPIZe+BInv7XN4WpwbZeWwrS3wqhNju5w6eATLN
3GGQC35pHh17rQu3n0lnWCZ1h7LrDJC0VwViSNu0E/HZz+2HA73yth57uM69fTNk
P8B42IgxInfnIveoS+kHH/beoe/do4MsA7olrREx6aEc/GBgIAfbtnXPRSmExHUd
pJIj3+6Wg43pO4b3nww5ug9UlAMyq4ZUkoMdNFgYg4uncnJM5q87nCDtIdwdjDFo
ZQ4WAC4MSZqSpupuCB6QsdHMdVobvndttW8U8FjvRjj9iyAbJY/NXkzQP6PfWWkT
K8VUpcBaJ2SlE7LaiXjx1BS+I5muFHj6WP0QkckHB9nRZg5Eko0Ao82IHR7g/wNW
JnfDk9wMVAAAACV0RVh0Y3JlYXRlLWRhdGUAMjAxMC0wNy0yNVQwMjoxMjoxNCsw
MDowMGDbHKsAAAAldEVYdG1vZGlmeS1kYXRlADIwMTAtMDctMjVUMDI6MTI6MTQr
MDA6MDA/amqfAAAAGHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3NPsx9OAAAA
AElFTkSuQmCC

------------ufU1AayX7nQgaratz9kvQS
Content-Disposition: inline; filename=rss.png
Content-Type: image/png; name=rss.png
Content-Location: http://www.iteye.com/images/rss.png?1308833136
Content-Transfer-Encoding: Base64

iVBORw0KGgoAAAANSUhEUgAAAC4AAAAPCAMAAACslw2WAAAABGdBTUEAAK/INwWK
6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAABjUExURf+b
E+63jPHJqfyUB/z07/Orbd/f3+19BNOLTf6VMfiWTOx+I9djIu68fdV2RPfZxdZy
DuWTZvS0St+HH+Ocd++UD/6oGstKBfnk0uhZAuqhNfqHBv61JvxwAJ6enr9NAP//
/2tZP9MAAAE5SURBVHjadJLZrsMgDETZErI3bQlLXIL//yuvnaVqr9R5YEBzMHYU
gc/lraZGxOf6SxSLeR6VUo8Xqyk1zvPrlygW5TVSSYz7hbJh+chF27YAAmB3oFgU
vzaNjIij955x7/m6kd63kXcVnC78jvtl8Ys0zF+4cwbvIqKb7sql0+2Oi4VaqZbV
4EMwLgRiSBW6hNiklIbLrTjwGz2m9IhRX7iTxgzpxjNVOR9OQzCuNdjGYGUjroxr
zZ3iFLR2DBJ/OGjGASxAgxFGHBkHoGYUyqR1ToNDlfrTYccjoVTadijfONCo2ciu
U+jC5Tve00OW+ptPvLeMd2j6/fvJkC7vGc9UPee+y72sGM/ZhgCQQkjDNNGa8+WM
l0ybQ4Xxkn+JYlGXD20bfp3/adsE1tuH6Jf8Ov9T/SfAAOBZP2xmnGxUAAAAAElF
TkSuQmCC

------------ufU1AayX7nQgaratz9kvQS
Content-Disposition: inline; filename=rss_google.gif
Content-Type: image/gif; name=rss_google.gif
Content-Location: http://www.iteye.com/images/rss_google.gif?1308833136
Content-Transfer-Encoding: Base64

R0lGODlhaAARAMQfAIaGhtfX2NdIMUdRR16xY+bn6KPP/86yqyVRscqqGk102ZWm
zNzEXvb19S4uLunboHGKvxhL3+F+bsPK2enFv05tsvno4NXs1w0mmmNjY5ycnAAA
AAAAmQAzzP///////yH5BAEAAB8ALAAAAABoABEAAAX/4KeNZGmeaKqubOuun6h5
dG3feK7vfO//upGI1ikaj0egcsls3jSZWUdBVUSuWCyG4+zSGguEWLEIeC8EwoUH
lSqOmDgGzrUdHDkAwFbAMwsQFRMBARoIEA1daAQBiUFRHlNwHgZzRls3GQAzN3p8
GzYNGT6BhI4LBQVeaao7bZFvHXKUckWYNRMZEwM1ABsOG3sBA7+gNcQbM74OGa0e
BQhlN44SAhISFDQPCQwMDzQTCAoVCAWsDdXXT5AdEbY4lrc0GmYOiXdmmh4DwsY0
AcbweWCGK5qjG9cKHBAgwMI2CwESJHgwQUGBBRgGsZJwwEK1CTZetbNlwAClkvHq
/9AAtiGZB30e9EwwVsDfM2OePNzBVQERDgsCDpihYK1bIw/cIEAw07NBGqLXDhQ4
Oo+dO1lxaMWxpXIXDQCjYMr0U/MTDZgT/NAgB9JDAKUIAlxzZE2iIwYJ2DaIZo4A
hYQBnFWVcvVdJTo1YNYsoMHeSwB9+vFxoKpxAVF7Chq8LEaugGxED2xj4MFCggMV
yZVxSqBAtQM5RBbGuvVSnZoHHexBRvBAS2BmagDb3ZLXjQkVMIhBUAFAI4YMKTTC
K5FBgIrKIaQiMIAAUIbYQrKTQ758HJVemjQoMGhQ4H+EqE4lVKDn9QoLPFyg3yA+
VQ+veMDBgAQWWGB6CDoRzjp70AjmShScJCjhhOAwR8MCFQTHBhQyvODhhyCGqMcI
I7aQQQwfZKDiiiy26OKLMMYo44w01hhjDCEAADs=

------------ufU1AayX7nQgaratz9kvQS--
